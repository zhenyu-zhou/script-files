var __IntegralASDiagnosticCall = (function(code, err, config) {
	try {
		var alreadySent = false;
		return function(code, err, config) {
			try {
				if (!alreadySent) {
					alreadySent = true;
					if (config) {
						// cannot stringify DOM node due to parent-child relationship
						config.thisScriptNode = '';
					}
	
					var img = new Image();
					img.src = '//fw.adsafeprotected.com/jsdiagnostic' +
						'?code:' + code +
						'&err:' + encodeURIComponent(err.message) +
						'&config:' + encodeURIComponent(JSON.stringify(config));
				}
			} catch(err) {}
		};
	} catch(err) {
		return function(){};
	}
})();

try {
	var __IntegralASConfig = {
		jsDoSplit : "false",
		cocaPuffsPath : "",
		debug : "false",
		killPhrases : "",
		useAdTalk : "true",
		jsDiag:'true',
		version:'0',
		mtCell: 10,
		mtSample: 5,
		cookieDomain:'sc.iasds01.com/dtc',
		trackMouse : "true",
		exchList:{'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr'},
		protocol:'https',
		jsref : "",
		asid : "cfab84a9-c8fe-11e4-9568-0025903962f8",
		allowViewability : "true",
		jsFeatures : "mousetrack:0,cocoapuffs,viewabilityready,consecutive,cachebust:0,forcecocoa:0,rattie:0,exch,recordalternate:100,usedtdomain,nextcocoa:0,bapiDiag,cookie,postDts:0,unreliabilityDetection,videotwoseconds,getPl,decodePl,resolution,usetpl,usesca:1,tpiLookupURL,hundredpct,jloadDiag:0,cdnTest:1,blur:0,sendclogs,zeroPing",
		adTalkDtCall : "true",
		adsafeDomain : "adsafeprotected.com:80",
		minimizeCalls : "false",
		adWidth : "300",
		adHeight : "250",
		forceAppend : "false",
		requrl : "",
		reqquery : "",
		mode : "jss",
		adsafeSrc : "https://pixel.adsafeprotected.com/rfw/st/33642/3584127/skeleton.js",
		adsafeSep : "?",
		_onAPIResult : __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewMRC15 : __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onMeasurable : __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onSuspicious : __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC : __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onInViewMRC5 : __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		tpiLookupURL:"",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl : "https://pixel.adsafeprotected.com/rjss/st/33642/3584127/skeleton.js",
		accountForSadImps:'',
		sendCookie:'true',
		fwMonitoring:'true',
		cdnTestUrl: "//cdn.adsafeprotected.com/cdn-test.js",
		colloTestUrl: "//pixel.adsafeprotected.com/jload?campId=cdnTest&anId=100",
		doNothing: false,
		cdnTestEnabled: false,
		mn: "app11",
		cdnTestEnabled: false,
		mobOrTab: false,
		videoId : ''
	};

	if (__IntegralASConfig.jsFeatures.indexOf('asidJsDiagnostic') !== -1) {
		var fakeErr = { message: __IntegralASConfig.asid };
		__IntegralASDiagnosticCall('asid', fakeErr);
	}

	__IntegralASConfig.birthdate = new Date().getTime();
	__IntegralASConfig.thisScriptNode = (function() {
		var tempScript,
			embedded = window != top,
			scripts = document.getElementsByTagName('script'),
			result = scripts[scripts.length - 1],
			scriptIndex = scripts.length,
			useDocWrite = 'jss,jsi,jspix'.indexOf(__IntegralASConfig.mode) !== -1,
			scriptUrl = __IntegralASConfig.scriptUrl;

		try {
			while (--scriptIndex >= 0) {
				tempScript = scripts[scriptIndex];
				if (tempScript.src && tempScript.src.indexOf(scriptUrl) === 0 && tempScript.getAttribute('data-ias-script-tag') === null) {
					result = tempScript;
					tempScript.setAttribute('data-ias-script-tag', 'found');
					break;
				}
			}
			if (scriptIndex === 0 && useDocWrite && !embedded) {
				document.write('<span id="s' + __IntegralASConfig.asid + '"/>');
				result = document.getElementById('s' + __IntegralASConfig.asid).parentNode;
			}
		} catch(e) { }
	
		return result;
	}());

} catch(err) {
	__IntegralASConfig = {};
	__IntegralASDiagnosticCall('bootstrapper', err);
}

__IntegralASConfig.initialize=function(k){var w,Ma=function(){w=new S;var a=-1!==k.mode.indexOf("jsvid"),c=f.isDef(window.JSON)&&f.isDef(window.postMessage),c="true"===k.useAdTalk&&c,d,b,e,g,m=U(),h=new S,l=X(),q=Y(w),p=ga(h),u=new ha(h),B=ia(m),h=ja(),t=ka(),C=la(),A=ma(),A=na(p,A),D=oa(p),v=pa(p),z=qa(p),E=ra(),N=sa(z,p),H=ta(z),I=a?ua(t):{},s=a?va(k.videoId,m,w,t,I):{},a=wa(E,p,H,w,N,C,s),E=xa(a,p,B),F=ya(a,A,p,m,w,v,u,z,t,l,s,I),I=za(A,F,q),x=Aa(p,m,w,q),q=Ba(A,F,p,v,u),l=Ca(A,F),x=Da(x,A,m),
y=Ea(z,F,p,m,H,w,v,N,u,I,C,B,E,t,s),B=Fa(A,p,m,v,x,u,z,y),t=Ga(w),C=Ha(w);F.setViewabilityMod(y);c&&(d=Ia(p));var z="0"!==z.getFlashVersion(),L,v=!y.useFlash();if(!function(){var b=!1,a,d;try{f.isDef(k)&&f.isDef(k.killPhrases)&&""!==k.killPhrases&&(a=k.adsafeSrc?k.adsafeSrc:k.requrl+k.reqquery,d=k.killPhrases.split(","),f(d).each(function(c,l){l=decodeURIComponent(d[c]).replace(/^\s+|\s+$/g,"");-1!==a.search(l)&&(b=!0)})),k.doNothing&&(b=!0)}catch(c){p.add(p.ERROR_KILL_IT)}return b}()){if(c)try{d.createAdProxy(k),
d.findFrames(),d.listen(),d.sendMessages(),u.addItem(d.getFrameStore(),"fm")}catch(J){p.add(p.ERROR_ADTALK_GENERAL)}var M;try{"true"!==k.minimizeCalls&&y.init();m.on("mousetrack")&&(g=Ja(a,u),g.init());M=h.detectTopURL();m.on("exch")&&(b=Ka(p,u),b.parse(M));if(m.on("getPl")&&navigator&&navigator.plugins){e=La(navigator.plugins);var K=e.hash();u.addItem({output:K.join(".")},"pl",{type:n.DT_CODES.ADTALK});if(m.on("decodePl")&&K.length){var Q=e.decode(K);u.addItem({output:Q.join(".")},"pd",{type:n.DT_CODES.ADTALK})}}var O=
D.getProps();f(O).each(function(b,a){u.addItem({output:a},b,{type:"UFO"})})}catch(P){p.add(p.ERROR_IMPRESSION_LEADUP)}F.sendCookie();B.send(M);m.on("cdnTest")&&k.cdnTestEnabled&&C.init();"true"===k.useViewabilityNotification&&k._onMeasurable&&(v||z)&&A.notify(k._onMeasurable);"http"===k.protocol&&"true"===k.getTpl&&m.on("usetpl")&&q.init();k.tpiLookupURL&&l.init(k.tpiLookupURL);"true"===k.adTalkDtCall&&"true"!==k.minimizeCalls&&(L=(new Date).getTime(),r.execAtEndOfThread(function(){r.execAtEndOfThread(function(){var b=
{output:(new Date).getTime()-L};u.addItem(b,"sinceFw",{type:n.DT_CODES.ADTALK});f.isDef(y.readyFired())&&u.addItem({output:y.readyFired()},"readyFired",{type:n.DT_CODES.ADTALK});F.send(n.DT_CODES.ADTALK)})}));m.on("usesca")&&t.load()}},f=function(a){var c=function(b){return a instanceof Object&&(b||!d())},d=function(){return a instanceof Array},b=function(b,d){if(a.length===+a.length)for(var c=0,e=a.length;c<e;++c)b(c,a[c]);else for(c in a)(a.hasOwnProperty(c)||d)&&b(c,a[c])},e=function(a,d){var c=
[];b(function(b,e){var g=a(b,e);if(void 0!==g||d)c[c.length]=g});return c},g=function(a,d){d=d||",";var c=[];b(function(b,d){var e=a(b,d);f.isDef(e)&&c.push(e)});return c.join(d)},m=function(b,a,d){for(var c in a)f.isDef(a[c])&&(d||a.hasOwnProperty(c))&&(b[c]=a[c]);return b},h=function(a){var d={};b(function(b,e){var g=a(b,e);c(g)&&m(d,g)});return d};return{each:b,isObj:c,isArray:d,invert:function(){return h(function(b,a){var d={};d[a]=b;return d})},mapToObj:h,map:e,keys:function(){var a=[];b(function(b){a.push(b)});
return a},toParams:function(b){return g(function(b,a){return"string"===typeof b&&-1!==b.indexOf("NULL")?a:b+":"+a},b)},stringify:g,toION:function(b,g){var p,h="[",m="]";g=g||0;b=b||{};if(4<++g)return"object";if(!c(!0))return a;d()?p=e(function(a,d){return f(d).toION(b,g)}):(h="{",m="}",p=e(function(a,d){return(b[a]||a)+":"+f(d).toION(b,g)}));return h+p.join(",")+m},compareTo:function(a){var d=!1;b(function(b,c){a[b]!==c&&(d||(d={}),d[b]=c)});return d},mixin:function(b,d,c){!0!==b?(c=d,d=m(a,b,c)):
(b=m({},a,c),d=m(b,d,c));return d},find:function(a){var d;b(function(b,c){a(b,c)&&(d=c)});return d},asStrings:function(){var a={};b(function(b,d){a[b]=""+d});return a},selectProperties:function(b){var d={};f(b).each(function(b,c){f.isDef(a[c])&&(d[c]=a[c])});return d},toArray:function(){return e(function(b,a){return a})}}};f.toBase=function(a,c){var d,b=0>a,e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g=[];a=b?-a:a;do d=a%c,g.push(e[d]),a=(a-d)/c;while(0<a);g=g.reverse().join("");
return b?"-"+g:g};f.isDef=function(a){return"undefined"!==typeof a};f.isUndef=function(a){return!f.isDef(a)};f.noop=function(){};f.identity=function(a){return a};f.isFunction=function(a){return"function"===typeof a};f.useIfDef=function(a){return f.isDef(a)?a:!1};f.stringifyTriState=function(a){return!0===a?1:!1===a?0:"na"};f.flatJSONParse=function(a){var c,d,b,e=/"(\w+)":(\d+|(?:"([^"]*)"))/g,g={};for(b=e.exec(a);b;)c=b[1],d=b[3],b=b[2],g[c]=d||+b,b=e.exec(a);return g};var Na=function(a,c,d,b,e,g){g=
g||b.parentNode||b.parent;var f=function(){var d=s.embedded?a.calcDims():c.calcDims(b,g);e===n.DETECTION_METHODS.SPAN&&d.disallowHiddenState();return d},h=function(){var b=f(),a=-1;b.hasValidDims()&&(a=d.calcPercentInView(y.calcWinDims(),b));return a},l=function(){return d.calcInitialViewState(h())},q=function(){return b===window?!1:f().isHidden()};(function(){var a=b===window?document.body:b;x.addEvent(a,"click",function(){w.trigger("adComponentClicked")});x.addEvent(a,"mouseover",function(){w.trigger("adComponentMousedOver")})})();
return{getAdNode:function(){return b},isNode:function(a){return b===a},isHidden:q,isObstructed:function(){return!1},getDims:f,getPercentInView:h,getLocationState:l,getOnPageViewability:function(){return q()?n.OUT_OF_VIEW:l()},getDetectionMethod:function(){return e},getContainerDims:function(){return Q(g).get()},refresh:function(){var a,d=b.parentNode;if(d){for(;b!==window&&d&&d!==document&&!a;)a=d===g,d=d.parentNode;a||(g=b.parentNode)}}}},Oa=function(a,c,d){var b=[],e=function(){return b[0]&&b[0].getDetectionMethod()===
n.DETECTION_METHODS.SPAN},g=function(l,g,f){l=Na(a,c,d,l,g,f);e()&&b.shift();b.push(l)},m=function(){var a=0,d=0;f(b).each(function(b,c){var e;e=c.getDims();e.hasValidDims()&&(e=e.getRounded(),e=e.width*e.height,a+=e,d+=c.getPercentInView()/100*e)});return r.round(d/a*100)},h=function(){return d.calcInitialViewState(m())},l=function(a){var d=-1;f(b).each(function(b,c){c.isNode(a)&&(d=b)});return d},q=function(a){return function(){return b[0]&&b[0][a]()}};w.on("adComponentAdded",function(b){f(b).each(function(b,
a){-1===l(a)&&g(a,n.DETECTION_METHODS.MUTATION)})});w.on("adComponentRemoved",function(a){f(a).each(function(a,d){var c=l(d);-1<c&&b.splice(c,1)})});return{getOriginatingNode:q("getAdNode"),getDims:q("getDims"),isObstructed:q("isObstructed"),getDetectionMethod:q("getDetectionMethod"),getContainerDims:q("getContainerDims"),getViewState:h,getPercentInView:m,isHidden:q("isHidden"),isUsingPlaceholder:e,hasAd:function(){return!!b.length},refresh:function(){f(b).each(function(b,a){a.refresh()})},addAdComponent:g,
getOutOfViewReasons:function(){var a=[],d=b[0],c=n.OUT_OF_VIEW_REASONS,e=h();e!==n.OUT_OF_VIEW&&e!==n.PARTIAL_VIEW_MINUS||a.push(c.GEOM);d.isHidden()&&a.push(c.HIDDEN);d.isObstructed()&&a.push(c.OBSTRUCTION);return a},getComponentCount:function(){return b.length}}},Pa=function(a){var c=!1;if(!f.isUndef(window.MutationObserver)){var d=new MutationObserver(function(b){r.execAtEndOfThread(function(){c&&f(b).each(function(b,a){a.addedNodes.length&&w.trigger("adComponentAdded",a.addedNodes);a.removedNodes.length&&
w.trigger("adComponentRemoved",a.removedNodes)})})}),b=function(){c=!0;setTimeout(function(){c=!1},40)};w.on("adComponentClicked",b);w.on("adComponentMousedOver",b);try{d.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(e){a.add(a.ERROR_AC_WATCHER)}}},X=function(){var a=[],c={},d={percentInView:"piv",sl:"vs",reason:"r",adDimensions:"ac",width:"w",height:"h"};w.on("newScreenEvent",function(b){b=f(b).selectProperties(f(d).keys());b=f(b).asStrings();var e=f(b).compareTo(c);
e&&(e.t=s.getTagTime(),a.push(e));f(c).mixin(b)});return{toString:function(){return f(a).toION(d)}}},Qa=function(a,c,d,b,e,g,m){var h;(function(){var l=d.getRounded(),g=l.width-5,f=l.height-5,u=0.5*l.width+1,l=0.5*l.height+1;h=[new a(c,g,f,e,m,b),new a(c,g,5,e,m,b),new a(c,5,f,e,m,b),new a(c,5,5,e,m,b),new a(c,u,l,e,m,b)]})();return{getNumInView:function(){var b=[],a=0;f(h).each(function(a,d){var c=d.isInView()?1:0;b.push(c)});g.addItem({output:b.join(".")},"pvs");f(b).each(function(b,d){a+=d});return a},
getPctInView:function(b){return 5===b?100:3<=b?51:0},isReady:function(){var b=!0;f(h).each(function(a,d){d.isNotReadyToReport()&&(b=!1)});return b}}},Ra=function(a,c,d,b,e,g,m,h){var l=new a(V,document.body,c,b,e,m,h),q,p,u=0;d=d||f.noop;q=setInterval(function(){l.isReady()&&!p?(p=!0,d(),clearInterval(q)):(5===++u||p)&&clearInterval(q)},50);return{checkViewable:function(){var b=l.isReady(),a=l.getNumInView(),a=l.getPctInView(a),c=g.calcInitialViewState(a,!0);b&&!p&&(p=!0,d());return{str:b?c:n.NA,
pct:b?a:-1}}}},ba=function(a,c,d,b,e,g,m){var h,l,q=c.getRounded(),p=[],u=!1,k=0,t=function(){var b;if(!u)for(u=!0,b=0;b<p.length;b++)if(p[b].isNotReadyToReport()){u=!1;break}return u},C=function(){var b=0,a=0;f(p).each(function(d,c){a+=c.weight;c.isInView()&&(b+=c.weight)});return r.round(b/a*100)};(function(){var d=Sa(q,1).get();f(d).each(function(d,c){var l=new a(document.body,c.x,c.y,b,e,g,m);l.weight=c.weight;p.push(l)})})();d=d||f.noop;h=setInterval(function(){t()&&!l?(l=!0,d(),clearInterval(h)):
(5===++k||l)&&clearInterval(h)},50);return{checkViewable:function(){var b=t(),a;b&&(a=50<=C()?n.IN_VIEW:n.OUT_OF_VIEW);b&&!l&&(l=!0,d());return{str:b?a:n.NA,pct:b?C():-1}}}},S=function(){var a={},c=function(d,b){a[d]=a[d]||new T;a[d].push(b)};return{on:function(a,b){b?c(a,b):f(a).each(c)},trigger:function(){var d,b=f(arguments).toArray();(d=a[b.shift()])&&d.run.apply({},b)}}},V=function(a,c,d,b,e,g,m){var h=b.on("nextcocoa"),l,q,p,u,B,t,C=function(b,a){return'<param name="'+b+'" value="'+a+'"/>'},
A=function(){var b;b=new R;var a=k.cocaPuffsPath;b.sub("static");b.master(b.master().split(":")[0]);a&&(b.master(a),b.sub(""));var a=b+(h?"/detector4.pix":"/detector3.pix"),d=C("allowscriptaccess","always"),c=C("movie",a)+C("play","true")+C("loop","true");g.browserIs("i")?(b=document.createElement("div"),b.innerHTML="<object "+('id="blag'+k.birthdate+'" ')+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '+(n.IAS_DETECTOR+'="true" ')+('type="'+n.FLASH_MIME+'" ')+('data="'+a+'" ')+">"+c+d+"</object>",
l=b.firstChild):(l=document.createElement("object"),l.data=a,l.type=n.FLASH_MIME,l.innerHTML=d,l[n.IAS_DETECTOR]="true");l.style.position="absolute";l.style.width="1px";l.style.opacity="0";l.style.height="0px";return l},D=function(b){b.style.height=p?"1px":"2px";p=!p;h||r.execAtEndOfThread(function(){if(z())try{q=b.isInView()}catch(a){v()}})},v=function(){t=!1;w.trigger("error",m.ERROR_COCOA_GONE)},z=function(){var b=h?"getId":"isInView";(b=t||l&&f.isFunction(l[b]))&&!u&&(t=!0,h&&(u=l.getId()));return b};
h&&x.addEvent(window,"message",function(b){b=f.flatJSONParse(b.data);"IASCOCOA"===b.type&&b.id===u&&(B=1===+b.isInView)});(function(b,a,d){var c=A(),l=c.style;l.left=a+"px";l.top=d+"px";b.appendChild(c);l.height="1px";e.onHiddenChange(function(b){b?l.height="0px":D(c)})})(a,c,d);return{isInView:function(){var b;if(z()){try{b=h?B:l.isInView()}catch(a){v()}g.browserIs("w")&&b!==q&&D(l)}return z()&&b},isNotReadyToReport:function(){return!z()},createdFlash:l}},ca=function(a){return{doEligibleJobs:function(c){var d=
a[0],b=d&&d.time;b&&c>=b&&(d.task(),a.shift())},getNextJob:function(){return a[0]}}},ha=function(a){var c=0,d={},b=function(b,a,d){if(f.isUndef(b.output))throw Error("item with id "+a+' must have "output" method');this.item=b;this.id=a||++c;this.props=d||{};this.output=function(){return f.isFunction(b.output)?b.output():b.output}},e=function(a,c,e){a=new b(a,c,e||{});d[a.id]=a};a.on("addOutputItem",function(b,a,d){e(b,a,d)});return{addItem:e,iterate:function(b){var a,c,e=[];for(a in d)d.hasOwnProperty(a)&&
(c=b(a,d[a]))&&e.push(c);return e},getItem:function(b){return d[b]}}},Sa=function(a,c){var d,b,e,g=a.width,f=a.height,h=[],l=g/(c+1),q=f/(c+1),p=1;if(0===g||0===f)h.push({x:1,y:1,weight:1});else for(e=q;e<f;e+=q,p++)b=l*p,b>g/2&&(b=g-b),d={x:r.floor(b),y:r.floor(e),weight:1},b={x:r.floor(g-b),y:r.floor(e),weight:1},d.x===b.x?(d.weight=2,d.x+=1,d.y+=1,h.push(d)):(h.push(d),h.push(b));return{get:function(){return h}}},T=function(){var a=[];return{push:function(c){a[a.length]=c},run:function(){var c=
arguments;f(a).each(function(a,b){b.apply({},c)})}}},xa=function(a,c,d){return{collect:function(){var b,e=a.find(),g=e.getOutOfViewReasons(),m=d.isHidden();try{b=y.calcWinDims()}catch(h){c.add(c.ERROR_GET_WIN_DIMENSIONS),b=-1}if(-1===b||!e.getDims().hasValidDims())return e=e.getDims().getRounded(),{viewState:n.NA,posViewState:n.NA,embedded:s.embedded,winDimensions:b,adDimensions:e};!0===m&&g.push(n.OUT_OF_VIEW_REASONS.FOCUS);return{winDimensions:b,adDimensions:e.getDims(),containerDimensions:e.getContainerDims(),
method:e.getDetectionMethod(),viewState:g.length?n.OUT_OF_VIEW:e.getViewState(),percentInView:e.getPercentInView(),reason:g.join("."),obstructed:f.stringifyTriState(e.isObstructed()),isHidden:f.stringifyTriState(e.isHidden()),tabHidden:f.stringifyTriState(m),posViewState:e.getViewState(),adCompCount:e.getComponentCount()}}}},Ta=function(a){a=a||f.identity;var c=[],d=r.now(),b=function(){var b=r.now();c.length&&(c[c.length-1].duration+=b-d,d=b)};return{clear:function(){b();c=[]},fastForward:b,get:function(){return c},
hasAlwaysBeen:function(b){return 1===c.length&&c[0].state===b},addState:function(d){var g=c[c.length-1];d=a(d);b();0!==c.length&&d===g.state||c.push({state:d,duration:0})}}},Ua=function(a){var c=a||1,d=0,b=0,e=0,g=0;return{start:function(){0===d%c&&(e=r.now())},stop:function(){0===d%c&&(g+=r.now()-e,b++);d++},getTime:function(){return g},getCount:function(){return b}}},da=function(a){var c=0,d=s.getTagTime(),b=0,e,g;return{getTotalTime:function(){return b},stop:function(){c=0;d=s.getTagTime()},mark:function(){e=
s.getTagTime()-d;c+=e;c>a&&(g=c-e<a,b+=g?c:e);d=s.getTagTime()}}},R=function(a){a=a||k.adsafeSrc||k.requrl;a=/^(http|https):\/\/(([^\/\.]*)\.([^\/]*))/.exec(a);var c=a[1],d=a[3],b=a[4],e,g,m=function(b){f.isDef(b)&&(d=b);return d},h=function(a){f.isDef(a)&&(b=a);return b},l=function(){var b="";f(g).each(function(a,d){b+="&"+a+"=";b=f(d).isObj()?b+("{"+f(d).toParams()+"}"):b+d});return"?"+b.substr(1)};return{fullDom:a[0],sub:m,master:h,setField:function(b,a){g=g||{};f(a).isObj()&&f.isDef(g[b])&&(a=
f(g[b]).mixin(!0,a));g[b]=a},path:function(b){e=b},_getQsParams:function(){return g},toString:function(){var b=m()?m()+".":"",a=e?"/"+e:"",d=g?l():"";return c+"://"+b+h()+a+d}}},Va=function(a,c){var d=!1,b=!1,e,g=function(){d||(d=!0,e=c.createViewabilityTracker("mpt",function(b){return b.isFullyInView()}))},m=function(b){if(!f.isUndef(b.eventData)){var a=-1;f.isDef(b.eventData.volume)?a=b.eventData.volume:f.isDef(b.eventData.adVolume)&&(a=b.eventData.adVolume);return a}},h=function(a){a=m(a);d||0!==
a?d&&(b||0===a)&&(a={isFullyInView:function(){return!1}},e.addState(a)):b=!0};return{init:function(){var b=function(b){h(b)};a.on({adStarted:g,adVideoStart:g,adVideoStarted:g,volumeChanged:b,adVolumeChange:b,adVideoMidpoint:function(){e&&e.hasAlwaysBeen(!0)&&a.trigger("sendDt",n.DT_CODES.QUARTILE_FULLY_INVIEW)}})}}},wa=function(a,c,d,b,e,g,f){var h=-1!==k.mode.indexOf("jsvid"),l=k.thisScriptNode.parentNode,q=Oa(e,a,d);Pa(c);return{find:function(){var b,a=n.DETECTION_METHODS,d=function(d){var c=y.findLargestChildNode(l);
1<y.getNodeArea(c)&&!c[n.IAS_DETECTOR]?q.addAdComponent(c,d||a.AD_HUNT,l):q.hasAd()||(b=y.getPlaceholderSpan(),l.insertBefore(b,k.thisScriptNode.nextSibling),q.addAdComponent(b,d||a.SPAN))};if(q.isUsingPlaceholder()||!q.hasAd())g.isMobileApp()?d(g.getDetectionMethod()):h?q.addAdComponent(f.findVideo(),a.VIDEO):s.embedded?q.addAdComponent(window,a.IFRAME):d();return q},getDetectionMethod:function(){},isAdDetected:function(){return!0!==q.isUsingPlaceholder()},getOriginatingElement:function(){return q.getOriginatingNode()},
getParent:function(){return l}}},Ia=function(a){var c=[],d=function(b){var a;b=b||k;b.reqquery?a=b.reqquery.split(/(?:anId=|anid=|ANID=)([^&]*)/)[1]:(a=b.adsafeSrc.split("/"),a=a[5]+"-"+a[6]);b={adId:a,adSafeId:b.asid};c.push(b);return b},b=function(){var b=[],a={},d={noMe:!0};return{addFrame:function(c){b.push(c);a[c.pageId]=c;c.isMe&&(d=c)},list:b,lookup:a,me:function(){return d},output:function(){var a,c,e,g,h=[];for(a=0;a<b.length;a++)if(e=b[a],e.isLeaf||e.isMe||f.isDef(e.selfDescription)){g=
"";for(c=0;c<e.position.length;c++)g+=(Number(e.position[c])+1).toString(36);g+=e.isMe?"*":"";g+=0!==e.adProxies.length?"."+e.adProxies[0].adId:"";h.push(g)}return f.toBase(d.unifiedId,62)+"+"+h.join("|")}}},b=new b,e=function(a,d){var e=a===window,g={position:d.slice(0),pageId:d.join("-"),domObj:function(){return a},isMe:e,isLeaf:!a.frames.length,adProxies:e?c:[],selfDescription:void 0,unifiedId:k.birthdate,toString:function(){return JSON.stringify(g)},addDescription:function(b){g.selfDescription=
b;g.adProxies=b.adProxies}};b.addFrame(g);return g},g;g=new function(){var b=function(a,d){var c=d.length,g=a.frames;if(!(new e(a,d)).isLeaf){for(var f=0;f<g.length;f++)d[c]=f,b(g[f],d);d.pop()}};return{start:function(){b(top,[0])}}};var m=function(b){var a={srcId:k.asid,srcKey:k.asid.split("-")[2],srcStart:k.birthdate,getMessageTime:void 0,replyTo:document.location,sendMessage:function(d,c){c=c||"*";b.getMessageTime=r.now();delete a.updateMessage;delete a.sendMessage;d.postMessage(JSON.stringify(a),
c)},updateMessage:function(a){b=a(b)},messageContent:b||{}};return a},h;h=new function(){var d=[],c=function(a){var d=b.me();(new m({self:d,expectedPageId:a.pageId,unifiedId:d.unifiedId})).sendMessage(a.domObj())};return{sendMessages:function(){var a,d;for(a=0;a<b.list.length;a++)d=b.list[a],d.isMe||c(d)},listen:function(){x.addEvent(window,"message",function(g){var h,m,t,C=b.me();try{h=JSON.parse(g.data);m=h.messageContent;if(k.asid.split("-")[2]!==h.srcKey||!h.hasOwnProperty("messageContent"))return;
m.unifiedId<C.unifiedId&&(C.unifiedId=m.unifiedId)}catch(n){return}d.push(h);try{if(m.expectedPageId!==b.me().pageId)a.add(a.ERROR_ADTALK_DUBIOUS);else{t=b.lookup[m.self.pageId];if(f.isUndef(t)||f.isUndef(t.selfDescription))t=t||new e(g.source,m.self.pageId.split("-")),c(t);t.addDescription(m.self)}}catch(r){a.add(a.ERROR_ADTALK_DUBIOUS)}})}}};return{sendMessages:h.sendMessages,listen:h.listen,findFrames:g.start,createAdProxy:function(b){return new d(b)},getFrameStore:function(){return b||""}}},Ba=
function(a,c,d,b,e){var g=function(b,a,d){e.addItem({output:b+"."+a+"."+d},"ctpl")},m=function(e){try{c.diagnostic("c");var l=e.length,m=0,p=0;g(l,0,0);f(e).each(function(d,c){a.send(c.replace("%%CBS%%",b.getCacheBustId()),function(){g(l,m,++p)},!0);g(l,++m,p)})}catch(k){d.add(d.ERROR_AT_SEND)}};return{init:function(){try{var b=(new R).fullDom;"/"!==b.slice(-1)&&(b+="/");b+="tpl?asId="+k.asid;a.jsonp(b,m)}catch(c){d.add(d.ERROR_AT_INIT)}}}},Aa=function(a,c,d,b){return{enabled:"true"===k.useBapiCallback,
callback:function(c){d.trigger("sendDiag");try{"true"===k.accountForSadImps&&b.measure(c),k._onAPIResult&&k._onAPIResult(c)}catch(g){a.add(a.ERROR_BAPI_CALLBACK),d.trigger("sendDiag","bapiClient")}}}},qa=function(a){var c=function(){var b=function(b){return b.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",").join(".")};try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(d){return"6"}}catch(c){}return b((new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))}catch(e){try{if(navigator.mimeTypes[n.FLASH_MIME].enabledPlugin)return b((navigator.plugins["Shockwave Flash 2.0"]||
navigator.plugins["Shockwave Flash"]).description)}catch(f){}}return"0"},d=function(b){return e()===b},b=function(){return document&&document.documentMode?document.documentMode:n.NA},e=function(){var b="u";try{if(f.isDef(window.opera)&&f.isDef(window.opera.buildNumber))b="o";else if(f.isDef(window.mozInnerScreenY))b="g";else if(f.isDef(window.chrome)&&f.isDef(window.chrome.csi))b="c";else if(f.isDef(window.WebKitPoint))b="w";else if(f.isDef(window.attachEvent)||f.isDef(window.msCrypto))b="i"}catch(a){}return b};
return{browserIs:d,getFlashVersion:c,getDocumentMode:b,getBrowserVendor:e,params:function(){var a=e(),m=c(),h=5;d("i")?window.msCrypto?h=11:window.atob?h=10:document.addEventListener?h=9:window.JSON&&document.querySelector?h=8:window.XMLHttpRequest?h=7:document.compatMode&&(h=6):h=n.NA;var l=b(),q;q=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"];var p=n.NA,k=document.createElement("div");try{if("-ms-ime-align"in document.documentElement.style)p=
"11";else{k.style.behavior="url(#default#clientcaps)";for(var r=0;r<q.length&&!(p=k.getComponentVersion(q[r],"componentid").replace(/,/g,"."));r++);}}catch(t){}q=p;p=n.NA;f.isDef(window.navigator)&&f.isDef(window.navigator.appName)&&(p=window.navigator.appName.toLowerCase()[0]);return{br:a,fv:m,bv:h,dm:l,abv:q,an:p}}}},Ha=function(a){var c=0.5<=r.random()?"cdn":"collo",d=function(){a.trigger("sendDiag",c+"Test","cdnTest")};return{init:function(){var b,e=k[c+"TestUrl"];e&&(b=-1===e.indexOf("?")?"?":
"&",e=e+b+"asid="+k.asid,a.trigger("exec",e,d))}}},na=function(a,c){var d=function(b,a){var d,c,e=k.thisScriptNode.parentNode;a=a||b;b=1<arguments.length?b:"script";d={script:['<script type="text/javascript" src="','">\x3c/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']}[b];c=d[0]+a+d[1];"true"===k.forceAppend?"script"!==b?(d=document.createElement("DIV"),d.innerHTML=
c,e.appendChild(d.childNodes[0])):(d=document.createElement("SCRIPT"),d.src=a,e.appendChild(d)):document.write(c)},b=function(b,a,d){var c=!d&&x.getXHR2();c?(c.open("POST",b),c.onreadystatechange=function(){4===c.readyState&&200===c.status&&a&&a()},c.send()):(d=new Image,a&&(d.onload=a),d.src=b)},e=function(b,a){var d=document.createElement("script");d.type="text/javascript";d.src=b;a&&(d.onload=a);f.isDef(k.thisScriptNode.parentNode)&&k.thisScriptNode.parentNode.appendChild(d)},g=function(d){f.isFunction(d)?
d():"string"===typeof d?b(d,void 0,!0):a.add(a.ERROR_NOTIFY_CLIENT)};w.on({addNode:d,send:b,exec:e,notify:g});return{addNode:d,send:b,exec:e,notify:g,jsonp:function(b,a,d,g){e(c.wrap(b,a,d,g))}}},n={MAX_URL_LENGTH:2E3,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",DT_CODES:{UNLOAD:"u",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",ADTALK:"a",VIEWABILITY_READY:"v",VIDEO_EVENTS:"m",
DIAGNOSTIC:"b",POS_INVIEW:"t",THIRD_PARTY:"i",SCA:"s"},DETECTION_METHODS:{SPAN:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MOBILE:"m",MUTATION:"c"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h"},IAS_DETECTOR:"iasdetector"},s=function(){var a=window!=top,c=function(){var a;try{a=!!top.document}catch(b){a=!1}return a}();return{embedded:a,friendly:c,getTagTime:function(){return r.now()-k.birthdate},getPageTime:function(){return f.isDef(window.chrome)&&f.isDef(window.chrome.csi)&&
f.isFunction(window.chrome.csi)?r.round(chrome.csi().pageT):n.NA},friendlyIframe:a&&c,xDomainIframe:a&!c}}(),x={addEvent:function(a,c,d,b){f.isDef(a.addEventListener)?"mouseenter"===c?a.addEventListener("mouseover",x.mouseEnter(d),b):"mouseleave"===c?a.addEventListener("mouseout",x.mouseEnter(d),b):a.addEventListener(c,d,b):f.isDef(a.attachEvent)&&a.attachEvent("on"+c,d)},removeEvent:function(a,c,d){f.isDef(a.removeEventListener)?("mouseenter"===c?(c="mouseover",d=x.mouseEnter):"mouseleave"===c&&
(c="mouseout",d=x.mouseEnter),a.removeEventListener(c,d)):f.isDef(a.detachEvent)&&a.detachEvent("on"+c,d)},mouseEnter:function(a){var c=this;return function(d){var b=d.relatedTarget;this===b||c.isAChildOf(this,b)||a.call(this,d)}},isAChildOf:function(a,c){if(a===c)return!1;for(;c&&c!==a;)c=c.parentNode;return c===a},getStyle:function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(c=c.replace(/\-(\w)/g,
function(b,a){return a.toUpperCase()}),d=a.currentStyle[c]);return d},getXHR2:function(a,c){var d,b;f.isDef(window.XMLHttpRequest)?(b=new XMLHttpRequest,"withCredentials"in b&&(d=b)):f.isDef(XDomainRequest)&&(d=new XDomainRequest);return d}},ya=function(a,c,d,b,e,g,m,h,l,q,p,u){var B=0,t=0,C=!1,A,D=function(a,e,f,h,m){f=f||!b.on("postDts");if(g.impressionIsIdentifiable()&&(a===n.DT_CODES.DIAGNOSTIC||a===n.DT_CODES.ADTALK||"n"!==l.getCurrentLoc()))try{var p=new R,k=r.now();p.path("dt");p=E(p,a,e,m);
h||(p=z(p,a,e));c.send(p.toString(),function(){t+=1;B=r.now()-k},f);a===n.DT_CODES.UNLOAD&&(C=!0)}catch(q){__IntegralASDiagnosticCall("dt-"+a,q),d.add(d.ERROR_PHONE_HOME)}},v=function(a,d){var c={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e",cdnTest:"f",colloTest:"g"},e=k.mode,c=c[a]||c[e];b.on(d||e+"Diag")&&c&&D(n.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:c})},z=function(a,c){l.fastForward();var e={};c===n.DT_CODES.VIDEO_EVENTS&&u&&p&&(e.ve=u.stringify(),b.on("sendclogs")&&(e.clog=q));
c===n.DT_CODES.UNLOAD&&(e.ndt=t);-1!==k.mode.indexOf("jsvid")&&p&&(e.vv=p.version);e.NULL1=b.output();e.NULL2=l.stringify(10);e.em=s.embedded;e.fr=s.friendly;e.uf=A.useFlash()?1:0;e.e=d.toString();e.tt=k.mode;e.dtt=B;m.iterate(function(b,a){a.props.type&&a.props.type!==c||(e[b]=a.output())});a.setField("tv",e);a.setField("br",h.getBrowserVendor());return a},E=function(a,d,c,e){if(!f.isDef(c)){var h;d===n.DT_CODES.UNLOAD?h=-1:d===n.DT_CODES.ADTALK?h=-2:d===n.DT_CODES.VIEWABILITY_READY?h=-3:d===n.DT_CODES.VIDEO_EVENTS&&
u&&p?h=-4:d===n.DT_CODES.DIAGNOSTIC?h=-5:d===n.DT_CODES.THIRD_PARTY?h=-6:d===n.DT_CODES.QUARTILE_FULLY_INVIEW&&(h=-7);c=h}b.on("usedtdomain")&&a.sub("dt");a.setField("asId",k.asid);a.setField("tv",{c:g.getCacheBustId(),pingTime:c,time:s.getTagTime(),type:d});e&&a.setField(e.field,e.value);return a};e.on({sendDt:function(b,a){D(b,a)},sendDiag:function(b,a){v(b,a)}});return{send:D,sendCookie:function(){var a;b.on("cookie")&&"true"===k.sendCookie&&k.protocol&&k.cookieDomain&&k.asid&&(a=k.protocol+"://"+
k.cookieDomain+"?asid="+k.asid,c.send(a,void 0,!0),t++)},unload:function(){C||D(n.DT_CODES.UNLOAD,-1,!0)},diagnostic:v,setViewabilityMod:function(b){A=b}}},Q=function(a){var c={},d=!1,b=function(){return{x:r.round(c.x),y:r.round(c.y),width:r.round(c.width),height:r.round(c.height)}};(function(){var b;a!==window.parent&&(1!==a.nodeType?c=a:f.isDef(a.getBoundingClientRect)&&(b=y.getRect(a),f(c).mixin({x:b.left,y:b.top,width:b.width,height:b.height})))})();return{hasValidDims:function(){var b=1===a.nodeType?
c:a;return!(isNaN(b.x)||isNaN(b.y)||isNaN(b.height)||isNaN(b.width))},toString:function(){var a=b();return[a.x,a.y,a.width,a.height].join(".")},get:function(){return c},getRounded:b,set:function(b,a){c[b]=a},isHidden:function(){var b=1===a.nodeType?y.nodeIsHidden(a):0===a.width||0===a.height;return d?!1:b},disallowHiddenState:function(){d=!0}}},ra=function(){return{calcDims:function(a,c){var d=Q(a),b=y.getClippedDimensions(a,c),e=d.get();d.set("height",b.height<e.height?b.height:e.height||1);d.set("width",
b.width<e.width?b.width:e.width||1);return d}}},y={nodeIsHidden:function(a){var c=this.getRect(a);a=0!==parseInt(x.getStyle(a,"width"))&&0===c.width;c=0===c.width||0===c.height;return a||c},calcWinDims:function(){var a,c,d,b;b=y.windowSize();d=b.width;b=b.height;s.friendly?a=c=0:(f.isDef(window.screenX)&&(a=window.screenX),f.isDef(window.screenY)&&(c=window.screenY));return isNaN(a)||isNaN(c)||isNaN(d)||isNaN(b)?-1:{x:r.round(a),y:r.round(c),width:r.round(d),height:r.round(b)}},windowSize:function(){var a=
{},c,d;if(s.friendly)if(c=top.document,d=c.documentElement,c=c.getElementsByTagName("body")[0],f.isDef(top.innerWidth))a.width=top.innerWidth,a.height=top.innerHeight;else if(f.isDef(d.clientWidth))a.width=d.clientWidth,a.height=d.clientHeight;else if(f.isDef(c.clientWidth))a.width=c.clientWidth,a.height=c.clientHeight;else throw a.width=a.height=0,"";else f.isDef(window.outerWidth)&&(a.width=window.outerWidth,a.height=window.outerHeight);return a},screenSize:function(){try{var a=-1,c=-1;f.isDef(window.screen)&&
(a=window.screen.width,c=window.screen.height);return{width:a,height:c}}catch(d){}},getNodeArea:function(a){var c=-1;a&&(a=y.getRect(a),c=a.width*a.height);return c},getRect:function(a){var c={};a=a.getBoundingClientRect();f.isUndef(a.x)&&(c={x:a.left,y:a.top});f.isUndef(a.width)&&f(c).mixin({width:a.right-a.left,height:a.bottom-a.top});f(c).mixin(a,!0);return c},getIeDimObj:function(){return document.documentElement&&f.isDef(document.documentElement.clientWidth)&&document.documentElement||document.body},
getPlaceholderSpan:function(){var a=document.createElement("span");f(a.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"});a.innerHTML=".";return a},getClippedDimensions:function(a,c){var d=1E4,b=1E4,e="absolute"===x.getStyle(a,"position"),f;if(null!==a.parentNode&&!e){do a=a.parentNode,e="OBJECT"!==a.tagName.toUpperCase(),f="inline"!==x.getStyle(a,"display"),e&&f&&(e=y.getRect(a),d=e.width<d?e.width:d,b=e.height<b?e.height:b);while(a.parentNode!==document&&
a!==c)}return{width:r.round(d),height:r.round(b)}},findLargestChildNode:function(a){var c,d="iframe img a object embed div".split(" "),b,e,g,m,h=[],l=-1;b=0;for(e=d.length;b<e;b++){var k=a.getElementsByTagName(d[b]);if(k.length)for(g=0,m=k.length;g<m;g++)h.push(k[g])}if(h.length)for(b=0,e=h.length;b<e;b++)a=h[b],d=y.getNodeArea(a),d>l&&(c=a,l=d);return f.isUndef(c)?null:f.isDef(c.nodeName)&&"DIV"==c.nodeName?y.findLargestChildNode(c):c}},oa=function(a){return{getProps:function(){var c={};try{var d=
document.createElement("span");f(d.style).mixin({position:"absolute",top:"150"});c={rpx:""===d.style.top?1:0}}catch(b){a.add(a.ERROR_ENVIRONMENT)}return c}}},ga=function(a){var c={},d=function(b){f.isDef(c[b])?c[b]++:c[b]=1};a.on("error",function(b){d(b)});return{list:c,add:d,toString:function(){var b="",a;for(a in c)c.hasOwnProperty(a)&&(b+=a);return b},hasErrors:function(){for(var b in c)return!0;return!1},ERROR_GET_AD_DIMENSIONS:"a",ERROR_ADTALK_GENERAL:"c",ERROR_GET_SCREEN_LOC_GET_DIMENSIONS:"d",
ERROR_EXCHANGE_PARSING:"x",ERROR_PHONE_HOME:"h",ERROR_KILL_IT:"k",ERROR_LOCATION_DETAILS:"l",ERROR_GET_SCREEN_LOC_PIV_CALC:"p",ERROR_GET_WIN_DIMENSIONS:"w",ERROR_ADTALK_DUBIOUS:"D",ERROR_ENVIRONMENT:"v",ERROR_UID_GENERATION:"i",ERROR_NOTIFY_CLIENT:"n",ERROR_IMPRESSION_URLS:"I",ERROR_JSINFO:"J",ERROR_IMPRESSION_LEADUP:"L",ERROR_GET_ELEM_STYLE:"s",ERROR_PLUGIN_PARSING:"P",ERROR_AT_SEND:"S",ERROR_AT_INIT:"N",ERROR_BAPI_CALLBACK:"b",ERROR_AC_WATCHER:"W",ERROR_COCOA_GONE:"C",ERROR_CHECK_SCREEN_LOC:"V"}},
Ka=function(a,c){var d=function(b){var a=[];if(b&&b instanceof Array)a=f(b).map(function(b,a){return a.val}),a.push(k.adsafeSrc,k.requrl,k.reqquery);else throw Error("Unexpected data type in ExchangeParser.getUrlList");return a};return{parse:function(b){try{var e,g=d(b),m=g&&g.length&&g.join("|"),h=k.exchList;m&&(e=f(h).map(function(b,a){return 0<=m.indexOf(G.rot(a))?b:void 0}),e.length&&c.addItem({output:e.join(".")},"ex",{type:"UFO"}))}catch(l){a.add(a.ERROR_EXCHANGE_PARSING)}}}},U=function(){var a=
{},c=function(b,d){var c=RegExp(b+"(?=$|,)|"+b+":(?!,|$)(.?\\d*(?=,|$))").exec(k.jsFeatures);if(f.isUndef(a[b])||d)a[b]=!!(c&&!c[1]||c&&c[1]>100*r.random());return a[b]},d={bl:"blur",fc:"forcecocoa",rt:"rattie",cb:"cachebust",np:"nextcocoa",th:"tabHiddenDtCall"},b=function(){return f(d).mapToObj(function(b,d){var c={};c[b]=a[d]?1:0;return c})};f(d).each(function(b,a){c(a)});return{on:c,output:function(){return f(b()).toParams()}}},ta=function(a){var c=a.browserIs("g")||a.browserIs("i")||s.friendlyIframe||
!s.embedded;return{calcPercentInView:function(a,b){var c=b.isHidden(),f=b.getRounded(),m;m=a.x;var h=f.x;m=Math.min(a.x+a.width,f.x+f.width)-Math.max(h,m);var h=a.y,l=f.y,h=Math.min(a.y+a.height,f.y+f.height)-Math.max(l,h);m=0>=m||c?0:r.round(m/f.width*100);c=0>=h||c?0:r.round(h/f.height*100);return r.round(m*c/100)},calcInitialViewState:function(a,b){var e=n.NA;if(c||b)e=75<=a?n.IN_VIEW:25>=a?n.OUT_OF_VIEW:50<=a?n.PARTIAL_VIEW_PLUS:n.PARTIAL_VIEW_MINUS;return e},getOverlappingDims:function(a,b){a.x2=
a.x+a.width;a.y2=a.y+a.height;b.x2=b.x+b.width;b.y2=b.y+b.height;var c=Math.max(a.x,b.x),f=Math.max(a.y,b.y),m=Math.min(a.x2,b.x2),h=Math.min(a.x2,b.x2);return c>m||f>h?void 0:a.x<=b.x2&&a.x2>=b.x&&a.y<=b.y2&&a.y2>=b.y}}},pa=function(a){var c=!1;return{getCacheBustId:function(){var a=new Date,b=Date.parse("Jan 1 "+a.getFullYear()),a=a.getTime()-b;return f.toBase(a,62)},impressionIsIdentifiable:function(a){a&&(c=!0);return c},unq:function(){var d="";try{for(var b,c=window.Uint32Array&&window.crypto&&
window.crypto.getRandomValues;30>d.length;)c?(b=new Uint32Array(1),window.crypto.getRandomValues(b),d+=b[0].toString(16)):d+=(16*r.random()|0).toString(16);d=d.slice(0,30)}catch(f){a.add(a.ERROR_UID_GENERATION)}return d}()}},sa=function(a,c){var d,b=function(){try{var b,d;if(s.friendly){var c=g(window);b=c.left;d=c.top}else a.browserIs("i")&&11!==a.getDocumentMode()?(c=function(a){b=a.screenX-a.clientX;d=a.screenY-a.clientY},document.documentElement.attachEvent("onmousemove",c),document.documentElement.fireEvent("onmousemove"),
document.documentElement.detachEvent("onmousemove",c)):f.isUndef(window.mozInnerScreenX)?(b=window.screenLeft,d=window.screenTop):(b=r.round(window.mozInnerScreenX),d=r.round(window.mozInnerScreenY));return{x:b,y:d}}catch(e){}},e=function(){var a,b,c=d||y.getIeDimObj();f.isDef(window.innerWidth)?(a=window.innerWidth,b=window.innerHeight):c&&f.isDef(c.clientWidth)?(a=c.clientWidth,b=c.clientHeight,0===a&&0<c.offsetWidth&&(a=c.offsetWidth),0===b&&0<c.offsetHeight&&(b=c.offsetHeight)):window.frameElement&&
f.isDef(window.frameElement.clientWidth)&&(a=window.frameElement.clientWidth,b=window.frameElement.clientHeight);return{width:a,height:b}},g=function(a,b){f.isUndef(b)&&(b={top:0,left:0});for(var d=a.parent.document.getElementsByTagName("iframe"),c,e=!1,k=0,n=d.length;k<n;k++)if(c=d[k],c.contentWindow==a){e=!0;break}e&&(d=y.getRect(c),b.left+=d.left,b.top+=d.top,a!==top&&g(a.parent,b));return b};return{calcDims:function(){var a={};try{a=f(b()).mixin(e())}catch(d){c.add(c.ERROR_GET_AD_DIMENSIONS)}return Q(a)},
waitForBody:function(a){var b=setInterval(function(){document.body&&(d=y.getIeDimObj(),clearInterval(b),a())},50)}}},Fa=function(a,c,d,b,e,g,m,h){var l=function(a,b){if(b>=n.MAX_URL_LENGTH)return"";var d,c,e=[],g=function(a){return-1!==a.key.indexOf("q")||-1!==a.key.indexOf("g")};d=f(a).map(function(a,b){if(g(b))return b});c=f(a).map(function(a,b){if(!g(b))return b});f(d.concat(c)).each(function(a,d){var c="adsafe_url="+d.val+"&adsafe_type="+d.key,f=e.join("&").length;c.length+f+b<=n.MAX_URL_LENGTH&&
e.push(c)});return e.join("&")},q=function(a){var e=0,l=G.hashCode(k.asid),t="adsafe_jsinfo=",q=h.needsFlash()?{viewState:n.NA}:h.checkScreenLoc(!0),A="c:"+b.getCacheBustId()+",sl:"+q.viewState+",em:"+s.embedded+",fr:"+s.friendly,D=d.on("postDts")&&x.getXHR2()?"p":"i",v=["pt:"+h.stringifyPingTimes()+(q.viewState!=n.NA?q.details:""),f(m.params()).toParams(),"id:"+k.asid];g.iterate(function(a,b){v.push(a+":"+b.output())});c.toString()&&v.push("e:"+c.toString());v.push(d.output());v.push("uf:"+(h.useFlash()?
1:0));v.push("tt:"+k.mode);v.push("et:"+(r.now()-k.birthdate));v.push("uid:"+b.unq);v.push("v:9.1");v.push("sp:"+("true"===k.jsDoSplit?1:0));v.push("ct:"+s.getPageTime());v.push("dtm:"+D);v.push("mn:"+k.mn);v.push("gtpl:"+("true"===k.getTpl?1:0));d.on("resolution")&&(v.push("wr:"+f(y.windowSize()).toArray().join(".")),v.push("sr:"+f(y.screenSize()).toArray().join(".")));-1===(""+l).indexOf(m.params().br.toUpperCase().charCodeAt(0))&&v.push("mf:"+l);var z=function(b){return t.length+a+b.length+5<=
n.MAX_URL_LENGTH},E=function(a){if(a)return","+a};z(A)&&(t+=E(A),f(v).each(function(a,d){-1!==d.indexOf("id:")&&z(d)?(t+=E(d),b.impressionIsIdentifiable(!0)):z(d)?t+=E(d):e+=1}),E("sp:"+("true"===k.jsDoSplit?1:0)));return t+=",ov:"+e};return{send:function(a){var b=e.baseUrl;try{b+=l(a,b.length)}catch(d){c.add(c.ERROR_IMPRESSION_URLS)}b+="&"===b.slice(-1)?"":"&";try{b+=q(b.length)}catch(f){c.add(c.ERROR_JSINFO),b+="adsafe_jsinfo=e:"+c.toString()}e.macroUrl&&(b+="&"===b.slice(-1)?"":"&",b+=e.macroUrl);
try{e.sendImpression(b)}catch(g){__IntegralASDiagnosticCall("impsend",g,k)}}}},Ca=function(a,c){return{init:function(d){a.jsonp(d,function(b){c.send(n.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:b})},!1,"callback")}}},za=function(a,c,d){var b=function(b,a){return{time:b,task:a}},e=function(a,d){d=d||f.noop;return function(e){return f(e).map(function(e,f){var h=f/1E3;return new b(f,function(){var b;b="";1!==h&&(b+=h);b=k["_onInViewMRC"+b];c.send(a,h);d(b)})})}};return{getJob:function(a,
d){return new b(a,d)},getPingJobs:e(n.DT_CODES.PING,function(b){"true"===k.useViewabilityNotification&&!d.skipAsFraudulent()&&b&&a.notify(b)}),getFullyInViewPingJobs:e(n.DT_CODES.FULLY_INVIEW),getPosInViewPingJobs:e(n.DT_CODES.POS_INVIEW)}},ma=function(){var a=function(a,b){-1!==a.indexOf(b+"&")&&(b+="&");return a.replace(b,"")},c=function(a,b,c){var f=a.indexOf("?");b=b+"="+c;if(-1===f)return a+"?"+b;f++;return a.slice(0,f)+b+"&"+a.slice(f)};return{wrap:function(d,b,e,f){var m="__IntegralAS_"+k.asid.replace(/\-/g,
"")+"_"+r.round(1E4*Math.random()),h,l,q;f=f||"ias_callback";RegExp(f).test(d)&&(h=RegExp("("+f+"=)(.[^&]*)").exec(d)[0],l=h.split("=")[1],q=G.stringToFn(l),d=a(d,h));window[m]=function(a){b(a);e&&q&&q(a);window[m]=void 0};return d=c(d,f,m)}}},la=function(){var a=function(){return void 0!==window.mraid};return{isInView:function(){var c=n.NA;a()&&void 0!==window.mraid.isViewable&&(c=window.mraid.isViewable()?n.IN_VIEW:n.OUT_OF_VIEW);return c},getDetectionMethod:function(){return a()?n.DETECTION_METHODS.MOBILE:
n.NA},isMobileApp:function(){return a()}}},Da=function(a,c,d){var b={jss:{isFW:!0,nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(a){c.send(a,function(){w.trigger("sendDiag")},!d.on("postMon"))}},bapi:{impressionMethod:function(b){c.jsonp(b,a.enabled?a.callback:f.noop,a.enabled?!0:!1)}},jsapi:{isFW:!0,impressionMethod:function(b){c.jsonp(b,a.enabled?a.callback:f.noop,a.enabled?!0:!1)}},jsvid:{impressionMethod:function(a){w.on("adImpression",function(){c.send(a,
f.noop,!d.on("postMon"))})}},fwjsvid:{isFW:!0,processUrl:function(a){"false"===k.fwMonitoring&&(a=a.split("/"),a[3]="db2",a[4]="video",a=a.join("/"));return a},impressionMethod:function(a){"false"===k.fwMonitoring&&c.jsonp(a,function(a){w.trigger("videoBlockResult",a)});w.on("adImpression",function(){c.send(a,void 0,!0)})}},jspix:{nodeType:"img"}};return new function(){var a=b[k.mode],d=!!a.isFW,f=d?k.adsafeSrc:k.requrl+"?"+k.reqquery,h=f.indexOf("BEGIN__ADSAFE"),l=-1!==h,q=l?f.slice(h):"",f=l?f.slice(0,
h):f+(d?k.adsafeSep:"&");return{isFW:d,baseUrl:f,macroUrl:q,sendImpression:function(b){b=a.processUrl?a.processUrl(b):b;a.nodeType?c.addNode(a.nodeType,b):a.impressionMethod(b)}}}},Ja=function(a,c){var d,b=k.mtCell,e=k.mtSample,g=0,m=0,h=[],l=null,q=null,p,u=function(a){try{var d=r.now()-l;g+=d;x.removeEvent("mousemove",t);h.push("{ht:"+g+",mm:{"+f(p).toParams()+"}}");c.addItem({output:"{cs:"+b+",sr:"+e+",ec:"+h.length+",me:["+h.slice(-10).join(",")+"]}"},"mt",{type:n.DT_CODES.UNLOAD})}catch(k){}},
B=function(a){try{g=0,p={},l=r.now(),x.addEvent(d,"mousemove",t)}catch(b){}},t=function(c){var g,h,l,k,t,n,u;try{null===q&&(q=d&&f.isDef(c.clientX)&&f.isDef(c.clientY));if(q&&0===m%e&&(t=a.calcDims(),-1!==t)){u=r.ceil(t.width/b);var B=c.clientX,w=c.clientY;l=s.embedded?B:B-t.x;k=s.embedded?w:w-t.y;g=r.floor(l/b);h=r.floor(k/b);n=g+h*u;p[n]?p[n]++:p[n]=1}m++}catch(y){}};return{init:function(){var b=setInterval(function(){try{a.isAdDetected()&&(d=a.getOriginatingElement(),x.addEvent(d,"mouseenter",
B),x.addEvent(d,"mouseleave",u),clearInterval(b))}catch(c){}},250)}}},r={execAtEndOfThread:function(a){setTimeout(a,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(a){return Math.round(a)},ceil:function(a){return Math.ceil(a)},floor:function(a){return Math.floor(a)}},ia=function(a){var c={},d=r.now(),b=!0,e=new T,g=s.friendly&&a.on("blur")&&window.top.document&&f.isFunction(window.top.document.hasFocus);a=function(){var a=function(){d=r.now();
window.webkitRequestAnimationFrame(a)};window.webkitRequestAnimationFrame(a);setInterval(function(){var a=100<r.now()-d;b!==a&&(b=a,e.run(a))},100)};var k=function(){var a=null;f.isDef(document.hidden)?a=document.hidden:f.isDef(document.mozHidden)?a=document.mozHidden:f.isDef(document.msHidden)?a=document.msHidden:f.isDef(document.webkitHidden)&&(a=document.webkitHidden);if(null!==a){var d=a;b!==d&&(b=d,e.run(d))}return a};c.onHiddenChange=function(a){e.push(a)};c.isHidden=function(){return g&&!window.top.document.hasFocus()||
k()};null===k()&&f.isDef(window.webkitRequestAnimationFrame)&&(a(),c.isHidden=function(){return b});return c},ja=function(){var a=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];(""===c||"null"===c||"undefined"===c||null===c||f.isUndef(c))&&delete a[b]}return a},c=function(a){var b={},c,g;for(g in a)a.hasOwnProperty(g)&&(c=a[g],f.isUndef(b[c])?b[c]=g:b[c]+=g);a={};for(g in b)b.hasOwnProperty(g)&&(c=b[g],a[c]=g);return a};return{detectTopURL:function(){var d=function(){var a={g:"",q:""};
try{a.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(b){var c=b.message,c=c.substring(c.lastIndexOf("<")+1,c.lastIndexOf(">")),d;if(d=f.isDef(c))if(d=!1,f.isDef(window.navigator)&&f.isDef(window.navigator.userAgent)){var e=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==e&&2==e.length&&(e=e[1].split("."),3==parseInt(e[0],10)&&6>=parseInt(e[1],10)&&(3==e.length?13>=parseInt(e[2],10)&&(d=!0):d=!0))}d&&(a.g=c)}return a},b={};try{b.a=
encodeURIComponent(top.location.href)}catch(e){}try{b.b=encodeURIComponent(parent.location.href)}catch(g){}if(s.embedded){try{b.c=encodeURIComponent(parent.document.referrer)}catch(m){}try{b.e=encodeURIComponent(window.document.referrer)}catch(h){}}try{"jsi"!==k.mode&&(b.d=encodeURIComponent(window.location.href))}catch(l){}try{b.f=encodeURIComponent(k.jsref)}catch(n){}try{var p=d();b.g=encodeURIComponent(p.g);b.q=encodeURIComponent(p.q)}catch(u){}var b=a(b),b=c(b),d=[],r;for(r in b)b.hasOwnProperty(r)&&
d.push({key:r,val:b[r]});d.sort(function(a,b){return a.val.length>b.val.length?1:a.val.length<b.val.length?-1:0});return d}}},La=function(a){return{hash:function(){for(var c=0,d=a.length,b=[],e;c<d;c++)e=a[c].filename.replace(/\.plugin$/,""),e=G.hashCode(e),e=f.toBase(e,62).slice(-4),b.push(e);return b},decode:function(c){var d,b;d=r.floor(r.random()*c.length);b=encodeURIComponent(a[d].filename.replace(/\.plugin$/,""));return[c[d],b]}}},Y=function(a){var c=!1;return{measure:function(d){(c=0===d.rsa)&&
k._onSuspicious&&a.trigger("notify",k._onSuspicious)},skipAsFraudulent:function(){return c}}},ka=function(){var a=[],c={},d={sl:"n",gsl:"gn",fsl:"fn"},b=0,e,g,k={i:0,o:0,n:0,pp:0,pm:0,gpp:0,gpm:0,gi:0,go:0,gn:0,fi:0,fo:0,fn:0},h=function(a){var b={},c=a.winDimensions,d=a.adDimensions,e=function(a){var b="";f.isDef(a)&&f.isDef(a.x)&&f.isDef(a.y)&&f.isDef(a.width)&&f.isDef(a.height)&&(b=[a.x,a.y,a.width,a.height].join("."));return b};f.isDef(c)&&-1!==c&&(b.wc=e(c));f.isDef(d)&&d.hasValidDims()&&(b.ac=
d,b.am=a.method,b.cc=e(a.containerDimensions));f({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason",cmps:"adCompCount"}).each(function(c,d){var e=a[d];f.isDef(e)&&(b[c]=e)});c=f(b).toParams();return""===c?"":","+c},l=function(a,b){var d=new Ta(b);return c[a]=d},q=function(a,b){return(b||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[a]},p=function(){f(d).each(function(c,d){k[d]+=a.length?g-b:g});b=g},r=function(b){a.length&&p();f(b).each(function(a,
b){var c=d[a];c!==b&&"n"===c&&(k[b]+=k.n);d[a]=b});a.length||p()},B=function(a){var b,d=a.adDimensions.getRounded();b=h(a);var e={sl:q(a.viewState),fsl:q(a.fState||n.NA,"f"),gsl:q(a.gState||n.NA,"g")};g=s.getTagTime();r(e);e.t=g;b=f({toString:function(){f(c).each(function(a,b){b.fastForward()});return"{"+f(e).toParams()+this.details+this.breakdowns+"}"},details:b,breakdowns:{piv:[],as:[],toString:function(){var a,b=function(a,b){return b.duration+"~"+b.state};a=""+("piv:["+f(this.piv).stringify(b)+
"]");a+=",as:["+f(this.as).stringify(b)+"]";return",bkn:{"+a+"}"}},isInView:function(){return-1!==(n.IN_VIEW+"|"+n.PARTIAL_VIEW_PLUS).indexOf(a.viewState)},isFullyInView:function(){var b=a.useCocoa?a.fullPercentInView:a.percentInView;return this.isInView()&&100===b}}).mixin(e);f(b).mixin(a);b.width=d.width;b.height=d.height;return b};(function(){l("piv",function(a){var b,c=a.percentInView,d=[1,25,30,50,75];100===c||0===c?b=c:(f(d).each(function(a,e){f.isUndef(b)&&c<e&&(b=d[a-1])}),f.isUndef(b)&&(b=
d[d.length-1]));return b});l("as",function(a){a=a.adDimensions.getRounded();return a.width+"."+a.height})})();return{fastForward:function(){g=s.getTagTime();p()},registerLocation:function(b){var g,h=!1;d.sl==q(b.viewState)&&a.length?(g=new B(b),a[a.length-1].details=g.details):(g=new B(b),a.push(g),e=b.viewState,h=!0);w.trigger("newScreenEvent",g);f(c).each(function(b,c){-1!=="piv|as".indexOf(b)?(h&&c.clear(),c.addState(g),a[a.length-1].breakdowns[b]=c.get()):c.addState(g)});return g},stringify:function(b){var c=
"";a.length&&(c=f({slTimes:"{"+f(k).toParams()+"}",slEvents:"["+a.slice(-b).join(",")+"]",slEventCount:a.length}).toParams());return c},createViewabilityTracker:l,getCurrentLoc:function(){return q(e)}}},Ga=function(a){var c=k.asid,d=[0,1,4],b,e=function(){var a=setInterval(function(){window.postMessage({asid:c,ksca:"acsk",sender:"main"},"*")},50);window.addEventListener("message",function(b){b=b.data;"acsk"===b.ksca&&b.asid===c&&"main"!==b.sender&&("ack"===b.type&&clearInterval(a),"complete"===b.type&&
(b.timeReturned=r.now(),g(b)),d.length&&(b=d.shift(),window.postMessage(m(b),"*")))})},g=function(b){var c=-5-0.1*b.targets,d=n.DT_CODES.SCA;b="{"+f(b).stringify(function(a,b){var c;0===a.indexOf("time")?c=a+":"+b:"resultList"===a&&(c="rl:"+f(b).map(function(a,b){return"{"+f(b).toParams()+"}"}).join("."));return c})+"}";a.trigger("addOutputItem",{output:b},"sc",{type:d});a.trigger("sendDt",d,c)},m=function(){var a=0,d=c.replace("-",""),e=d.substr(-6);return function(f){for(var g=b,k=r.now(),m=f,n=
[];m--;)n.push(d.substr(++a,3));return{scaUrl:g,targets:f,timeBegun:k,src:e,targetList:n,asid:c,ksca:"acsk",sender:"main",cap:1E6}}}();return{load:function(){if(!f.isUndef(window.Worker)&&!f.isUndef(window.Blob)){var c=new R;c.sub("static");c.master(c.master().split(":")[0]);c.path("/sca.js");b=c.toString();a.trigger("exec",b);e()}}}},G={rot:function(a){return a.replace(/[a-zA-Z]/g,function(a){return String.fromCharCode(("Z">=a?90:122)>=(a=a.charCodeAt(0)+13)?a:a-26)})},hashCode:function(a){var c=
0,d,b,e;if(0===a.length)return c;d=0;for(e=a.length;d<e;d++)b=a.charCodeAt(d),c=(c<<5)-c+b,c|=0;return c},stringToFn:function(a){var c,d=window,b=a.split(".");for(a=0;a<b.length;a++)if(c=d,d=d[b[a]],f.isUndef(d)||a===b.length-1&&!f.isFunction(d))return!1;return function(){d.apply(c,arguments)}}},va=function(a,c,d,b,e){var g=n.OUT_OF_VIEW,m,h=function(){if(m)return m;var b=f(document.getElementsByTagName("object")).toArray(),c=f(document.getElementsByTagName("embed")).toArray(),d="IASid"+a;return m=
f(b.concat(c)).find(function(b,c){var e=f.isFunction(c[d]);if(e)c[d](a);return e})};d.on("videoBlockResult",function(b){var c=h(),d=!1,e="blockAd"+a;"failed"===b.action&&(d=!0);if(c&&f.isDef(c.blockAd))c.blockAd(d);else if(c&&f.isDef(c[e]))c[e](d)});(function(){var f=!1,h=!1;c.on("hundredpct")&&k.use100v&&(new Va(d,b)).init();x.addEvent(window,"message",function(b){var c={};try{c=JSON.parse(unescape(b.data))}catch(k){c={}}c.recordType="video";c.id===a&&(b=c.messageType,-1!=="showAd|adStarted|adVideoStart|adVideoStarted|resumeAd".indexOf(b)?
(f=!0,g=h?n.IN_VIEW:!1):-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(b)?(f=!1,g=n.OUT_OF_VIEW):"resizeAd"===b&&("fullscreen"===c.viewMode?(h=!0,g=f?n.IN_VIEW:n.OUT_OF_VIEW):(h=!1,g=f?!1:n.OUT_OF_VIEW)),e.addRecord(c),d.trigger(b,c))})})();return{findVideo:h,version:h().getVersion(),forceViewState:function(){return g}}},ua=function(a){var c=[],d=function(b){var c=f({t:b.time-k.birthdate,tp:b.messageType,vid:b.id,sl:a.getCurrentLoc()}).mixin(b.eventData);return f({toString:function(){return"{"+
f(c).toParams()+"}"}}).mixin(c)};return{getEvents:function(){return c},addRecord:function(a){a=new d(a);c.push(a)},stringify:function(){return"{"+f({vEventCount:c.length,vEvents:"["+c.join(",")+"]"}).toParams()+"}"}}},Ea=function(a,c,d,b,e,g,m,h,l,q,p,u,w,t,y){var A,D,v,z,E=0,N=0,H,I=-1!==k.mode.indexOf("jsvid"),R=p.isMobileApp(),F=I?200:100,G=k.mobOrTab,S=!G&&b.on("recordalternate"),L=b.on("forcecocoa"),J=a.getDocumentMode(),J=a.browserIs("g")||a.browserIs("i")&&(9===J||10===J)&&b.on("rattie"),M=
s.friendlyIframe&&L||s.xDomainIframe&&J&&L||s.xDomainIframe&&!J,K=!G&&M&&b.on("cocoapuffs"),T=!1,O=new Ua(10),P=[I&&b.on("videotwoseconds")?2E3:1E3,5E3,15E3],U=f(P).map(function(a,b){return b/1E3}).join("-"),Z=new da(1E3),fa=new ca(q.getPingJobs(P));if(b.on("hundredpct")&&k.use100v)var aa=new da(1E3),X=new ca(q.getFullyInViewPingJobs(P));if(b.on("tabHiddenDtCall"))var $=new da(1E3),Y=new ca(q.getPosInViewPingJobs([P[0]]));var W=function(h){try{O.start();var m,q,s,x,F,G;s=w.collect();var H=function(){W();
b.on("viewabilityready")&&c.send(n.DT_CODES.VIEWABILITY_READY)};S&&(s.gState=s.viewState);if(K){A=A||new ba(V,s.adDimensions,H,b,u,a,d)||{};x=A.checkViewable();b.on("hundredpct")&&k.use100v&&(z=z||new Ra(Qa,s.adDimensions,H,a,b,e,l,u)||{},F=z.checkViewable(),s.fullPercentInView=F.pct,s.useCocoa=K);if(1!==s.tabHidden||x.str===n.NA)s.viewState=x.str;s.percentInView=x.pct;b.on("unreliabilityDetection")&&(v=v||new ba(V,Q({height:0,width:-2E4}),f.noop,b,u,a)||{},G=v.checkViewable(),G.str!==n.OUT_OF_VIEW&&
(N+=1),E+=1,l.addItem({output:N+"/"+E},"fu"))}else M&&(s.viewState=n.NA,s.percentInView=-1);S&&(D||h||(D=K?A:new ba(V,s.adDimensions,f.noop,b,u,a,e)),s.fState=h?n.NA:D.checkViewable().str);if(I){if(q=y.forceViewState())s.viewState=q}else R&&(s.viewState=p.isInView());m=t.registerLocation(s);b.on("hundredpct")&&k.use100v&&(m.isFullyInView()?(aa.mark(),X.doEligibleJobs(aa.getTotalTime()),!b.on("zeroPing")||T||h||(c.send(n.DT_CODES.FULLY_INVIEW,0),T=!0)):aa.stop());m.isInView()?(Z.mark(),fa.doEligibleJobs(Z.getTotalTime())):
Z.stop();var J=fa.getNextJob();J&&J.time===P[0]&&b.on("tabHiddenDtCall")&&(s.posViewState===n.IN_VIEW||s.posViewState===n.PARTIAL_VIEW_PLUS?($.mark(),Y.doEligibleJobs($.getTotalTime())):$.stop());O.stop();var L=r.round(O.getTime()/O.getCount());l.addItem({output:L},"lt",{type:n.DT_CODES.UNLOAD});return m}catch(U){g.trigger("error",d.ERROR_CHECK_SCREEN_LOC)}},ea=function(a){H=!0;var b=!1;a=function(){b||(b=!0,c.send(n.DT_CODES.VIDEO_EVENTS))};m.impressionIsIdentifiable()&&(W(),setInterval(W,F),g.on("adStopped",
a),g.on("adVideoComplete",a),x.addEvent(window,"beforeunload",c.unload,!1),I&&x.addEvent(window,"beforeunload",a,!1))};return{checkScreenLoc:W,init:function(){"true"===k.allowViewability&&f.isFunction(document.addEventListener)?(H=!1,"complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState?r.execAtEndOfThread(ea):document.addEventListener("DOMContentLoaded",ea,!1)):h.waitForBody(ea)},needsFlash:function(){return M},readyFired:function(){return H},useFlash:function(){return K},
stringifyPingTimes:function(){return U}}};try{Ma()}catch(Wa){__IntegralASDiagnosticCall("main",Wa,k)}};try{__IntegralASConfig.initialize(__IntegralASConfig)}catch(err$$13){__IntegralASDiagnosticCall("initialize",err$$13,__IntegralASConfig)};
