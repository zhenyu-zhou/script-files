var __IntegralASDiagnosticCall = (function(code, err, config) {
	try {
		var alreadySent = false;
		return function(code, err, config) {
			try {
				if (!alreadySent) {
					alreadySent = true;
					if (config) {
						// cannot stringify DOM node due to parent-child relationship
						config.thisScriptNode = '';
					}
	
					var img = new Image();
					img.src = '//fw.adsafeprotected.com/jsdiagnostic' +
						'?code:' + code +
						'&err:' + encodeURIComponent(err.message) +
						'&config:' + encodeURIComponent(JSON.stringify(config));
				}
			} catch(err) {}
		};
	} catch(err) {
		return function(){};
	}
})();

try {
	var __IntegralASConfig = {
		jsDoSplit : "false",
		cocaPuffsPath : "",
		debug : "false",
		killPhrases : "",
		useAdTalk : "true",
		jsDiag:'true',
		version:'0',
		mtCell: 10,
		mtSample: 5,
		cookieDomain:'sc.iasds01.com/dtc',
		trackMouse : "true",
		exchList:{'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr'},
		protocol:'https',
		jsref : "",
		asid : "ec1de668-da0d-11e4-9781-002590876182",
		allowViewability : "true",
		jsFeatures : "mousetrack:0,cocoapuffs,viewabilityready,consecutive,cachebust:0,forcecocoa:0,rattie:0,exch,recordalternate:100,usedtdomain,nextcocoa:0,bapiDiag,cookie,postDts:0,unreliabilityDetection,videotwoseconds,getPl,decodePl,resolution,usetpl,usesca:1,tpiLookupURL,hundredpct,jloadDiag:0,cdnTest:1,blur:0,sendclogs,zeroPing",
		adTalkDtCall : "true",
		adsafeDomain : "adsafeprotected.com:80",
		minimizeCalls : "false",
		adWidth : "300",
		adHeight : "250",
		forceAppend : "false",
		mode : "jss",
		_onAPIResult : __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewMRC15 : __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onMeasurable : __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onSuspicious : __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC : __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onInViewMRC5 : __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		requrl : "",
		reqquery : "",
		adsafeSrc : "https://pixel.adsafeprotected.com/rfw/st/33642/3584127/skeleton.js",
		adsafeSep : "?",
		tpiLookupURL:"",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl : "https://pixel.adsafeprotected.com/rjss/st/33642/3584127/skeleton.js",
		accountForSadImps:'',
		sendCookie:'true',
		fwMonitoring:'true',
		cdnTestUrl: "//cdn.adsafeprotected.com/cdn-test.js",
		colloTestUrl: "//pixel.adsafeprotected.com/jload?campId=cdnTest&anId=100",
		doNothing: false,
		cdnTestEnabled: false,
		mn: "app22",
		cdnTestEnabled: false,
		mobOrTab: false,
		mobFwUrl : "",
		videoId : ''
	};

	if (__IntegralASConfig.jsFeatures.indexOf('asidJsDiagnostic') !== -1) {
		var fakeErr = { message: __IntegralASConfig.asid };
		__IntegralASDiagnosticCall('asid', fakeErr);
	}

	__IntegralASConfig.birthdate = new Date().getTime();
	__IntegralASConfig.thisScriptNode = (function() {
		var tempScript,
			embedded = window != top,
			scripts = document.getElementsByTagName('script'),
			result = scripts[scripts.length - 1],
			scriptIndex = scripts.length,
			useDocWrite = 'jss,jsi,jspix'.indexOf(__IntegralASConfig.mode) !== -1,
			scriptUrl = __IntegralASConfig.scriptUrl;

		try {
			while (--scriptIndex >= 0) {
				tempScript = scripts[scriptIndex];
				if (tempScript.src && tempScript.src.indexOf(scriptUrl) === 0 && tempScript.getAttribute('data-ias-script-tag') === null) {
					result = tempScript;
					tempScript.setAttribute('data-ias-script-tag', 'found');
					break;
				}
			}
			if (scriptIndex === 0 && useDocWrite && !embedded) {
				document.write('<span id="s' + __IntegralASConfig.asid + '"/>');
				result = document.getElementById('s' + __IntegralASConfig.asid).parentNode;
			}
		} catch(e) { }
	
		return result;
	}());

} catch(err) {
	__IntegralASConfig = {};
	__IntegralASDiagnosticCall('bootstrapper', err);
}

__IntegralASConfig.initialize=function(k){var w,Na=function(){w=new R;var a=-1!==k.mode.indexOf("jsvid"),d=f.isDef(window.JSON)&&f.isDef(window.postMessage),d="true"===k.useAdTalk&&d,c,b,e,g,n,h=W(),l=new R,p=X(),s=ga(w),q=ha(l),x=new ia(l),A=ja(h),l=ka(),B=la(),E=ma(),z=na(),z=oa(q,z),v=pa(q),C=qa(q),D=ra(q),K=sa(),I=ta(D,q),L=ua(D),t=a?va(B):{},M=a?wa(k.videoId,h,w,B,t):{},a=xa(K,q,L,w,I,E,M),K=ya(a,q,A),u=za(a,z,q,h,w,C,x,D,B,p,M,t),t=Aa(z,u,s),y=Ba(q,h,w,s),s=Ca(z,u,q,C,x),p=Da(z,u),y=Ea(y,z,
h,E.isMobileApp()),F=Fa(D,u,q,h,L,w,C,I,x,t,E,A,K,B,M),A=Ga(z,q,h,C,y,x,D,F),B=Ha(w),E=Ia(w);u.setViewabilityMod(F);d&&(c=Ja(q));var D="0"!==D.getFlashVersion(),G,C=!F.useFlash();if(!function(){var b=!1,a,c;try{f.isDef(k)&&f.isDef(k.killPhrases)&&""!==k.killPhrases&&(a=k.adsafeSrc?k.adsafeSrc:k.requrl+k.reqquery,c=k.killPhrases.split(","),f(c).each(function(d,l){l=decodeURIComponent(c[d]).replace(/^\s+|\s+$/g,"");-1!==a.search(l)&&(b=!0)})),k.doNothing&&(b=!0)}catch(d){q.add(q.ERROR_KILL_IT)}return b}()){if(d)try{c.createAdProxy(k),
c.findFrames(),c.listen(),c.sendMessages(),x.addItem(c.getFrameStore(),"fm"),h.on("idMap")&&(b=c.getIdMap())&&x.addItem(b,"idMap")}catch(S){q.add(q.ERROR_ADTALK_GENERAL)}var J;try{"true"!==k.minimizeCalls&&F.init();h.on("mousetrack")&&(n=Ka(a,x),n.init());J=l.detectTopURL();h.on("exch")&&(e=La(q,x),e.parse(J));if(h.on("getPl")&&navigator&&navigator.plugins){g=Ma(navigator.plugins);var O=g.hash();x.addItem({output:O.join(".")},"pl",{type:m.DT_CODES.ADTALK});if(h.on("decodePl")&&O.length){var P=g.decode(O);
x.addItem({output:P.join(".")},"pd",{type:m.DT_CODES.ADTALK})}}var N=v.getProps();f(N).each(function(b,a){x.addItem({output:a},b,{type:"UFO"})})}catch(T){q.add(q.ERROR_IMPRESSION_LEADUP)}u.sendCookie();A.send(J);h.on("cdnTest")&&k.cdnTestEnabled&&E.init();"true"===k.useViewabilityNotification&&k._onMeasurable&&(C||D)&&z.notify(k._onMeasurable);"http"===k.protocol&&"true"===k.getTpl&&h.on("usetpl")&&s.init();k.tpiLookupURL&&p.init(k.tpiLookupURL);"true"===k.adTalkDtCall&&"true"!==k.minimizeCalls&&
(G=(new Date).getTime(),r.execAtEndOfThread(function(){r.execAtEndOfThread(function(){var b={output:(new Date).getTime()-G};x.addItem(b,"sinceFw",{type:m.DT_CODES.ADTALK});f.isDef(F.readyFired())&&x.addItem({output:F.readyFired()},"readyFired",{type:m.DT_CODES.ADTALK});u.send(m.DT_CODES.ADTALK)})}));h.on("usesca")&&B.load()}},f=function(a){var d=function(b){return a instanceof Object&&(b||!c())},c=function(){return a instanceof Array},b=function(b,c){if(a.length===+a.length)for(var d=0,e=a.length;d<
e;++d)b(d,a[d]);else for(d in a)(a.hasOwnProperty(d)||c)&&b(d,a[d])},e=function(a,c){var d=[];b(function(b,e){var g=a(b,e);if(void 0!==g||c)d[d.length]=g});return d},g=function(a,c){c=c||",";var d=[];b(function(b,c){var e=a(b,c);f.isDef(e)&&d.push(e)});return d.join(c)},n=function(b,a,c){for(var d in a)f.isDef(a[d])&&(c||a.hasOwnProperty(d))&&(b[d]=a[d]);return b},h=function(a){var c={};b(function(b,e){var g=a(b,e);d(g)&&n(c,g)});return c};return{each:b,isObj:d,isArray:c,invert:function(){return h(function(b,
a){var c={};c[a]=b;return c})},mapToObj:h,map:e,keys:function(){var a=[];b(function(b){a.push(b)});return a},toParams:function(b){return g(function(b,a){return"string"===typeof b&&-1!==b.indexOf("NULL")?a:b+":"+a},b)},stringify:g,toION:function(b,g){var h,q="[",n="]";g=g||0;b=b||{};if(4<++g)return"object";if(!d(!0))return a;c()?h=e(function(a,c){return f(c).toION(b,g)}):(q="{",n="}",h=e(function(a,c){return(b[a]||a)+":"+f(c).toION(b,g)}));return q+h.join(",")+n},compareTo:function(a){var c=!1;b(function(b,
d){a[b]!==d&&(c||(c={}),c[b]=d)});return c},mixin:function(b,c,d){!0!==b?(d=c,c=n(a,b,d)):(b=n({},a,d),c=n(b,c,d));return c},find:function(a){var c;b(function(b,d){a(b,d)&&(c=d)});return c},asStrings:function(){var a={};b(function(b,c){a[b]=""+c});return a},selectProperties:function(b){var c={};f(b).each(function(b,d){f.isDef(a[d])&&(c[d]=a[d])});return c},toArray:function(){return e(function(b,a){return a})}}};f.toBase=function(a,d){var c,b=0>a,e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
g=[];a=b?-a:a;do c=a%d,g.push(e[c]),a=(a-c)/d;while(0<a);g=g.reverse().join("");return b?"-"+g:g};f.isDef=function(a){return"undefined"!==typeof a};f.isUndef=function(a){return!f.isDef(a)};f.noop=function(){};f.identity=function(a){return a};f.isFunction=function(a){return"function"===typeof a};f.useIfDef=function(a){return f.isDef(a)?a:!1};f.stringifyTriState=function(a){return!0===a?1:!1===a?0:"na"};f.flatJSONParse=function(a){var d,c,b,e=/"(\w+)":(\d+|(?:"([^"]*)"))/g,g={};for(b=e.exec(a);b;)d=
b[1],c=b[3],b=b[2],g[d]=c||+b,b=e.exec(a);return g};var Oa=function(a,d,c,b,e,g){g=g||b.parentNode||b.parent;var f=function(){var c=t.embedded?a.calcDims():d.calcDims(b,g);e===m.DETECTION_METHODS.SPAN&&c.disallowHiddenState();return c},h=function(){var b=f(),a=-1;b.hasValidDims()&&(a=c.calcPercentInView(y.calcWinDims(),b));return a},l=function(){return c.calcInitialViewState(h())},p=function(){return b===window?!1:f().isHidden()};(function(){var a=b===window?document.body:b;u.addEvent(a,"click",function(){w.trigger("adComponentClicked")});
u.addEvent(a,"mouseover",function(){w.trigger("adComponentMousedOver")})})();return{getAdNode:function(){return b},isNode:function(a){return b===a},isHidden:p,isObstructed:function(){return!1},getDims:f,getPercentInView:h,getLocationState:l,getOnPageViewability:function(){return p()?m.OUT_OF_VIEW:l()},getDetectionMethod:function(){return e},getContainerDims:function(){return S(g).get()},refresh:function(){var a,c=b.parentNode;if(c){for(;b!==window&&c&&c!==document&&!a;)a=c===g,c=c.parentNode;a||(g=
b.parentNode)}}}},Pa=function(a,d,c){var b=[],e=function(){return b[0]&&b[0].getDetectionMethod()===m.DETECTION_METHODS.SPAN},g=function(g,l,h){g=Oa(a,d,c,g,l,h);e()&&b.shift();b.push(g)},n=function(){var a=0,c=0;f(b).each(function(b,d){var e;e=d.getDims();e.hasValidDims()&&(e=e.getRounded(),e=e.width*e.height,a+=e,c+=d.getPercentInView()/100*e)});return r.round(c/a*100)},h=function(){return c.calcInitialViewState(n())},l=function(a){var c=-1;f(b).each(function(b,d){d.isNode(a)&&(c=b)});return c},
p=function(a){return function(){return b[0]&&b[0][a]()}};w.on("adComponentAdded",function(b){f(b).each(function(b,a){-1===l(a)&&g(a,m.DETECTION_METHODS.MUTATION)})});w.on("adComponentRemoved",function(a){f(a).each(function(a,c){var d=l(c);-1<d&&b.splice(d,1)})});return{getOriginatingNode:p("getAdNode"),getDims:p("getDims"),isObstructed:p("isObstructed"),getDetectionMethod:p("getDetectionMethod"),getContainerDims:p("getContainerDims"),getViewState:h,getPercentInView:n,isHidden:p("isHidden"),isUsingPlaceholder:e,
hasAd:function(){return!!b.length},refresh:function(){f(b).each(function(b,a){a.refresh()})},addAdComponent:g,getOutOfViewReasons:function(){var a=[],c=b[0],d=m.OUT_OF_VIEW_REASONS,e=h();e!==m.OUT_OF_VIEW&&e!==m.PARTIAL_VIEW_MINUS||a.push(d.GEOM);c.isHidden()&&a.push(d.HIDDEN);c.isObstructed()&&a.push(d.OBSTRUCTION);return a},getComponentCount:function(){return b.length}}},Qa=function(a){var d=!1;if(!f.isUndef(window.MutationObserver)){var c=new MutationObserver(function(b){r.execAtEndOfThread(function(){d&&
f(b).each(function(b,a){a.addedNodes.length&&w.trigger("adComponentAdded",a.addedNodes);a.removedNodes.length&&w.trigger("adComponentRemoved",a.removedNodes)})})}),b=function(){d=!0;setTimeout(function(){d=!1},40)};w.on("adComponentClicked",b);w.on("adComponentMousedOver",b);try{c.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(e){a.add(a.ERROR_AC_WATCHER)}}},X=function(){var a=[],d={},c={percentInView:"piv",sl:"vs",reason:"r",adDimensions:"ac",width:"w",height:"h"};w.on("newScreenEvent",
function(b){b=f(b).selectProperties(f(c).keys());b=f(b).asStrings();var e=f(b).compareTo(d);e&&(e.t=t.getTagTime(),a.push(e));f(d).mixin(b)});return{toString:function(){return f(a).toION(c)}}},Ra=function(a,d,c,b,e,g,n){var h;(function(){var g=c.getRounded(),f=g.width-5,s=g.height-5,q=0.5*g.width+1,g=0.5*g.height+1;h=[new a(d,f,s,e,n,b),new a(d,f,5,e,n,b),new a(d,5,s,e,n,b),new a(d,5,5,e,n,b),new a(d,q,g,e,n,b)]})();return{getNumInView:function(){var b=[],a=0;f(h).each(function(a,c){var d=c.isInView()?
1:0;b.push(d)});g.addItem({output:b.join(".")},"pvs");f(b).each(function(b,c){a+=c});return a},getPctInView:function(b){return 5===b?100:3<=b?51:0},isReady:function(){var b=!0;f(h).each(function(a,c){c.isNotReadyToReport()&&(b=!1)});return b}}},Sa=function(a,d,c,b,e,g,n,h){var l=new a(T,document.body,d,b,e,n,h),p,s,q=0;c=c||f.noop;p=setInterval(function(){l.isReady()&&!s?(s=!0,c(),clearInterval(p)):(5===++q||s)&&clearInterval(p)},50);return{checkViewable:function(){var b=l.isReady(),a=l.getNumInView(),
a=l.getPctInView(a),d=g.calcInitialViewState(a,!0);b&&!s&&(s=!0,c());return{str:b?d:m.NA,pct:b?a:-1}}}},ba=function(a,d,c,b,e,g,n){var h,l,p=d.getRounded(),s=[],q=!1,x=0,A=function(){var b;if(!q)for(q=!0,b=0;b<s.length;b++)if(s[b].isNotReadyToReport()){q=!1;break}return q},B=function(){var b=0,a=0;f(s).each(function(c,d){a+=d.weight;d.isInView()&&(b+=d.weight)});return r.round(b/a*100)};(function(){var c=Ta(p,1).get();f(c).each(function(c,d){var f=new a(document.body,d.x,d.y,b,e,g,n);f.weight=d.weight;
s.push(f)})})();c=c||f.noop;h=setInterval(function(){A()&&!l?(l=!0,c(),clearInterval(h)):(5===++x||l)&&clearInterval(h)},50);return{checkViewable:function(){var b=A(),a;b&&(a=50<=B()?m.IN_VIEW:m.OUT_OF_VIEW);b&&!l&&(l=!0,c());return{str:b?a:m.NA,pct:b?B():-1}}}},R=function(){var a={},d=function(c,b){a[c]=a[c]||new U;a[c].push(b)};return{on:function(a,b){b?d(a,b):f(a).each(d)},trigger:function(){var c,b=f(arguments).toArray();(c=a[b.shift()])&&c.run.apply({},b)}}},T=function(a,d,c,b,e,g,n){var h=b.on("nextcocoa"),
l,p,s,q,x,A,B=function(b,a){return'<param name="'+b+'" value="'+a+'"/>'},E=function(){var b;b=new Q;var a=k.cocaPuffsPath;b.sub("static");b.master(b.master().split(":")[0]);a&&(b.master(a),b.sub(""));var a=b+(h?"/detector4.pix":"/detector3.pix"),c=B("allowscriptaccess","always"),d=B("movie",a)+B("play","true")+B("loop","true");g.browserIs("i")?(b=document.createElement("div"),b.innerHTML="<object "+('id="blag'+k.birthdate+'" ')+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '+(m.IAS_DETECTOR+
'="true" ')+('type="'+m.FLASH_MIME+'" ')+('data="'+a+'" ')+">"+d+c+"</object>",l=b.firstChild):(l=document.createElement("object"),l.data=a,l.type=m.FLASH_MIME,l.innerHTML=c,l[m.IAS_DETECTOR]="true");l.style.position="absolute";l.style.width="1px";l.style.opacity="0";l.style.height="0px";return l},z=function(b){b.style.height=s?"1px":"2px";s=!s;h||r.execAtEndOfThread(function(){if(C())try{p=b.isInView()}catch(a){v()}})},v=function(){A=!1;w.trigger("error",n.ERROR_COCOA_GONE)},C=function(){var b=h?
"getId":"isInView";(b=A||l&&f.isFunction(l[b]))&&!q&&(A=!0,h&&(q=l.getId()));return b};h&&u.addEvent(window,"message",function(b){b=f.flatJSONParse(b.data);"IASCOCOA"===b.type&&b.id===q&&(x=1===+b.isInView)});(function(b,a,c){var d=E(),g=d.style;g.left=a+"px";g.top=c+"px";b.appendChild(d);g.height="1px";e.onHiddenChange(function(b){b?g.height="0px":z(d)})})(a,d,c);return{isInView:function(){var b;if(C()){try{b=h?x:l.isInView()}catch(a){v()}g.browserIs("w")&&b!==p&&z(l)}return C()&&b},isNotReadyToReport:function(){return!C()},
createdFlash:l}},ca=function(a){return{doEligibleJobs:function(d){var c=a[0],b=c&&c.time;b&&d>=b&&(c.task(),a.shift())},getNextJob:function(){return a[0]}}},ia=function(a){var d=0,c={},b=function(b,a,c){if(f.isUndef(b.output))throw Error("item with id "+a+' must have "output" method');this.item=b;this.id=a||++d;this.props=c||{};this.output=function(){return f.isFunction(b.output)?b.output():b.output}},e=function(a,d,e){a=new b(a,d,e||{});c[a.id]=a};a.on("addOutputItem",function(b,a,c){e(b,a,c)});
return{addItem:e,iterate:function(b){var a,d,e=[];for(a in c)c.hasOwnProperty(a)&&(d=b(a,c[a]))&&e.push(d);return e},getItem:function(b){return c[b]}}},Ta=function(a,d){var c,b,e,g=a.width,f=a.height,h=[],l=g/(d+1),p=f/(d+1),s=1;if(0===g||0===f)h.push({x:1,y:1,weight:1});else for(e=p;e<f;e+=p,s++)b=l*s,b>g/2&&(b=g-b),c={x:r.floor(b),y:r.floor(e),weight:1},b={x:r.floor(g-b),y:r.floor(e),weight:1},c.x===b.x?(c.weight=2,c.x+=1,c.y+=1,h.push(c)):(h.push(c),h.push(b));return{get:function(){return h}}},
U=function(){var a=[];return{push:function(d){a[a.length]=d},run:function(){var d=arguments;f(a).each(function(a,b){b.apply({},d)})}}},ya=function(a,d,c){return{collect:function(){var b,e=a.find(),g=e.getOutOfViewReasons(),n=c.isHidden();try{b=y.calcWinDims()}catch(h){d.add(d.ERROR_GET_WIN_DIMENSIONS),b=-1}if(-1===b||!e.getDims().hasValidDims())return e=e.getDims().getRounded(),{viewState:m.NA,posViewState:m.NA,embedded:t.embedded,winDimensions:b,adDimensions:e};!0===n&&g.push(m.OUT_OF_VIEW_REASONS.FOCUS);
return{winDimensions:b,adDimensions:e.getDims(),containerDimensions:e.getContainerDims(),method:e.getDetectionMethod(),viewState:g.length?m.OUT_OF_VIEW:e.getViewState(),percentInView:e.getPercentInView(),reason:g.join("."),obstructed:f.stringifyTriState(e.isObstructed()),isHidden:f.stringifyTriState(e.isHidden()),tabHidden:f.stringifyTriState(n),posViewState:e.getViewState(),adCompCount:e.getComponentCount()}}}},Ua=function(a){a=a||f.identity;var d=[],c=r.now(),b=function(){var b=r.now();d.length&&
(d[d.length-1].duration+=b-c,c=b)};return{clear:function(){b();d=[]},fastForward:b,get:function(){return d},hasAlwaysBeen:function(b){return 1===d.length&&d[0].state===b},addState:function(c){var g=d[d.length-1];c=a(c);b();0!==d.length&&c===g.state||d.push({state:c,duration:0})}}},Va=function(a){var d=a||1,c=0,b=0,e=0,g=0;return{start:function(){0===c%d&&(e=r.now())},stop:function(){0===c%d&&(g+=r.now()-e,b++);c++},getTime:function(){return g},getCount:function(){return b}}},da=function(a){var d=
0,c=t.getTagTime(),b=0,e,g;return{getTotalTime:function(){return b},stop:function(){d=0;c=t.getTagTime()},mark:function(){e=t.getTagTime()-c;d+=e;d>a&&(g=d-e<a,b+=g?d:e);c=t.getTagTime()}}},Q=function(a){a=a||k.adsafeSrc||k.requrl;a=/^(http|https):\/\/(([^\/\.]*)\.([^\/]*))/.exec(a);var d=a[1],c=a[3],b=a[4],e,g,n=function(b){f.isDef(b)&&(c=b);return c},h=function(a){f.isDef(a)&&(b=a);return b},l=function(){var b="";f(g).each(function(a,c){b+="&"+a+"=";b=f(c).isObj()?b+("{"+f(c).toParams()+"}"):b+
c});return"?"+b.substr(1)};return{fullDom:a[0],sub:n,master:h,setField:function(b,a){g=g||{};f(a).isObj()&&f.isDef(g[b])&&(a=f(g[b]).mixin(!0,a));g[b]=a},path:function(b){e=b},_getQsParams:function(){return g},toString:function(){var b=n()?n()+".":"",a=e?"/"+e:"",c=g?l():"";return d+"://"+b+h()+a+c}}},Wa=function(a,d){var c=!1,b=!1,e,g=function(){c||(c=!0,e=d.createViewabilityTracker("mpt",function(b){return b.isFullyInView()}))},n=function(b){if(!f.isUndef(b.eventData)){var a=-1;f.isDef(b.eventData.volume)?
a=b.eventData.volume:f.isDef(b.eventData.adVolume)&&(a=b.eventData.adVolume);return a}},h=function(a){a=n(a);c||0!==a?c&&(b||0===a)&&(a={isFullyInView:function(){return!1}},e.addState(a)):b=!0};return{init:function(){var b=function(b){h(b)};a.on({adStarted:g,adVideoStart:g,adVideoStarted:g,volumeChanged:b,adVolumeChange:b,adVideoMidpoint:function(){e&&e.hasAlwaysBeen(!0)&&a.trigger("sendDt",m.DT_CODES.QUARTILE_FULLY_INVIEW)}})}}},xa=function(a,d,c,b,e,g,f){var h=-1!==k.mode.indexOf("jsvid"),l=k.thisScriptNode.parentNode,
p=Pa(e,a,c);Qa(d);return{find:function(){var b,a=m.DETECTION_METHODS,c=function(c){var d=y.findLargestChildNode(l);1<y.getNodeArea(d)&&!d[m.IAS_DETECTOR]?p.addAdComponent(d,c||a.AD_HUNT,l):p.hasAd()||(b=y.getPlaceholderSpan(),l.insertBefore(b,k.thisScriptNode.nextSibling),p.addAdComponent(b,c||a.SPAN))};if(p.isUsingPlaceholder()||!p.hasAd())g.isMobileApp()?c(g.getDetectionMethod()):h?p.addAdComponent(f.findVideo(),a.VIDEO):t.embedded?p.addAdComponent(window,a.IFRAME):c();return p},getDetectionMethod:function(){},
isAdDetected:function(){return!0!==p.isUsingPlaceholder()},getOriginatingElement:function(){return p.getOriginatingNode()},getParent:function(){return l}}},Ja=function(a){var d=[],c=function(b){var a;b=b||k;b.reqquery?a=b.reqquery.split(/(?:anId=|anid=|ANID=)([^&]*)/)[1]:(a=b.adsafeSrc.split("/"),a=a[5]+"-"+a[6]);b={adId:a,adSafeId:b.asid};d.push(b);return b},b=function(){var a=[],c={},d={noMe:!0};return{addFrame:function(b){a.push(b);c[b.pageId]=b;b.isMe&&(d=b)},list:a,lookup:c,me:function(){return d},
output:function(){var b;b=f(a).stringify(function(b,a){var c="";if(a.isLeaf||a.isMe||f.isDef(a.selfDescription))return c+=a.getStringifiedPosition(),c+=a.isMe?"*":"",c+=a.adProxies.length?"."+a.adProxies[0].adId:""},"|");return f.toBase(d.unifiedId,62)+"+"+b},getIdMap:function(){var c,d;d=b.me().getStringifiedPosition();c=f(a).stringify(function(b,a){var c;if(a.isMe)return d+"*";if(a.srcIsEmbedded&&t.embedded&&(a.isLeaf||a.isMe||f.isDef(a.selfDescription))&&(c=a.getStringifiedPosition(),d&&c&&a.srcId&&
a.transferDuration&&(0===d.indexOf(c)||0===c.indexOf(d))))return c+"."+a.srcId+"."+a.transferDuration},"|");return c=120<c.length?c.substr(0,120)+".of"+c.length:c}}},b=new b,e=function(){return{output:b.getIdMap}},e=new e,g=function(a,c,e){var g,h,l=a===window;e=e||{};g={position:c.slice(0),pageId:c.join("-"),domObj:function(){return a},isMe:l,isLeaf:!a.frames.length,adProxies:l?d:[],selfDescription:void 0,unifiedId:k.birthdate,srcId:e.srcId,transferDuration:e.transferDuraiton,srcIsEmbedded:e.srcIsEmbedded};
h=function(b){g.selfDescription=b;g.adProxies=b.adProxies};g.toString=function(){return JSON.stringify(g)};g.getStringifiedPosition=function(){return f(g.position).map(function(b,a){return f.toBase(Number(a)+1,36)}).join("")};g.addInformationFromSrc=function(b){h(b.messageContent.self);f(["srcId","transferDuration","srcIsEmbedded"]).each(function(a,c){f.isUndef(g[c])&&(g[c]=b[c])})};b.addFrame(g);return g},n;n=new function(){var b=function(a,c){var d=c.length,e=a.frames;if(!(new g(a,c)).isLeaf){for(var f=
0;f<e.length;f++)c[d]=f,b(e[f],c);c.pop()}};return{start:function(){b(top,[0])}}};var h=function(b){var a={srcId:k.asid,srcKey:k.asid.split("-")[2],srcStart:k.birthdate,replyTo:document.location,sendMessage:function(c,d){d=d||"*";b.sentTime=r.now();delete a.updateMessage;delete a.sendMessage;c.postMessage(JSON.stringify(a),d)},updateMessage:function(a){b=a(b)},messageContent:b||{},srcIsEmbedded:t.embedded};return a},l;l=new function(){var c=[],d=function(a){var c=b.me();(new h({self:c,expectedPageId:a.pageId,
unifiedId:c.unifiedId})).sendMessage(a.domObj())};return{sendMessages:function(){var a,c;for(a=0;a<b.list.length;a++)c=b.list[a],c.isMe||d(c)},listen:function(){u.addEvent(window,"message",function(e){var h,l,n,m=b.me();try{h=JSON.parse(e.data);l=h.messageContent;if(k.asid.split("-")[2]!==h.srcKey||!h.hasOwnProperty("messageContent"))return;l.unifiedId<m.unifiedId&&(m.unifiedId=l.unifiedId)}catch(z){return}c.push(h);try{if(l.expectedPageId!==b.me().pageId)a.add(a.ERROR_ADTALK_DUBIOUS);else{h.transferDuration=
r.now()-l.sentTime;n=b.lookup[l.self.pageId];if(f.isUndef(n)||f.isUndef(n.selfDescription))n=n||new g(e.source,l.self.pageId.split("-"),h),d(n);n.addInformationFromSrc(h)}}catch(v){a.add(a.ERROR_ADTALK_DUBIOUS)}})}}};return{sendMessages:l.sendMessages,listen:l.listen,findFrames:n.start,createAdProxy:function(b){return new c(b)},getFrameStore:function(){return b||""},getIdMap:function(){return e||""}}},Ca=function(a,d,c,b,e){var g=function(b,a,c){e.addItem({output:b+"."+a+"."+c},"ctpl")},n=function(e){try{d.diagnostic("c");
var l=e.length,n=0,s=0;g(l,0,0);f(e).each(function(c,d){a.send(d.replace("%%CBS%%",b.getCacheBustId()),function(){g(l,n,++s)},!0);g(l,++n,s)})}catch(q){c.add(c.ERROR_AT_SEND)}};return{init:function(){try{var b=(new Q).fullDom;"/"!==b.slice(-1)&&(b+="/");b+="tpl?asId="+k.asid;a.jsonp(b,n)}catch(d){c.add(c.ERROR_AT_INIT)}}}},Ba=function(a,d,c,b){return{enabled:"true"===k.useBapiCallback,callback:function(d){c.trigger("sendDiag");try{"true"===k.accountForSadImps&&b.measure(d),k._onAPIResult&&k._onAPIResult(d)}catch(g){a.add(a.ERROR_BAPI_CALLBACK),
c.trigger("sendDiag","bapiClient")}}}},ra=function(a){var d=function(){var b=function(b){return b.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",").join(".")};try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(c){return"6"}}catch(d){}return b((new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))}catch(e){try{if(navigator.mimeTypes[m.FLASH_MIME].enabledPlugin)return b((navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description)}catch(f){}}return"0"},
c=function(b){return e()===b},b=function(){return document&&document.documentMode?document.documentMode:m.NA},e=function(){var b="u";try{if(f.isDef(window.opera)&&f.isDef(window.opera.buildNumber))b="o";else if(f.isDef(window.mozInnerScreenY))b="g";else if(f.isDef(window.chrome)&&f.isDef(window.chrome.csi))b="c";else if(f.isDef(window.WebKitPoint))b="w";else if(f.isDef(window.attachEvent)||f.isDef(window.msCrypto))b="i"}catch(a){}return b};return{browserIs:c,getFlashVersion:d,getDocumentMode:b,getBrowserVendor:e,
params:function(){var a=e(),n=d(),h=5;c("i")?window.msCrypto?h=11:window.atob?h=10:document.addEventListener?h=9:window.JSON&&document.querySelector?h=8:window.XMLHttpRequest?h=7:document.compatMode&&(h=6):h=m.NA;var l=b(),p;p=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"];var s=m.NA,q=document.createElement("div");try{if("-ms-ime-align"in document.documentElement.style)s="11";else{q.style.behavior="url(#default#clientcaps)";
for(var k=0;k<p.length&&!(s=q.getComponentVersion(p[k],"componentid").replace(/,/g,"."));k++);}}catch(A){}p=s;s=m.NA;f.isDef(window.navigator)&&f.isDef(window.navigator.appName)&&(s=window.navigator.appName.toLowerCase()[0]);return{br:a,fv:n,bv:h,dm:l,abv:p,an:s}}}},Ia=function(a){var d=0.5<=r.random()?"cdn":"collo",c=function(){a.trigger("sendDiag",d+"Test","cdnTest")};return{init:function(){var b,e=k[d+"TestUrl"];e&&(b=-1===e.indexOf("?")?"?":"&",e=e+b+"asid="+k.asid,a.trigger("exec",e,c))}}},oa=
function(a,d){var c=function(b,a){var c,d,e=k.thisScriptNode.parentNode;a=a||b;b=1<arguments.length?b:"script";c={script:['<script type="text/javascript" src="','">\x3c/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']}[b];d=c[0]+a+c[1];"true"===k.forceAppend?"script"!==b?(c=document.createElement("DIV"),c.innerHTML=d,e.appendChild(c.childNodes[0])):(c=document.createElement("SCRIPT"),
c.src=a,e.appendChild(c)):document.write(d)},b=function(b,a,c){var d=!c&&u.getXHR2();d?(d.open("POST",b),d.onreadystatechange=function(){4===d.readyState&&200===d.status&&a&&a()},d.send()):(c=new Image,a&&(c.onload=a),c.src=b)},e=function(b,a){var c=document.createElement("script");c.type="text/javascript";c.src=b;a&&(c.onload=a);f.isDef(k.thisScriptNode.parentNode)&&k.thisScriptNode.parentNode.appendChild(c)},g=function(c){f.isFunction(c)?c():"string"===typeof c?b(c,void 0,!0):a.add(a.ERROR_NOTIFY_CLIENT)};
w.on({addNode:c,send:b,exec:e,notify:g});return{addNode:c,send:b,exec:e,notify:g,jsonp:function(b,a,c,g){e(d.wrap(b,a,c,g))}}},m={MAX_URL_LENGTH:2E3,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",DT_CODES:{UNLOAD:"u",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",ADTALK:"a",VIEWABILITY_READY:"v",VIDEO_EVENTS:"m",DIAGNOSTIC:"b",POS_INVIEW:"t",THIRD_PARTY:"i",SCA:"s"},DETECTION_METHODS:{SPAN:"s",
AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MOBILE:"m",MUTATION:"c"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h"},IAS_DETECTOR:"iasdetector"},t=function(){var a=window!=top,d=function(){var a;try{a=!!top.document}catch(b){a=!1}return a}();return{embedded:a,friendly:d,getTagTime:function(){return r.now()-k.birthdate},getPageTime:function(){return f.isDef(window.chrome)&&f.isDef(window.chrome.csi)&&f.isFunction(window.chrome.csi)?r.round(chrome.csi().pageT):m.NA},friendlyIframe:a&&
d,xDomainIframe:a&!d}}(),u={addEvent:function(a,d,c,b){f.isDef(a.addEventListener)?"mouseenter"===d?a.addEventListener("mouseover",u.mouseEnter(c),b):"mouseleave"===d?a.addEventListener("mouseout",u.mouseEnter(c),b):a.addEventListener(d,c,b):f.isDef(a.attachEvent)&&a.attachEvent("on"+d,c)},removeEvent:function(a,d,c){f.isDef(a.removeEventListener)?("mouseenter"===d?(d="mouseover",c=u.mouseEnter):"mouseleave"===d&&(d="mouseout",c=u.mouseEnter),a.removeEventListener(d,c)):f.isDef(a.detachEvent)&&a.detachEvent("on"+
d,c)},mouseEnter:function(a){var d=this;return function(c){var b=c.relatedTarget;this===b||d.isAChildOf(this,b)||a.call(this,c)}},isAChildOf:function(a,d){if(a===d)return!1;for(;d&&d!==a;)d=d.parentNode;return d===a},getStyle:function(a,d){var c="";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(d):a.currentStyle&&(d=d.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),c=a.currentStyle[d]);return c},getXHR2:function(a,
d){var c,b;f.isDef(window.XMLHttpRequest)?(b=new XMLHttpRequest,"withCredentials"in b&&(c=b)):f.isDef(XDomainRequest)&&(c=new XDomainRequest);return c}},za=function(a,d,c,b,e,g,n,h,l,p,s,q){var x=0,A=0,B=!1,E,z=function(a,e,f,h,n){f=f||!b.on("postDts");if(g.impressionIsIdentifiable()&&(a===m.DT_CODES.DIAGNOSTIC||a===m.DT_CODES.ADTALK||"n"!==l.getCurrentLoc()))try{var q=new Q,k=r.now();q.path("dt");q=D(q,a,e,n);h||(q=C(q,a,e));d.send(q.toString(),function(){A+=1;x=r.now()-k},f);a===m.DT_CODES.UNLOAD&&
(B=!0)}catch(s){__IntegralASDiagnosticCall("dt-"+a,s),c.add(c.ERROR_PHONE_HOME)}},v=function(a,c){var d={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e",cdnTest:"f",colloTest:"g"},e=k.mode,d=d[a]||d[e];b.on(c||e+"Diag")&&d&&z(m.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:d})},C=function(a,d){l.fastForward();var e={};d===m.DT_CODES.VIDEO_EVENTS&&q&&s&&(e.ve=q.stringify(),b.on("sendclogs")&&(e.clog=p));d===m.DT_CODES.UNLOAD&&(e.ndt=A);-1!==k.mode.indexOf("jsvid")&&s&&(e.vv=s.version);e.NULL1=
b.output();e.NULL2=l.stringify(10);e.em=t.embedded;e.fr=t.friendly;e.uf=E.useFlash()?1:0;e.e=c.toString();e.tt=k.mode;e.dtt=x;n.iterate(function(b,a){a.props.type&&a.props.type!==d||(e[b]=a.output())});a.setField("tv",e);a.setField("br",h.getBrowserVendor());return a},D=function(a,c,d,e){if(!f.isDef(d)){var h;c===m.DT_CODES.UNLOAD?h=-1:c===m.DT_CODES.ADTALK?h=-2:c===m.DT_CODES.VIEWABILITY_READY?h=-3:c===m.DT_CODES.VIDEO_EVENTS&&q&&s?h=-4:c===m.DT_CODES.DIAGNOSTIC?h=-5:c===m.DT_CODES.THIRD_PARTY?h=
-6:c===m.DT_CODES.QUARTILE_FULLY_INVIEW&&(h=-7);d=h}b.on("usedtdomain")&&a.sub("dt");a.setField("asId",k.asid);a.setField("tv",{c:g.getCacheBustId(),pingTime:d,time:t.getTagTime(),type:c});e&&a.setField(e.field,e.value);return a};e.on({sendDt:function(b,a){z(b,a)},sendDiag:function(b,a){v(b,a)}});return{send:z,sendCookie:function(){var a;b.on("cookie")&&"true"===k.sendCookie&&k.protocol&&k.cookieDomain&&k.asid&&(a=k.protocol+"://"+k.cookieDomain+"?asid="+k.asid,d.send(a,void 0,!0),A++)},unload:function(){B||
z(m.DT_CODES.UNLOAD,-1,!0)},diagnostic:v,setViewabilityMod:function(b){E=b}}},S=function(a){var d={},c=!1,b=function(){return{x:r.round(d.x),y:r.round(d.y),width:r.round(d.width),height:r.round(d.height)}};(function(){var b;a!==window.parent&&(1!==a.nodeType?d=a:f.isDef(a.getBoundingClientRect)&&(b=y.getRect(a),f(d).mixin({x:b.left,y:b.top,width:b.width,height:b.height})))})();return{hasValidDims:function(){var b=1===a.nodeType?d:a;return!(isNaN(b.x)||isNaN(b.y)||isNaN(b.height)||isNaN(b.width))},
toString:function(){var a=b();return[a.x,a.y,a.width,a.height].join(".")},get:function(){return d},getRounded:b,set:function(b,a){d[b]=a},isHidden:function(){var b=1===a.nodeType?y.nodeIsHidden(a):0===a.width||0===a.height;return c?!1:b},disallowHiddenState:function(){c=!0}}},sa=function(){return{calcDims:function(a,d){var c=S(a),b=y.getClippedDimensions(a,d),e=c.get();c.set("height",b.height<e.height?b.height:e.height||1);c.set("width",b.width<e.width?b.width:e.width||1);return c}}},y={nodeIsHidden:function(a){var d=
this.getRect(a);a=0!==parseInt(u.getStyle(a,"width"))&&0===d.width;d=0===d.width||0===d.height;return a||d},calcWinDims:function(){var a,d,c,b;b=y.windowSize();c=b.width;b=b.height;t.friendly?a=d=0:(f.isDef(window.screenX)&&(a=window.screenX),f.isDef(window.screenY)&&(d=window.screenY));return isNaN(a)||isNaN(d)||isNaN(c)||isNaN(b)?-1:{x:r.round(a),y:r.round(d),width:r.round(c),height:r.round(b)}},windowSize:function(){var a={},d,c;if(t.friendly)if(d=top.document,c=d.documentElement,d=d.getElementsByTagName("body")[0],
f.isDef(top.innerWidth))a.width=top.innerWidth,a.height=top.innerHeight;else if(f.isDef(c.clientWidth))a.width=c.clientWidth,a.height=c.clientHeight;else if(f.isDef(d.clientWidth))a.width=d.clientWidth,a.height=d.clientHeight;else throw a.width=a.height=0,"";else f.isDef(window.outerWidth)&&(a.width=window.outerWidth,a.height=window.outerHeight);return a},screenSize:function(){try{var a=-1,d=-1;f.isDef(window.screen)&&(a=window.screen.width,d=window.screen.height);return{width:a,height:d}}catch(c){}},
getNodeArea:function(a){var d=-1;a&&(a=y.getRect(a),d=a.width*a.height);return d},getRect:function(a){var d={};a=a.getBoundingClientRect();f.isUndef(a.x)&&(d={x:a.left,y:a.top});f.isUndef(a.width)&&f(d).mixin({width:a.right-a.left,height:a.bottom-a.top});f(d).mixin(a,!0);return d},getIeDimObj:function(){return document.documentElement&&f.isDef(document.documentElement.clientWidth)&&document.documentElement||document.body},getPlaceholderSpan:function(){var a=document.createElement("span");f(a.style).mixin({width:"0px",
height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"});a.innerHTML=".";return a},getClippedDimensions:function(a,d){var c=1E4,b=1E4,e="absolute"===u.getStyle(a,"position"),g;if(null!==a.parentNode&&!e){do a=a.parentNode,e="OBJECT"!==a.tagName.toUpperCase(),g="inline"!==u.getStyle(a,"display"),e&&g&&(e=y.getRect(a),c=e.width<c?e.width:c,b=e.height<b?e.height:b);while(a.parentNode!==document&&a!==d)}return{width:r.round(c),height:r.round(b)}},findLargestChildNode:function(a){var d,c=
"iframe img a object embed div".split(" "),b,e,g,n,h=[],l=-1;b=0;for(e=c.length;b<e;b++){var k=a.getElementsByTagName(c[b]);if(k.length)for(g=0,n=k.length;g<n;g++)h.push(k[g])}if(h.length)for(b=0,e=h.length;b<e;b++)a=h[b],c=y.getNodeArea(a),c>l&&(d=a,l=c);return f.isUndef(d)?null:f.isDef(d.nodeName)&&"DIV"==d.nodeName?y.findLargestChildNode(d):d}},pa=function(a){return{getProps:function(){var d={};try{var c=document.createElement("span");f(c.style).mixin({position:"absolute",top:"150"});d={rpx:""===
c.style.top?1:0}}catch(b){a.add(a.ERROR_ENVIRONMENT)}return d}}},ha=function(a){var d={},c=function(b){f.isDef(d[b])?d[b]++:d[b]=1};a.on("error",function(b){c(b)});return{list:d,add:c,toString:function(){var b="",a;for(a in d)d.hasOwnProperty(a)&&(b+=a);return b},hasErrors:function(){for(var b in d)return!0;return!1},ERROR_GET_AD_DIMENSIONS:"a",ERROR_ADTALK_GENERAL:"c",ERROR_GET_SCREEN_LOC_GET_DIMENSIONS:"d",ERROR_EXCHANGE_PARSING:"x",ERROR_PHONE_HOME:"h",ERROR_KILL_IT:"k",ERROR_LOCATION_DETAILS:"l",
ERROR_GET_SCREEN_LOC_PIV_CALC:"p",ERROR_GET_WIN_DIMENSIONS:"w",ERROR_ADTALK_DUBIOUS:"D",ERROR_ENVIRONMENT:"v",ERROR_UID_GENERATION:"i",ERROR_NOTIFY_CLIENT:"n",ERROR_IMPRESSION_URLS:"I",ERROR_JSINFO:"J",ERROR_IMPRESSION_LEADUP:"L",ERROR_GET_ELEM_STYLE:"s",ERROR_PLUGIN_PARSING:"P",ERROR_AT_SEND:"S",ERROR_AT_INIT:"N",ERROR_BAPI_CALLBACK:"b",ERROR_AC_WATCHER:"W",ERROR_COCOA_GONE:"C",ERROR_CHECK_SCREEN_LOC:"V"}},La=function(a,d){var c=function(b){var a=[];if(b&&b instanceof Array)a=f(b).map(function(b,
a){return a.val}),a.push(k.adsafeSrc,k.requrl,k.reqquery);else throw Error("Unexpected data type in ExchangeParser.getUrlList");return a};return{parse:function(b){try{var e,g=c(b),n=g&&g.length&&g.join("|"),h=k.exchList;n&&(e=f(h).map(function(b,a){return 0<=n.indexOf(H.rot(a))?b:void 0}),e.length&&d.addItem({output:e.join(".")},"ex",{type:"UFO"}))}catch(l){a.add(a.ERROR_EXCHANGE_PARSING)}}}},W=function(){var a={},d=function(b,c){var d=RegExp(b+"(?=$|,)|"+b+":(?!,|$)(.?\\d*(?=,|$))").exec(k.jsFeatures);
if(f.isUndef(a[b])||c)a[b]=!!(d&&!d[1]||d&&d[1]>100*r.random());return a[b]},c={bl:"blur",fc:"forcecocoa",rt:"rattie",cb:"cachebust",np:"nextcocoa",th:"tabHiddenDtCall"},b=function(){return f(c).mapToObj(function(b,c){var d={};d[b]=a[c]?1:0;return d})};f(c).each(function(b,a){d(a)});return{on:d,output:function(){return f(b()).toParams()}}},ua=function(a){var d=a.browserIs("g")||a.browserIs("i")||t.friendlyIframe||!t.embedded;return{calcPercentInView:function(a,b){var d=b.isHidden(),g=b.getRounded(),
f;f=a.x;var h=g.x;f=Math.min(a.x+a.width,g.x+g.width)-Math.max(h,f);var h=a.y,l=g.y,h=Math.min(a.y+a.height,g.y+g.height)-Math.max(l,h);f=0>=f||d?0:r.round(f/g.width*100);d=0>=h||d?0:r.round(h/g.height*100);return r.round(f*d/100)},calcInitialViewState:function(a,b){var e=m.NA;if(d||b)e=75<=a?m.IN_VIEW:25>=a?m.OUT_OF_VIEW:50<=a?m.PARTIAL_VIEW_PLUS:m.PARTIAL_VIEW_MINUS;return e},getOverlappingDims:function(a,b){a.x2=a.x+a.width;a.y2=a.y+a.height;b.x2=b.x+b.width;b.y2=b.y+b.height;var d=Math.max(a.x,
b.x),f=Math.max(a.y,b.y),n=Math.min(a.x2,b.x2),h=Math.min(a.x2,b.x2);return d>n||f>h?void 0:a.x<=b.x2&&a.x2>=b.x&&a.y<=b.y2&&a.y2>=b.y}}},qa=function(a){var d=!1;return{getCacheBustId:function(){var a=new Date,b=Date.parse("Jan 1 "+a.getFullYear()),a=a.getTime()-b;return f.toBase(a,62)},impressionIsIdentifiable:function(a){a&&(d=!0);return d},unq:function(){var c="";try{for(var b,d=window.Uint32Array&&window.crypto&&window.crypto.getRandomValues;30>c.length;)d?(b=new Uint32Array(1),window.crypto.getRandomValues(b),
c+=b[0].toString(16)):c+=(16*r.random()|0).toString(16);c=c.slice(0,30)}catch(f){a.add(a.ERROR_UID_GENERATION)}return c}()}},ta=function(a,d){var c,b=function(){try{var b,c;if(t.friendly){var d=g(window);b=d.left;c=d.top}else a.browserIs("i")&&11!==a.getDocumentMode()?(d=function(a){b=a.screenX-a.clientX;c=a.screenY-a.clientY},document.documentElement.attachEvent("onmousemove",d),document.documentElement.fireEvent("onmousemove"),document.documentElement.detachEvent("onmousemove",d)):f.isUndef(window.mozInnerScreenX)?
(b=window.screenLeft,c=window.screenTop):(b=r.round(window.mozInnerScreenX),c=r.round(window.mozInnerScreenY));return{x:b,y:c}}catch(e){}},e=function(){var a,b,d=c||y.getIeDimObj();f.isDef(window.innerWidth)?(a=window.innerWidth,b=window.innerHeight):d&&f.isDef(d.clientWidth)?(a=d.clientWidth,b=d.clientHeight,0===a&&0<d.offsetWidth&&(a=d.offsetWidth),0===b&&0<d.offsetHeight&&(b=d.offsetHeight)):window.frameElement&&f.isDef(window.frameElement.clientWidth)&&(a=window.frameElement.clientWidth,b=window.frameElement.clientHeight);
return{width:a,height:b}},g=function(a,b){f.isUndef(b)&&(b={top:0,left:0});for(var c=a.parent.document.getElementsByTagName("iframe"),d,e=!1,q=0,k=c.length;q<k;q++)if(d=c[q],d.contentWindow==a){e=!0;break}e&&(c=y.getRect(d),b.left+=c.left,b.top+=c.top,a!==top&&g(a.parent,b));return b};return{calcDims:function(){var a={};try{a=f(b()).mixin(e())}catch(c){d.add(d.ERROR_GET_AD_DIMENSIONS)}return S(a)},waitForBody:function(a){var b=setInterval(function(){document.body&&(c=y.getIeDimObj(),clearInterval(b),
a())},50)}}},Ga=function(a,d,c,b,e,g,n,h){var l=function(a,b){if(b>=m.MAX_URL_LENGTH)return"";var c,d,e=[],g=function(a){return-1!==a.key.indexOf("q")||-1!==a.key.indexOf("g")};c=f(a).map(function(a,b){if(g(b))return b});d=f(a).map(function(a,b){if(!g(b))return b});f(c.concat(d)).each(function(a,c){var d="adsafe_url="+c.val+"&adsafe_type="+c.key,f=e.join("&").length;d.length+f+b<=m.MAX_URL_LENGTH&&e.push(d)});return e.join("&")},p=function(a){var e=0,l=H.hashCode(k.asid),p="adsafe_jsinfo=",B=h.needsFlash()?
{viewState:m.NA}:h.checkScreenLoc(!0),E="c:"+b.getCacheBustId()+",sl:"+B.viewState+",em:"+t.embedded+",fr:"+t.friendly,z=c.on("postDts")&&u.getXHR2()?"p":"i",v=["pt:"+h.stringifyPingTimes()+(B.viewState!=m.NA?B.details:""),f(n.params()).toParams(),"id:"+k.asid];g.iterate(function(a,b){v.push(a+":"+b.output())});d.toString()&&v.push("e:"+d.toString());v.push(c.output());v.push("uf:"+(h.useFlash()?1:0));v.push("tt:"+k.mode);v.push("et:"+(r.now()-k.birthdate));v.push("uid:"+b.unq);v.push("v:9.1");v.push("sp:"+
("true"===k.jsDoSplit?1:0));v.push("ct:"+t.getPageTime());v.push("dtm:"+z);v.push("mn:"+k.mn);v.push("gtpl:"+("true"===k.getTpl?1:0));c.on("resolution")&&(v.push("wr:"+f(y.windowSize()).toArray().join(".")),v.push("sr:"+f(y.screenSize()).toArray().join(".")));-1===(""+l).indexOf(n.params().br.toUpperCase().charCodeAt(0))&&v.push("mf:"+l);var C=function(b){return p.length+a+b.length+5<=m.MAX_URL_LENGTH},D=function(a){if(a)return","+a};C(E)&&(p+=D(E),f(v).each(function(a,c){-1!==c.indexOf("id:")&&C(c)?
(p+=D(c),b.impressionIsIdentifiable(!0)):C(c)?p+=D(c):e+=1}),D("sp:"+("true"===k.jsDoSplit?1:0)));return p+=",ov:"+e};return{send:function(a){var b=e.baseUrl;try{b+=l(a,b.length)}catch(c){d.add(d.ERROR_IMPRESSION_URLS)}b+="&"===b.slice(-1)?"":"&";try{b+=p(b.length)}catch(f){d.add(d.ERROR_JSINFO),b+="adsafe_jsinfo=e:"+d.toString()}e.macroUrl&&(b+="&"===b.slice(-1)?"":"&",b+=e.macroUrl);try{e.sendImpression(b)}catch(g){__IntegralASDiagnosticCall("impsend",g,k)}}}},Da=function(a,d){return{init:function(c){a.jsonp(c,
function(a){d.send(m.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:a})},!1,"callback")}}},Aa=function(a,d,c){var b=function(a,b){return{time:a,task:b}},e=function(a,c){c=c||f.noop;return function(e){return f(e).map(function(e,f){var h=f/1E3;return new b(f,function(){var b;b="";1!==h&&(b+=h);b=k["_onInViewMRC"+b];d.send(a,h);c(b)})})}};return{getJob:function(a,c){return new b(a,c)},getPingJobs:e(m.DT_CODES.PING,function(b){"true"===k.useViewabilityNotification&&!c.skipAsFraudulent()&&
b&&a.notify(b)}),getFullyInViewPingJobs:e(m.DT_CODES.FULLY_INVIEW),getPosInViewPingJobs:e(m.DT_CODES.POS_INVIEW)}},na=function(){var a=function(a,b){-1!==a.indexOf(b+"&")&&(b+="&");return a.replace(b,"")},d=function(a,b,d){var f=a.indexOf("?");b=b+"="+d;if(-1===f)return a+"?"+b;f++;return a.slice(0,f)+b+"&"+a.slice(f)};return{wrap:function(c,b,e,f){var n="__IntegralAS_"+k.asid.replace(/\-/g,"")+"_"+r.round(1E4*Math.random()),h,l,p;f=f||"ias_callback";RegExp(f).test(c)&&(h=RegExp("("+f+"=)(.[^&]*)").exec(c)[0],
l=h.split("=")[1],p=H.stringToFn(l),c=a(c,h));window[n]=function(a){b(a);e&&p&&p(a);window[n]=void 0};return c=d(c,f,n)}}},ma=function(){var a=function(){return void 0!==window.mraid};return{isInView:function(){var d=m.NA;a()&&void 0!==window.mraid.isViewable&&(d=window.mraid.isViewable()?m.IN_VIEW:m.OUT_OF_VIEW);return d},getDetectionMethod:function(){return a()?m.DETECTION_METHODS.MOBILE:m.NA},isMobileApp:function(){return a()}}},Ea=function(a,d,c,b){var e={jss:{isFW:!0,nodeType:"script"},jsi:{isFW:!0,
nodeType:"iframe"},jload:{impressionMethod:function(a){d.send(a,function(){w.trigger("sendDiag")},!c.on("postMon"))}},bapi:{impressionMethod:function(b){d.jsonp(b,a.enabled?a.callback:f.noop,a.enabled?!0:!1)}},jsapi:{isFW:!0,impressionMethod:function(b){d.jsonp(b,a.enabled?a.callback:f.noop,a.enabled?!0:!1)}},jsvid:{impressionMethod:function(a){w.on("adImpression",function(){d.send(a,f.noop,!c.on("postMon"))})}},fwjsvid:{isFW:!0,processUrl:function(a){"false"===k.fwMonitoring&&(a=a.split("/"),a[3]=
"db2",a[4]="video",a=a.join("/"));return a},impressionMethod:function(a){"false"===k.fwMonitoring&&d.jsonp(a,function(a){w.trigger("videoBlockResult",a)});w.on("adImpression",function(){d.send(a,void 0,!0)})}},jspix:{nodeType:"img"}};return new function(){var a=function(a){var b=-1===a.indexOf("?")?"?":"&";return a+b},c=e[k.mode],f=!!c.isFW,l=b&&k.mobFwUrl?k.mobFwUrl:f?k.adsafeSrc:k.requrl+"?"+k.reqquery,p=l.indexOf("BEGIN__ADSAFE"),m=-1!==p,q=m?l.slice(p):"",a=m?l.slice(0,p):a(l);return{isFW:f,baseUrl:a,
macroUrl:q,sendImpression:function(a){a=c.processUrl?c.processUrl(a):a;c.nodeType?d.addNode(c.nodeType,a):c.impressionMethod(a)}}}},Ka=function(a,d){var c,b=k.mtCell,e=k.mtSample,g=0,n=0,h=[],l=null,p=null,s,q=function(a){try{var c=r.now()-l;g+=c;u.removeEvent("mousemove",A);h.push("{ht:"+g+",mm:{"+f(s).toParams()+"}}");d.addItem({output:"{cs:"+b+",sr:"+e+",ec:"+h.length+",me:["+h.slice(-10).join(",")+"]}"},"mt",{type:m.DT_CODES.UNLOAD})}catch(k){}},x=function(a){try{g=0,s={},l=r.now(),u.addEvent(c,
"mousemove",A)}catch(b){}},A=function(d){var g,h,l,k,m,q,A;try{null===p&&(p=c&&f.isDef(d.clientX)&&f.isDef(d.clientY));if(p&&0===n%e&&(m=a.calcDims(),-1!==m)){A=r.ceil(m.width/b);var x=d.clientX,u=d.clientY;l=t.embedded?x:x-m.x;k=t.embedded?u:u-m.y;g=r.floor(l/b);h=r.floor(k/b);q=g+h*A;s[q]?s[q]++:s[q]=1}n++}catch(w){}};return{init:function(){var b=setInterval(function(){try{a.isAdDetected()&&(c=a.getOriginatingElement(),u.addEvent(c,"mouseenter",x),u.addEvent(c,"mouseleave",q),clearInterval(b))}catch(d){}},
250)}}},r={execAtEndOfThread:function(a){setTimeout(a,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(a){return Math.round(a)},ceil:function(a){return Math.ceil(a)},floor:function(a){return Math.floor(a)}},ja=function(a){var d={},c=r.now(),b=!0,e=new U,g=t.friendly&&a.on("blur")&&window.top.document&&f.isFunction(window.top.document.hasFocus);a=function(){var a=function(){c=r.now();window.webkitRequestAnimationFrame(a)};window.webkitRequestAnimationFrame(a);
setInterval(function(){var a=100<r.now()-c;b!==a&&(b=a,e.run(a))},100)};var k=function(){var a=null;f.isDef(document.hidden)?a=document.hidden:f.isDef(document.mozHidden)?a=document.mozHidden:f.isDef(document.msHidden)?a=document.msHidden:f.isDef(document.webkitHidden)&&(a=document.webkitHidden);if(null!==a){var c=a;b!==c&&(b=c,e.run(c))}return a};d.onHiddenChange=function(a){e.push(a)};d.isHidden=function(){return g&&!window.top.document.hasFocus()||k()};null===k()&&f.isDef(window.webkitRequestAnimationFrame)&&
(a(),d.isHidden=function(){return b});return d},ka=function(){var a=function(a){for(var b in a)if(a.hasOwnProperty(b)){var d=a[b];(""===d||"null"===d||"undefined"===d||null===d||f.isUndef(d))&&delete a[b]}return a},d=function(a){var b={},d,g;for(g in a)a.hasOwnProperty(g)&&(d=a[g],f.isUndef(b[d])?b[d]=g:b[d]+=g);a={};for(g in b)b.hasOwnProperty(g)&&(d=b[g],a[d]=g);return a};return{detectTopURL:function(){var c=function(){var a={g:"",q:""};try{a.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(b){var c=
b.message,c=c.substring(c.lastIndexOf("<")+1,c.lastIndexOf(">")),d;if(d=f.isDef(c))if(d=!1,f.isDef(window.navigator)&&f.isDef(window.navigator.userAgent)){var e=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==e&&2==e.length&&(e=e[1].split("."),3==parseInt(e[0],10)&&6>=parseInt(e[1],10)&&(3==e.length?13>=parseInt(e[2],10)&&(d=!0):d=!0))}d&&(a.g=c)}return a},b={};try{b.a=encodeURIComponent(top.location.href)}catch(e){}try{b.b=encodeURIComponent(parent.location.href)}catch(g){}if(t.embedded){try{b.c=
encodeURIComponent(parent.document.referrer)}catch(m){}try{b.e=encodeURIComponent(window.document.referrer)}catch(h){}}try{"jsi"!==k.mode&&(b.d=encodeURIComponent(window.location.href))}catch(l){}try{b.f=encodeURIComponent(k.jsref)}catch(p){}try{var s=c();b.g=encodeURIComponent(s.g);b.q=encodeURIComponent(s.q)}catch(q){}var b=a(b),b=d(b),c=[],r;for(r in b)b.hasOwnProperty(r)&&c.push({key:r,val:b[r]});c.sort(function(a,b){return a.val.length>b.val.length?1:a.val.length<b.val.length?-1:0});return c}}},
Ma=function(a){return{hash:function(){for(var d=0,c=a.length,b=[],e;d<c;d++)e=a[d].filename.replace(/\.plugin$/,""),e=H.hashCode(e),e=f.toBase(e,62).slice(-4),b.push(e);return b},decode:function(d){var c,b;c=r.floor(r.random()*d.length);b=encodeURIComponent(a[c].filename.replace(/\.plugin$/,""));return[d[c],b]}}},ga=function(a){var d=!1;return{measure:function(c){(d=0===c.rsa)&&k._onSuspicious&&a.trigger("notify",k._onSuspicious)},skipAsFraudulent:function(){return d}}},la=function(){var a=[],d={},
c={sl:"n",gsl:"gn",fsl:"fn"},b=0,e,g,k={i:0,o:0,n:0,pp:0,pm:0,gpp:0,gpm:0,gi:0,go:0,gn:0,fi:0,fo:0,fn:0},h=function(a){var b={},c=a.winDimensions,d=a.adDimensions,e=function(a){var b="";f.isDef(a)&&f.isDef(a.x)&&f.isDef(a.y)&&f.isDef(a.width)&&f.isDef(a.height)&&(b=[a.x,a.y,a.width,a.height].join("."));return b};f.isDef(c)&&-1!==c&&(b.wc=e(c));f.isDef(d)&&d.hasValidDims()&&(b.ac=d,b.am=a.method,b.cc=e(a.containerDimensions));f({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason",cmps:"adCompCount"}).each(function(c,
d){var e=a[d];f.isDef(e)&&(b[c]=e)});c=f(b).toParams();return""===c?"":","+c},l=function(a,b){var c=new Ua(b);return d[a]=c},p=function(a,b){return(b||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[a]},s=function(){f(c).each(function(c,d){k[d]+=a.length?g-b:g});b=g},q=function(b){a.length&&s();f(b).each(function(a,b){var d=c[a];d!==b&&"n"===d&&(k[b]+=k.n);c[a]=b});a.length||s()},r=function(a){var b,c=a.adDimensions.getRounded();b=h(a);var e={sl:p(a.viewState),fsl:p(a.fState||
m.NA,"f"),gsl:p(a.gState||m.NA,"g")};g=t.getTagTime();q(e);e.t=g;b=f({toString:function(){f(d).each(function(a,b){b.fastForward()});return"{"+f(e).toParams()+this.details+this.breakdowns+"}"},details:b,breakdowns:{piv:[],as:[],toString:function(){var a,b=function(a,b){return b.duration+"~"+b.state};a=""+("piv:["+f(this.piv).stringify(b)+"]");a+=",as:["+f(this.as).stringify(b)+"]";return",bkn:{"+a+"}"}},isInView:function(){return-1!==(m.IN_VIEW+"|"+m.PARTIAL_VIEW_PLUS).indexOf(a.viewState)},isFullyInView:function(){var b=
a.useCocoa?a.fullPercentInView:a.percentInView;return this.isInView()&&100===b}}).mixin(e);f(b).mixin(a);b.width=c.width;b.height=c.height;return b};(function(){l("piv",function(a){var b,c=a.percentInView,d=[1,25,30,50,75];100===c||0===c?b=c:(f(d).each(function(a,e){f.isUndef(b)&&c<e&&(b=d[a-1])}),f.isUndef(b)&&(b=d[d.length-1]));return b});l("as",function(a){a=a.adDimensions.getRounded();return a.width+"."+a.height})})();return{fastForward:function(){g=t.getTagTime();s()},registerLocation:function(b){var g,
h=!1;c.sl==p(b.viewState)&&a.length?(g=new r(b),a[a.length-1].details=g.details):(g=new r(b),a.push(g),e=b.viewState,h=!0);w.trigger("newScreenEvent",g);f(d).each(function(b,c){-1!=="piv|as".indexOf(b)?(h&&c.clear(),c.addState(g),a[a.length-1].breakdowns[b]=c.get()):c.addState(g)});return g},stringify:function(b){var c="";a.length&&(c=f({slTimes:"{"+f(k).toParams()+"}",slEvents:"["+a.slice(-b).join(",")+"]",slEventCount:a.length}).toParams());return c},createViewabilityTracker:l,getCurrentLoc:function(){return p(e)}}},
Ha=function(a){var d=k.asid,c=[0,1,4],b,e=function(){var a=setInterval(function(){window.postMessage({asid:d,ksca:"acsk",sender:"main"},"*")},50);window.addEventListener("message",function(b){b=b.data;"acsk"===b.ksca&&b.asid===d&&"main"!==b.sender&&("ack"===b.type&&clearInterval(a),"complete"===b.type&&(b.timeReturned=r.now(),g(b)),c.length&&(b=c.shift(),window.postMessage(n(b),"*")))})},g=function(b){var c=-5-0.1*b.targets,d=m.DT_CODES.SCA;b="{"+f(b).stringify(function(a,b){var c;0===a.indexOf("time")?
c=a+":"+b:"resultList"===a&&(c="rl:"+f(b).map(function(a,b){return"{"+f(b).toParams()+"}"}).join("."));return c})+"}";a.trigger("addOutputItem",{output:b},"sc",{type:d});a.trigger("sendDt",d,c)},n=function(){var a=0,c=d.replace("-",""),e=c.substr(-6);return function(f){for(var g=b,k=r.now(),m=f,n=[];m--;)n.push(c.substr(++a,3));return{scaUrl:g,targets:f,timeBegun:k,src:e,targetList:n,asid:d,ksca:"acsk",sender:"main",cap:1E6}}}();return{load:function(){if(!f.isUndef(window.Worker)&&!f.isUndef(window.Blob)){var c=
new Q;c.sub("static");c.master(c.master().split(":")[0]);c.path("/sca.js");b=c.toString();a.trigger("exec",b);e()}}}},H={rot:function(a){return a.replace(/[a-zA-Z]/g,function(a){return String.fromCharCode(("Z">=a?90:122)>=(a=a.charCodeAt(0)+13)?a:a-26)})},hashCode:function(a){var d=0,c,b,e;if(0===a.length)return d;c=0;for(e=a.length;c<e;c++)b=a.charCodeAt(c),d=(d<<5)-d+b,d|=0;return d},stringToFn:function(a){var d,c=window,b=a.split(".");for(a=0;a<b.length;a++)if(d=c,c=c[b[a]],f.isUndef(c)||a===b.length-
1&&!f.isFunction(c))return!1;return function(){c.apply(d,arguments)}}},wa=function(a,d,c,b,e){var g=m.OUT_OF_VIEW,n,h=function(){if(n)return n;var b=f(document.getElementsByTagName("object")).toArray(),c=f(document.getElementsByTagName("embed")).toArray(),d="IASid"+a;return n=f(b.concat(c)).find(function(b,c){var e=f.isFunction(c[d]);if(e)c[d](a);return e})};c.on("videoBlockResult",function(b){var c=h(),d=!1,e="blockAd"+a;"failed"===b.action&&(d=!0);if(c&&f.isDef(c.blockAd))c.blockAd(d);else if(c&&
f.isDef(c[e]))c[e](d)});(function(){var f=!1,h=!1;d.on("hundredpct")&&k.use100v&&(new Wa(c,b)).init();u.addEvent(window,"message",function(b){var d={};try{d=JSON.parse(unescape(b.data))}catch(k){d={}}d.recordType="video";d.id===a&&(b=d.messageType,-1!=="showAd|adStarted|adVideoStart|adVideoStarted|resumeAd".indexOf(b)?(f=!0,g=h?m.IN_VIEW:!1):-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(b)?(f=!1,g=m.OUT_OF_VIEW):"resizeAd"===b&&("fullscreen"===d.viewMode?(h=!0,g=f?m.IN_VIEW:m.OUT_OF_VIEW):
(h=!1,g=f?!1:m.OUT_OF_VIEW)),e.addRecord(d),c.trigger(b,d))})})();return{findVideo:h,version:h().getVersion(),forceViewState:function(){return g}}},va=function(a){var d=[],c=function(b){var c=f({t:b.time-k.birthdate,tp:b.messageType,vid:b.id,sl:a.getCurrentLoc()}).mixin(b.eventData);return f({toString:function(){return"{"+f(c).toParams()+"}"}}).mixin(c)};return{getEvents:function(){return d},addRecord:function(a){a=new c(a);d.push(a)},stringify:function(){return"{"+f({vEventCount:d.length,vEvents:"["+
d.join(",")+"]"}).toParams()+"}"}}},Fa=function(a,d,c,b,e,g,n,h,l,p,s,q,x,w,B){var y,z,v,C,D=0,K=0,I,L=-1!==k.mode.indexOf("jsvid"),Q=s.isMobileApp(),M=L?200:100,H=k.mobOrTab,R=!H&&b.on("recordalternate"),F=b.on("forcecocoa"),G=a.getDocumentMode(),G=a.browserIs("g")||a.browserIs("i")&&(9===G||10===G)&&b.on("rattie"),aa=t.friendlyIframe&&F||t.xDomainIframe&&G&&F||t.xDomainIframe&&!G,J=!H&&aa&&b.on("cocoapuffs"),O=!1,P=new Va(10),N=[L&&b.on("videotwoseconds")?2E3:1E3,5E3,15E3],U=f(N).map(function(a,
b){return b/1E3}).join("-"),Y=new da(1E3),fa=new ca(p.getPingJobs(N));if(b.on("hundredpct")&&k.use100v)var Z=new da(1E3),W=new ca(p.getFullyInViewPingJobs(N));if(b.on("tabHiddenDtCall"))var $=new da(1E3),X=new ca(p.getPosInViewPingJobs([N[0]]));var V=function(h){try{P.start();var n,p,t,u,F,G;t=x.collect();var H=function(){V();b.on("viewabilityready")&&d.send(m.DT_CODES.VIEWABILITY_READY)};R&&(t.gState=t.viewState);if(J){y=y||new ba(T,t.adDimensions,H,b,q,a,c)||{};u=y.checkViewable();b.on("hundredpct")&&
k.use100v&&(C=C||new Sa(Ra,t.adDimensions,H,a,b,e,l,q)||{},F=C.checkViewable(),t.fullPercentInView=F.pct,t.useCocoa=J);if(1!==t.tabHidden||u.str===m.NA)t.viewState=u.str;t.percentInView=u.pct;b.on("unreliabilityDetection")&&(v=v||new ba(T,S({height:0,width:-2E4}),f.noop,b,q,a)||{},G=v.checkViewable(),G.str!==m.OUT_OF_VIEW&&(K+=1),D+=1,l.addItem({output:K+"/"+D},"fu"))}else aa&&(t.viewState=m.NA,t.percentInView=-1);R&&(z||h||(z=J?y:new ba(T,t.adDimensions,f.noop,b,q,a,e)),t.fState=h?m.NA:z.checkViewable().str);
if(L){if(p=B.forceViewState())t.viewState=p}else Q&&(t.viewState=s.isInView());n=w.registerLocation(t);b.on("hundredpct")&&k.use100v&&(n.isFullyInView()?(Z.mark(),W.doEligibleJobs(Z.getTotalTime()),!b.on("zeroPing")||O||h||(d.send(m.DT_CODES.FULLY_INVIEW,0),O=!0)):Z.stop());n.isInView()?(Y.mark(),fa.doEligibleJobs(Y.getTotalTime())):Y.stop();var I=fa.getNextJob();I&&I.time===N[0]&&b.on("tabHiddenDtCall")&&(t.posViewState===m.IN_VIEW||t.posViewState===m.PARTIAL_VIEW_PLUS?($.mark(),X.doEligibleJobs($.getTotalTime())):
$.stop());P.stop();var M=r.round(P.getTime()/P.getCount());l.addItem({output:M},"lt",{type:m.DT_CODES.UNLOAD});return n}catch(U){g.trigger("error",c.ERROR_CHECK_SCREEN_LOC)}},ea=function(a){I=!0;var b=!1;a=function(){b||(b=!0,d.send(m.DT_CODES.VIDEO_EVENTS))};n.impressionIsIdentifiable()&&(V(),setInterval(V,M),g.on("adStopped",a),g.on("adVideoComplete",a),u.addEvent(window,"beforeunload",d.unload,!1),L&&u.addEvent(window,"beforeunload",a,!1))};return{checkScreenLoc:V,init:function(){"true"===k.allowViewability&&
f.isFunction(document.addEventListener)?(I=!1,"complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState?r.execAtEndOfThread(ea):document.addEventListener("DOMContentLoaded",ea,!1)):h.waitForBody(ea)},needsFlash:function(){return aa},readyFired:function(){return I},useFlash:function(){return J},stringifyPingTimes:function(){return U}}};try{Na()}catch(Xa){__IntegralASDiagnosticCall("main",Xa,k)}};
try{__IntegralASConfig.initialize(__IntegralASConfig)}catch(err$$13){__IntegralASDiagnosticCall("initialize",err$$13,__IntegralASConfig)};
