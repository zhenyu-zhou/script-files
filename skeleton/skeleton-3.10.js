var __IntegralASDiagnosticCall = (function(code, err, config) {
	try {
		var alreadySent = false;
		return function(code, err, config) {
			try {
				if (!alreadySent) {
					alreadySent = true;
					if (config) {
						// cannot stringify DOM node due to parent-child relationship
						config.thisScriptNode = '';
					}
	
					var img = new Image();
					img.src = '//fw.adsafeprotected.com/jsdiagnostic' +
						'?code:' + code +
						'&err:' + encodeURIComponent(err.message) +
						'&config:' + encodeURIComponent(JSON.stringify(config));
				}
			} catch(err) {}
		};
	} catch(err) {
		return function(){};
	}
})();

try {
	var __IntegralASConfig = {
		jsDoSplit : "false",
		cocaPuffsPath : "",
		debug : "false",
		killPhrases : "",
		useAdTalk : "true",
		jsDiag:'true',
		version:'0',
		mtCell: 10,
		mtSample: 5,
		cookieDomain:'sc.iasds01.com/dtc',
		trackMouse : "true",
		exchList:{'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr'},
		protocol:'https',
		jsref : "",
		asid : "ad2fcad3-c732-11e4-804d-002590876128",
		allowViewability : "true",
		jsFeatures : "mousetrack:0,cocoapuffs,viewabilityready,consecutive,cachebust:0,forcecocoa:0,rattie:0,exch,recordalternate:100,usedtdomain,nextcocoa:0,bapiDiag,cookie,postDts:0,unreliabilityDetection,videotwoseconds,getPl,decodePl,resolution,usetpl,usesca:1,tpiLookupURL,hundredpct,jloadDiag:0,cdnTest:1,blur:0,sendclogs,zeroPing",
		adTalkDtCall : "true",
		adsafeDomain : "adsafeprotected.com:80",
		minimizeCalls : "false",
		adWidth : "300",
		adHeight : "250",
		forceAppend : "false",
		requrl : "",
		reqquery : "",
		mode : "jss",
		adsafeSrc : "https://pixel.adsafeprotected.com/rfw/st/33642/3584127/skeleton.js",
		adsafeSep : "?",
		_onAPIResult : __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewMRC15 : __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onMeasurable : __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onSuspicious : __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC : __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onInViewMRC5 : __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		tpiLookupURL:"",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl : "https://pixel.adsafeprotected.com/rjss/st/33642/3584127/skeleton.js",
		accountForSadImps:'',
		sendCookie:'true',
		fwMonitoring:'true',
		cdnTestUrl: "//cdn.adsafeprotected.com/cdn-test.js",
		colloTestUrl: "//pixel.adsafeprotected.com/jload?campId=cdnTest&anId=100",
		doNothing: false,
		cdnTestEnabled: false,
		mn: "app21",
		cdnTestEnabled: false,
		mobOrTab: false,
		videoId : ''
	};

	if (__IntegralASConfig.jsFeatures.indexOf('asidJsDiagnostic') !== -1) {
		var fakeErr = { message: __IntegralASConfig.asid };
		__IntegralASDiagnosticCall('asid', fakeErr);
	}

	__IntegralASConfig.birthdate = new Date().getTime();
	__IntegralASConfig.thisScriptNode = (function() {
		var tempScript,
			embedded = window != top,
			scripts = document.getElementsByTagName('script'),
			result = scripts[scripts.length - 1],
			scriptIndex = scripts.length,
			useDocWrite = 'jss,jsi,jspix'.indexOf(__IntegralASConfig.mode) !== -1,
			scriptUrl = __IntegralASConfig.scriptUrl;

		try {
			while (--scriptIndex >= 0) {
				tempScript = scripts[scriptIndex];
				if (tempScript.src && tempScript.src.indexOf(scriptUrl) === 0 && tempScript.getAttribute('data-ias-script-tag') === null) {
					result = tempScript;
					tempScript.setAttribute('data-ias-script-tag', 'found');
					break;
				}
			}
			if (scriptIndex === 0 && useDocWrite && !embedded) {
				document.write('<span id="s' + __IntegralASConfig.asid + '"/>');
				result = document.getElementById('s' + __IntegralASConfig.asid).parentNode;
			}
		} catch(e) { }
	
		return result;
	}());

} catch(err) {
	__IntegralASConfig = {};
	__IntegralASDiagnosticCall('bootstrapper', err);
}

__IntegralASConfig.initialize=function(k){var x,Ma=function(){x=new Q;var b=-1!==k.mode.indexOf("jsvid"),c=f.isDef(window.JSON)&&f.isDef(window.postMessage),c="true"===k.useAdTalk&&c,d,a,e,g,l=V(),h=new Q,q=W(),n=fa(x),p=ga(h),t=new ha(h),A=ia(l),h=ja(),s=ka(),E=la(),y=ma(),y=na(p,y),B=oa(p),v=pa(p),C=qa(p),D=ra(),L=sa(C,p),M=ta(C),F=b?ua(s):{},u=b?va(k.videoId,l,x,s,F):{},b=wa(D,p,M,x,L,E,u),D=xa(b,p,A),G=ya(b,y,p,l,x,v,t,C,s,q,u,F),F=za(y,G,n),z=Aa(p,l,x,n),n=Ba(y,G,p,v,t),q=Ca(y,G),z=Da(z,y,l),
w=Ea(C,G,p,l,M,x,v,L,t,F,E,A,D,s,u),A=Fa(y,p,l,v,z,t,C,w),s=Ga(x),E=Ha(x);G.setViewabilityMod(w);c&&(d=Ia(p));var C="0"!==C.getFlashVersion(),H,v=!w.useFlash();if(!function(){var a=!1,b,d;try{f.isDef(k)&&f.isDef(k.killPhrases)&&""!==k.killPhrases&&(b=k.adsafeSrc?k.adsafeSrc:k.requrl+k.reqquery,d=k.killPhrases.split(","),f(d).each(function(c,e){e=decodeURIComponent(d[c]).replace(/^\s+|\s+$/g,"");-1!==b.search(e)&&(a=!0)})),k.doNothing&&(a=!0)}catch(c){p.add(p.ERROR_KILL_IT)}return a}()){if(c)try{d.createAdProxy(k),
d.findFrames(),d.listen(),d.sendMessages(),t.addItem(d.getFrameStore(),"fm")}catch(R){p.add(p.ERROR_ADTALK_GENERAL)}var I;try{"true"!==k.minimizeCalls&&w.init();l.on("mousetrack")&&(g=Ja(b,t),g.init());I=h.detectTopURL();l.on("exch")&&(a=Ka(p,t),a.parse(I));if(l.on("getPl")&&navigator&&navigator.plugins){e=La(navigator.plugins);var N=e.hash();t.addItem({output:N.join(".")},"pl",{type:m.DT_CODES.ADTALK});if(l.on("decodePl")&&N.length){var O=e.decode(N);t.addItem({output:O.join(".")},"pd",{type:m.DT_CODES.ADTALK})}}var J=
B.getProps();f(J).each(function(a,b){t.addItem({output:b},a,{type:"UFO"})})}catch(S){p.add(p.ERROR_IMPRESSION_LEADUP)}G.sendCookie();A.send(I);l.on("cdnTest")&&k.cdnTestEnabled&&E.init();"true"===k.useViewabilityNotification&&k._onMeasurable&&(v||C)&&y.notify(k._onMeasurable);"http"===k.protocol&&"true"===k.getTpl&&l.on("usetpl")&&n.init();k.tpiLookupURL&&q.init(k.tpiLookupURL);"true"===k.adTalkDtCall&&"true"!==k.minimizeCalls&&(H=(new Date).getTime(),r.execAtEndOfThread(function(){r.execAtEndOfThread(function(){var a=
{output:(new Date).getTime()-H};t.addItem(a,"sinceFw",{type:m.DT_CODES.ADTALK});f.isDef(w.readyFired())&&t.addItem({output:w.readyFired()},"readyFired",{type:m.DT_CODES.ADTALK});G.send(m.DT_CODES.ADTALK)})}));l.on("usesca")&&s.load()}},f=function(b){var c=function(a){return b instanceof Object&&(a||!d())},d=function(){return b instanceof Array},a=function(a,d){if(b.length===+b.length)for(var c=0,e=b.length;c<e;++c)a(c,b[c]);else for(c in b)(b.hasOwnProperty(c)||d)&&a(c,b[c])},e=function(b,d){var c=
[];a(function(a,e){var g=b(a,e);if(void 0!==g||d)c[c.length]=g});return c},g=function(b,d){d=d||",";var c=[];a(function(a,d){var e=b(a,d);f.isDef(e)&&c.push(e)});return c.join(d)},l=function(a,b,d){for(var c in b)f.isDef(b[c])&&(d||b.hasOwnProperty(c))&&(a[c]=b[c]);return a},h=function(b){var d={};a(function(a,e){var g=b(a,e);c(g)&&l(d,g)});return d};return{each:a,isObj:c,isArray:d,invert:function(){return h(function(a,b){var d={};d[b]=a;return d})},mapToObj:h,map:e,keys:function(){var b=[];a(function(a){b.push(a)});
return b},toParams:function(a){return g(function(a,b){return"string"===typeof a&&-1!==a.indexOf("NULL")?b:a+":"+b},a)},stringify:g,toION:function(a,g){var p,h="[",l="]";g=g||0;a=a||{};if(4<++g)return"object";if(!c(!0))return b;d()?p=e(function(b,d){return f(d).toION(a,g)}):(h="{",l="}",p=e(function(b,d){return(a[b]||b)+":"+f(d).toION(a,g)}));return h+p.join(",")+l},compareTo:function(b){var d=!1;a(function(a,c){b[a]!==c&&(d||(d={}),d[a]=c)});return d},mixin:function(a,d,c){!0!==a?(c=d,d=l(b,a,c)):
(a=l({},b,c),d=l(a,d,c));return d},find:function(b){var d;a(function(a,c){b(a,c)&&(d=c)});return d},asStrings:function(){var b={};a(function(a,d){b[a]=""+d});return b},selectProperties:function(a){var d={};f(a).each(function(a,c){f.isDef(b[c])&&(d[c]=b[c])});return d},toArray:function(){return e(function(a,b){return b})}}};f.toBase=function(b,c){var d,a=0>b,e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g=[];b=a?-b:b;do d=b%c,g.push(e[d]),b=(b-d)/c;while(0<b);g=g.reverse().join("");
return a?"-"+g:g};f.isDef=function(b){return"undefined"!==typeof b};f.isUndef=function(b){return!f.isDef(b)};f.noop=function(){};f.identity=function(b){return b};f.isFunction=function(b){return"function"===typeof b};f.useIfDef=function(b){return f.isDef(b)?b:!1};f.stringifyTriState=function(b){return!0===b?1:!1===b?0:"na"};f.flatJSONParse=function(b){var c,d,a,e=/"(\w+)":(\d+|(?:"([^"]*)"))/g,g={};for(a=e.exec(b);a;)c=a[1],d=a[3],a=a[2],g[c]=d||+a,a=e.exec(b);return g};var Na=function(b,c,d,a,e,g){g=
g||a.parentNode||a.parent;var l=function(){var d=u.embedded?b.calcDims():c.calcDims(a,g);e===m.DETECTION_METHODS.SPAN&&d.disallowHiddenState();return d},h=function(){var a=l(),b=-1;a.hasValidDims()&&(b=d.calcPercentInView(w.calcWinDims(),a));return b},q=function(){return d.calcInitialViewState(h())},f=function(){return a===window?!1:l().isHidden()};(function(){var b=a===window?document.body:a;z.addEvent(b,"click",function(){x.trigger("adComponentClicked")});z.addEvent(b,"mouseover",function(){x.trigger("adComponentMousedOver")})})();
return{getAdNode:function(){return a},isNode:function(b){return a===b},isHidden:f,isObstructed:function(){return!1},getDims:l,getPercentInView:h,getLocationState:q,getOnPageViewability:function(){return f()?m.OUT_OF_VIEW:q()},getDetectionMethod:function(){return e},getContainerDims:function(){return R(g).get()},refresh:function(){var b,d=a.parentNode;if(d){for(;a!==window&&d&&d!==document&&!b;)b=d===g,d=d.parentNode;b||(g=a.parentNode)}}}},Oa=function(b,c,d){var a=[],e=function(){return a[0]&&a[0].getDetectionMethod()===
m.DETECTION_METHODS.SPAN},g=function(g,q,h){g=Na(b,c,d,g,q,h);e()&&a.shift();a.push(g)},l=function(){var b=0,d=0;f(a).each(function(a,c){var e;e=c.getDims();e.hasValidDims()&&(e=e.getRounded(),e=e.width*e.height,b+=e,d+=c.getPercentInView()/100*e)});return r.round(d/b*100)},h=function(){return d.calcInitialViewState(l())},q=function(b){var d=-1;f(a).each(function(a,c){c.isNode(b)&&(d=a)});return d},n=function(b){return function(){return a[0]&&a[0][b]()}};x.on("adComponentAdded",function(a){f(a).each(function(a,
b){-1===q(b)&&g(b,m.DETECTION_METHODS.MUTATION)})});x.on("adComponentRemoved",function(b){f(b).each(function(b,d){var c=q(d);-1<c&&a.splice(c,1)})});return{getOriginatingNode:n("getAdNode"),getDims:n("getDims"),isObstructed:n("isObstructed"),getDetectionMethod:n("getDetectionMethod"),getContainerDims:n("getContainerDims"),getViewState:h,getPercentInView:l,isHidden:n("isHidden"),isUsingPlaceholder:e,hasAd:function(){return!!a.length},refresh:function(){f(a).each(function(a,b){b.refresh()})},addAdComponent:g,
getOutOfViewReasons:function(){var b=[],d=a[0],c=m.OUT_OF_VIEW_REASONS,e=h();e!==m.OUT_OF_VIEW&&e!==m.PARTIAL_VIEW_MINUS||b.push(c.GEOM);d.isHidden()&&b.push(c.HIDDEN);d.isObstructed()&&b.push(c.OBSTRUCTION);return b},getComponentCount:function(){return a.length}}},Pa=function(b){var c=!1;if(!f.isUndef(window.MutationObserver)){var d=new MutationObserver(function(a){r.execAtEndOfThread(function(){c&&f(a).each(function(a,b){b.addedNodes.length&&x.trigger("adComponentAdded",b.addedNodes);b.removedNodes.length&&
x.trigger("adComponentRemoved",b.removedNodes)})})}),a=function(){c=!0;setTimeout(function(){c=!1},40)};x.on("adComponentClicked",a);x.on("adComponentMousedOver",a);try{d.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(e){b.add(b.ERROR_AC_WATCHER)}}},W=function(){var b=[],c={},d={percentInView:"piv",sl:"vs",reason:"r",adDimensions:"ac",width:"w",height:"h"};x.on("newScreenEvent",function(a){a=f(a).selectProperties(f(d).keys());a=f(a).asStrings();var e=f(a).compareTo(c);
e&&(e.t=u.getTagTime(),b.push(e));f(c).mixin(a)});return{toString:function(){return f(b).toION(d)}}},Qa=function(b,c,d,a,e,g,l){var h;(function(){var g=d.getRounded(),f=g.width-5,p=g.height-5,t=0.5*g.width+1,g=0.5*g.height+1;h=[new b(c,f,p,e,l,a),new b(c,f,5,e,l,a),new b(c,5,p,e,l,a),new b(c,5,5,e,l,a),new b(c,t,g,e,l,a)]})();return{getNumInView:function(){var a=[],b=0;f(h).each(function(b,d){var c=d.isInView()?1:0;a.push(c)});g.addItem({output:a.join(".")},"pvs");f(a).each(function(a,d){b+=d});return b},
getPctInView:function(a){return 5===a?100:3<=a?51:0},isReady:function(){var a=!0;f(h).each(function(b,d){d.isNotReadyToReport()&&(a=!1)});return a}}},Ra=function(b,c,d,a,e,g,l,h){var q=new b(S,document.body,c,a,e,l,h),n,p,t=0;d=d||f.noop;n=setInterval(function(){q.isReady()&&!p?(p=!0,d(),clearInterval(n)):(5===++t||p)&&clearInterval(n)},50);return{checkViewable:function(){var a=q.isReady(),b=q.getNumInView(),b=q.getPctInView(b),c=g.calcInitialViewState(b,!0);a&&!p&&(p=!0,d());return{str:a?c:m.NA,
pct:a?b:-1}}}},aa=function(b,c,d,a,e,g){var l,h,q=c.getRounded(),n=[],p=!1,t=0,k=function(){var a;if(!p)for(p=!0,a=0;a<n.length;a++)if(n[a].isNotReadyToReport()){p=!1;break}return p},s=function(){var a=0,b=0;f(n).each(function(d,c){b+=c.weight;c.isInView()&&(a+=c.weight)});return r.round(a/b*100)};(function(){var d=Sa(q,1).get();f(d).each(function(d,c){var h=new b(document.body,c.x,c.y,a,e,g);h.weight=c.weight;n.push(h)})})();d=d||f.noop;l=setInterval(function(){k()&&!h?(h=!0,d(),clearInterval(l)):
(5===++t||h)&&clearInterval(l)},50);return{checkViewable:function(){var a=k(),b;a&&(b=50<=s()?m.IN_VIEW:m.OUT_OF_VIEW);a&&!h&&(h=!0,d());return{str:a?b:m.NA,pct:a?s():-1}}}},Q=function(){var b={},c=function(d,a){b[d]=b[d]||new T;b[d].push(a)};return{on:function(b,a){a?c(b,a):f(b).each(c)},trigger:function(){var d,a=f(arguments).toArray();(d=b[a.shift()])&&d.run.apply({},a)}}},S=function(b,c,d,a,e,g){var l=a.on("nextcocoa"),h,q,n,p,t,A,s=function(a,b){return'<param name="'+a+'" value="'+b+'"/>'},E=
function(){var a;a=new P;var b=k.cocaPuffsPath;a.sub("static");a.master(a.master().split(":")[0]);b&&(a.master(b),a.sub(""));var b=a+(l?"/detector4.pix":"/detector3.pix"),d=s("allowscriptaccess","always"),c=s("movie",b)+s("play","true")+s("loop","true");g.browserIs("i")?(a=document.createElement("div"),a.innerHTML="<object "+('id="blag'+k.birthdate+'" ')+'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '+(m.IAS_DETECTOR+'="true" ')+('type="'+m.FLASH_MIME+'" ')+('data="'+b+'" ')+">"+c+d+"</object>",
h=a.firstChild):(h=document.createElement("object"),h.data=b,h.type=m.FLASH_MIME,h.innerHTML=d,h[m.IAS_DETECTOR]="true");h.style.position="absolute";h.style.width="1px";h.style.opacity="0";h.style.height="0px";return h},y=function(a){a.style.height=n?"1px":"2px";n=!n;l||r.execAtEndOfThread(function(){B()&&(q=a.isInView())})},B=function(){var a=l?"getId":"isInView";(a=A||h&&f.isFunction(h[a]))&&!p&&(A=!0,l&&(p=h.getId()));return a};l&&z.addEvent(window,"message",function(a){a=f.flatJSONParse(a.data);
"IASCOCOA"===a.type&&a.id===p&&(t=1===+a.isInView)});(function(a,b,d){var c=E(),g=c.style;g.left=b+"px";g.top=d+"px";a.appendChild(c);g.height="1px";e.onHiddenChange(function(a){a?g.height="0px":y(c)})})(b,c,d);return{isInView:function(){var a;B()&&(a=l?t:h.isInView(),g.browserIs("w")&&a!==q&&y(h));return B()&&a},isNotReadyToReport:function(){return!B()},createdFlash:h}},ba=function(b){return{doEligibleJobs:function(c){var d=b[0],a=d&&d.time;a&&c>=a&&(d.task(),b.shift())},getNextJob:function(){return b[0]}}},
ha=function(b){var c=0,d={},a=function(a,b,d){if(f.isUndef(a.output))throw Error("item with id "+b+' must have "output" method');this.item=a;this.id=b||++c;this.props=d||{};this.output=function(){return f.isFunction(a.output)?a.output():a.output}},e=function(b,c,e){b=new a(b,c,e||{});d[b.id]=b};b.on("addOutputItem",function(a,b,d){e(a,b,d)});return{addItem:e,iterate:function(a){var b,c,e=[];for(b in d)d.hasOwnProperty(b)&&(c=a(b,d[b]))&&e.push(c);return e},getItem:function(a){return d[a]}}},Sa=function(b,
c){var d,a,e,g=b.width,f=b.height,h=[],q=g/(c+1),n=f/(c+1),p=1;if(0===g||0===f)h.push({x:1,y:1,weight:1});else for(e=n;e<f;e+=n,p++)a=q*p,a>g/2&&(a=g-a),d={x:r.floor(a),y:r.floor(e),weight:1},a={x:r.floor(g-a),y:r.floor(e),weight:1},d.x===a.x?(d.weight=2,d.x+=1,d.y+=1,h.push(d)):(h.push(d),h.push(a));return{get:function(){return h}}},T=function(){var b=[];return{push:function(c){b[b.length]=c},run:function(){var c=arguments;f(b).each(function(b,a){a.apply({},c)})}}},xa=function(b,c,d){return{collect:function(){var a,
e=b.find(),g=e.getOutOfViewReasons(),l=d.isHidden();try{a=w.calcWinDims()}catch(h){c.add(c.ERROR_GET_WIN_DIMENSIONS),a=-1}if(-1===a||!e.getDims().hasValidDims())return e=e.getDims().getRounded(),{viewState:m.NA,posViewState:m.NA,embedded:u.embedded,winDimensions:a,adDimensions:e};!0===l&&g.push(m.OUT_OF_VIEW_REASONS.FOCUS);return{winDimensions:a,adDimensions:e.getDims(),containerDimensions:e.getContainerDims(),method:e.getDetectionMethod(),viewState:g.length?m.OUT_OF_VIEW:e.getViewState(),percentInView:e.getPercentInView(),
reason:g.join("."),obstructed:f.stringifyTriState(e.isObstructed()),isHidden:f.stringifyTriState(e.isHidden()),tabHidden:f.stringifyTriState(l),posViewState:e.getViewState(),adCompCount:e.getComponentCount()}}}},Ta=function(b){b=b||f.identity;var c=[],d=r.now(),a=function(){var a=r.now();c.length&&(c[c.length-1].duration+=a-d,d=a)};return{clear:function(){a();c=[]},fastForward:a,get:function(){return c},hasAlwaysBeen:function(a){return 1===c.length&&c[0].state===a},addState:function(d){var g=c[c.length-
1];d=b(d);a();0!==c.length&&d===g.state||c.push({state:d,duration:0})}}},Ua=function(b){var c=b||1,d=0,a=0,e=0,g=0;return{start:function(){0===d%c&&(e=r.now())},stop:function(){0===d%c&&(g+=r.now()-e,a++);d++},getTime:function(){return g},getCount:function(){return a}}},ca=function(b){var c=0,d=u.getTagTime(),a=0,e,g;return{getTotalTime:function(){return a},stop:function(){c=0;d=u.getTagTime()},mark:function(){e=u.getTagTime()-d;c+=e;c>b&&(g=c-e<b,a+=g?c:e);d=u.getTagTime()}}},P=function(b){b=b||
k.adsafeSrc||k.requrl;b=/^(http|https):\/\/(([^\/\.]*)\.([^\/]*))/.exec(b);var c=b[1],d=b[3],a=b[4],e,g,l=function(a){f.isDef(a)&&(d=a);return d},h=function(b){f.isDef(b)&&(a=b);return a},q=function(){var a="";f(g).each(function(b,d){a+="&"+b+"=";a=f(d).isObj()?a+("{"+f(d).toParams()+"}"):a+d});return"?"+a.substr(1)};return{fullDom:b[0],sub:l,master:h,setField:function(a,b){g=g||{};f(b).isObj()&&f.isDef(g[a])&&(b=f(g[a]).mixin(!0,b));g[a]=b},path:function(a){e=a},_getQsParams:function(){return g},
toString:function(){var a=l()?l()+".":"",b=e?"/"+e:"",d=g?q():"";return c+"://"+a+h()+b+d}}},Va=function(b,c){var d=!1,a=!1,e,g=function(){d||(d=!0,e=c.createViewabilityTracker("mpt",function(a){return a.isFullyInView()}))},l=function(a){if(!f.isUndef(a.eventData)){var b=-1;f.isDef(a.eventData.volume)?b=a.eventData.volume:f.isDef(a.eventData.adVolume)&&(b=a.eventData.adVolume);return b}},h=function(b){b=l(b);d||0!==b?d&&(a||0===b)&&(b={isFullyInView:function(){return!1}},e.addState(b)):a=!0};return{init:function(){var a=
function(a){h(a)};b.on({adStarted:g,adVideoStart:g,adVideoStarted:g,volumeChanged:a,adVolumeChange:a,adVideoMidpoint:function(){e&&e.hasAlwaysBeen(!0)&&b.trigger("sendDt",m.DT_CODES.QUARTILE_FULLY_INVIEW)}})}}},wa=function(b,c,d,a,e,g,f){var h=-1!==k.mode.indexOf("jsvid"),q=k.thisScriptNode.parentNode,n=Oa(e,b,d);Pa(c);return{find:function(){var a,b=m.DETECTION_METHODS,d=function(d){var c=w.findLargestChildNode(q);1<w.getNodeArea(c)&&!c[m.IAS_DETECTOR]?n.addAdComponent(c,d||b.AD_HUNT,q):n.hasAd()||
(a=w.getPlaceholderSpan(),q.insertBefore(a,k.thisScriptNode.nextSibling),n.addAdComponent(a,d||b.SPAN))};if(n.isUsingPlaceholder()||!n.hasAd())g.isMobileApp()?d(g.getDetectionMethod()):h?n.addAdComponent(f.findVideo(),b.VIDEO):u.embedded?n.addAdComponent(window,b.IFRAME):d();return n},getDetectionMethod:function(){},isAdDetected:function(){return!0!==n.isUsingPlaceholder()},getOriginatingElement:function(){return n.getOriginatingNode()},getParent:function(){return q}}},Ia=function(b){var c=[],d=function(a){var b;
a=a||k;a.reqquery?b=a.reqquery.split(/(?:anId=|anid=|ANID=)([^&]*)/)[1]:(b=a.adsafeSrc.split("/"),b=b[5]+"-"+b[6]);a={adId:b,adSafeId:a.asid};c.push(a);return a},a=function(){var a=[],b={},d={noMe:!0};return{addFrame:function(c){a.push(c);b[c.pageId]=c;c.isMe&&(d=c)},list:a,lookup:b,me:function(){return d},output:function(){var b,c,e,g,h=[];for(b=0;b<a.length;b++)if(e=a[b],e.isLeaf||e.isMe||f.isDef(e.selfDescription)){g="";for(c=0;c<e.position.length;c++)g+=(Number(e.position[c])+1).toString(36);
g+=e.isMe?"*":"";g+=0!==e.adProxies.length?"."+e.adProxies[0].adId:"";h.push(g)}return f.toBase(d.unifiedId,62)+"+"+h.join("|")}}},a=new a,e=function(b,d){var e=b===window,g={position:d.slice(0),pageId:d.join("-"),domObj:function(){return b},isMe:e,isLeaf:!b.frames.length,adProxies:e?c:[],selfDescription:void 0,unifiedId:k.birthdate,toString:function(){return JSON.stringify(g)},addDescription:function(a){g.selfDescription=a;g.adProxies=a.adProxies}};a.addFrame(g);return g},g;g=new function(){var a=
function(b,d){var c=d.length,g=b.frames;if(!(new e(b,d)).isLeaf){for(var f=0;f<g.length;f++)d[c]=f,a(g[f],d);d.pop()}};return{start:function(){a(top,[0])}}};var l=function(a){var b={srcId:k.asid,srcKey:k.asid.split("-")[2],srcStart:k.birthdate,getMessageTime:void 0,replyTo:document.location,sendMessage:function(d,c){c=c||"*";a.getMessageTime=r.now();delete b.updateMessage;delete b.sendMessage;d.postMessage(JSON.stringify(b),c)},updateMessage:function(b){a=b(a)},messageContent:a||{}};return b},h;h=
new function(){var d=[],c=function(b){var d=a.me();(new l({self:d,expectedPageId:b.pageId,unifiedId:d.unifiedId})).sendMessage(b.domObj())};return{sendMessages:function(){var b,d;for(b=0;b<a.list.length;b++)d=a.list[b],d.isMe||c(d)},listen:function(){z.addEvent(window,"message",function(g){var h,l,s,m=a.me();try{h=JSON.parse(g.data);l=h.messageContent;if(k.asid.split("-")[2]!==h.srcKey||!h.hasOwnProperty("messageContent"))return;l.unifiedId<m.unifiedId&&(m.unifiedId=l.unifiedId)}catch(y){return}d.push(h);
try{if(l.expectedPageId!==a.me().pageId)b.add(b.ERROR_ADTALK_DUBIOUS);else{s=a.lookup[l.self.pageId];if(f.isUndef(s)||f.isUndef(s.selfDescription))s=s||new e(g.source,l.self.pageId.split("-")),c(s);s.addDescription(l.self)}}catch(B){b.add(b.ERROR_ADTALK_DUBIOUS)}})}}};return{sendMessages:h.sendMessages,listen:h.listen,findFrames:g.start,createAdProxy:function(a){return new d(a)},getFrameStore:function(){return a||""}}},Ba=function(b,c,d,a,e){var g=function(a,b,d){e.addItem({output:a+"."+b+"."+d},
"ctpl")},l=function(e){try{c.diagnostic("c");var l=e.length,n=0,p=0;g(l,0,0);f(e).each(function(d,c){b.send(c.replace("%%CBS%%",a.getCacheBustId()),function(){g(l,n,++p)},!0);g(l,++n,p)})}catch(k){d.add(d.ERROR_AT_SEND)}};return{init:function(){try{var a=(new P).fullDom;"/"!==a.slice(-1)&&(a+="/");a+="tpl?asId="+k.asid;b.jsonp(a,l)}catch(c){d.add(d.ERROR_AT_INIT)}}}},Aa=function(b,c,d,a){return{enabled:"true"===k.useBapiCallback,callback:function(c){d.trigger("sendDiag");try{"true"===k.accountForSadImps&&
a.measure(c),k._onAPIResult&&k._onAPIResult(c)}catch(g){b.add(b.ERROR_BAPI_CALLBACK),d.trigger("sendDiag","bapiClient")}}}},qa=function(b){var c=function(){var a=function(a){return a.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",").join(".")};try{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{b.AllowScriptAccess="always"}catch(d){return"6"}}catch(c){}return a((new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))}catch(e){try{if(navigator.mimeTypes[m.FLASH_MIME].enabledPlugin)return a((navigator.plugins["Shockwave Flash 2.0"]||
navigator.plugins["Shockwave Flash"]).description)}catch(f){}}return"0"},d=function(a){return e()===a},a=function(){return document&&document.documentMode?document.documentMode:m.NA},e=function(){var a="u";try{if(f.isDef(window.opera)&&f.isDef(window.opera.buildNumber))a="o";else if(f.isDef(window.mozInnerScreenY))a="g";else if(f.isDef(window.chrome)&&f.isDef(window.chrome.csi))a="c";else if(f.isDef(window.WebKitPoint))a="w";else if(f.isDef(window.attachEvent)||f.isDef(window.msCrypto))a="i"}catch(b){}return a};
return{browserIs:d,getFlashVersion:c,getDocumentMode:a,getBrowserVendor:e,params:function(){var b=e(),l=c(),h=5;d("i")?window.msCrypto?h=11:window.atob?h=10:document.addEventListener?h=9:window.JSON&&document.querySelector?h=8:window.XMLHttpRequest?h=7:document.compatMode&&(h=6):h=m.NA;var q=a(),n;n=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"];var p=m.NA,k=document.createElement("div");try{if("-ms-ime-align"in document.documentElement.style)p=
"11";else{k.style.behavior="url(#default#clientcaps)";for(var r=0;r<n.length&&!(p=k.getComponentVersion(n[r],"componentid").replace(/,/g,"."));r++);}}catch(s){}n=p;p=m.NA;f.isDef(window.navigator)&&f.isDef(window.navigator.appName)&&(p=window.navigator.appName.toLowerCase()[0]);return{br:b,fv:l,bv:h,dm:q,abv:n,an:p}}}},Ha=function(b){var c=0.5<=r.random()?"cdn":"collo",d=function(){b.trigger("sendDiag",c+"Test","cdnTest")};return{init:function(){var a,e=k[c+"TestUrl"];e&&(a=-1===e.indexOf("?")?"?":
"&",e=e+a+"asid="+k.asid,b.trigger("exec",e,d))}}},na=function(b,c){var d=function(a,b){var d,c,e=k.thisScriptNode.parentNode;b=b||a;a=1<arguments.length?a:"script";d={script:['<script type="text/javascript" src="','">\x3c/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']}[a];c=d[0]+b+d[1];"true"===k.forceAppend?"script"!==a?(d=document.createElement("DIV"),d.innerHTML=
c,e.appendChild(d.childNodes[0])):(d=document.createElement("SCRIPT"),d.src=b,e.appendChild(d)):document.write(c)},a=function(a,b,d){var c=!d&&z.getXHR2();c?(c.open("POST",a),c.onreadystatechange=function(){4===c.readyState&&200===c.status&&b&&b()},c.send()):(d=new Image,b&&(d.onload=b),d.src=a)},e=function(a,b){var d=document.createElement("script");d.type="text/javascript";d.src=a;b&&(d.onload=b);f.isDef(k.thisScriptNode.parentNode)&&k.thisScriptNode.parentNode.appendChild(d)},g=function(d){f.isFunction(d)?
d():"string"===typeof d?a(d,void 0,!0):b.add(b.ERROR_NOTIFY_CLIENT)};x.on({addNode:d,send:a,exec:e,notify:g});return{addNode:d,send:a,exec:e,notify:g,jsonp:function(a,b,d,g){e(c.wrap(a,b,d,g))}}},m={MAX_URL_LENGTH:2E3,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",DT_CODES:{UNLOAD:"u",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",ADTALK:"a",VIEWABILITY_READY:"v",VIDEO_EVENTS:"m",
DIAGNOSTIC:"b",POS_INVIEW:"t",THIRD_PARTY:"i",SCA:"s"},DETECTION_METHODS:{SPAN:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MOBILE:"m",MUTATION:"c"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h"},IAS_DETECTOR:"iasdetector"},u=function(){var b=window!=top,c=function(){var b;try{b=!!top.document}catch(a){b=!1}return b}();return{embedded:b,friendly:c,getTagTime:function(){return r.now()-k.birthdate},getPageTime:function(){return f.isDef(window.chrome)&&f.isDef(window.chrome.csi)&&
f.isFunction(window.chrome.csi)?r.round(chrome.csi().pageT):m.NA},friendlyIframe:b&&c,xDomainIframe:b&!c}}(),z={addEvent:function(b,c,d,a){f.isDef(b.addEventListener)?"mouseenter"===c?b.addEventListener("mouseover",z.mouseEnter(d),a):"mouseleave"===c?b.addEventListener("mouseout",z.mouseEnter(d),a):b.addEventListener(c,d,a):f.isDef(b.attachEvent)&&b.attachEvent("on"+c,d)},removeEvent:function(b,c,d){f.isDef(b.removeEventListener)?("mouseenter"===c?(c="mouseover",d=z.mouseEnter):"mouseleave"===c&&
(c="mouseout",d=z.mouseEnter),b.removeEventListener(c,d)):f.isDef(b.detachEvent)&&b.detachEvent("on"+c,d)},mouseEnter:function(b){var c=this;return function(d){var a=d.relatedTarget;this===a||c.isAChildOf(this,a)||b.call(this,d)}},isAChildOf:function(b,c){if(b===c)return!1;for(;c&&c!==b;)c=c.parentNode;return c===b},getStyle:function(b,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(b,"").getPropertyValue(c):b.currentStyle&&(c=c.replace(/\-(\w)/g,
function(a,b){return b.toUpperCase()}),d=b.currentStyle[c]);return d},getXHR2:function(b,c){var d,a;f.isDef(window.XMLHttpRequest)?(a=new XMLHttpRequest,"withCredentials"in a&&(d=a)):f.isDef(XDomainRequest)&&(d=new XDomainRequest);return d}},ya=function(b,c,d,a,e,g,l,h,q,n,p,t){var A=0,s=0,E=!1,y,B=function(b,e,f,h,l){f=f||!a.on("postDts");if(g.impressionIsIdentifiable()&&(b===m.DT_CODES.DIAGNOSTIC||b===m.DT_CODES.ADTALK||"n"!==q.getCurrentLoc()))try{var p=new P,k=r.now();p.path("dt");p=D(p,b,e,l);
h||(p=C(p,b,e));c.send(p.toString(),function(){s+=1;A=r.now()-k},f);b===m.DT_CODES.UNLOAD&&(E=!0)}catch(n){__IntegralASDiagnosticCall("dt-"+b,n),d.add(d.ERROR_PHONE_HOME)}},v=function(b,d){var c={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e",cdnTest:"f",colloTest:"g"},e=k.mode,c=c[b]||c[e];a.on(d||e+"Diag")&&c&&B(m.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:c})},C=function(b,c){q.fastForward();var e={};c===m.DT_CODES.VIDEO_EVENTS&&t&&p&&(e.ve=t.stringify(),a.on("sendclogs")&&(e.clog=n));
c===m.DT_CODES.UNLOAD&&(e.ndt=s);-1!==k.mode.indexOf("jsvid")&&p&&(e.vv=p.version);e.NULL1=a.output();e.NULL2=q.stringify(10);e.em=u.embedded;e.fr=u.friendly;e.uf=y.useFlash()?1:0;e.e=d.toString();e.tt=k.mode;e.dtt=A;l.iterate(function(a,b){b.props.type&&b.props.type!==c||(e[a]=b.output())});b.setField("tv",e);b.setField("br",h.getBrowserVendor());return b},D=function(b,d,c,e){if(!f.isDef(c)){var h;d===m.DT_CODES.UNLOAD?h=-1:d===m.DT_CODES.ADTALK?h=-2:d===m.DT_CODES.VIEWABILITY_READY?h=-3:d===m.DT_CODES.VIDEO_EVENTS&&
t&&p?h=-4:d===m.DT_CODES.DIAGNOSTIC?h=-5:d===m.DT_CODES.THIRD_PARTY?h=-6:d===m.DT_CODES.QUARTILE_FULLY_INVIEW&&(h=-7);c=h}a.on("usedtdomain")&&b.sub("dt");b.setField("asId",k.asid);b.setField("tv",{c:g.getCacheBustId(),pingTime:c,time:u.getTagTime(),type:d});e&&b.setField(e.field,e.value);return b};e.on({sendDt:function(a,b){B(a,b)},sendDiag:function(a,b){v(a,b)}});return{send:B,sendCookie:function(){var b;a.on("cookie")&&"true"===k.sendCookie&&k.protocol&&k.cookieDomain&&k.asid&&(b=k.protocol+"://"+
k.cookieDomain+"?asid="+k.asid,c.send(b,void 0,!0),s++)},unload:function(){E||B(m.DT_CODES.UNLOAD,-1,!0)},diagnostic:v,setViewabilityMod:function(a){y=a}}},R=function(b){var c={},d=!1,a=function(){return{x:r.round(c.x),y:r.round(c.y),width:r.round(c.width),height:r.round(c.height)}};(function(){var a;b!==window.parent&&(1!==b.nodeType?c=b:f.isDef(b.getBoundingClientRect)&&(a=w.getRect(b),f(c).mixin({x:a.left,y:a.top,width:a.width,height:a.height})))})();return{hasValidDims:function(){var a=1===b.nodeType?
c:b;return!(isNaN(a.x)||isNaN(a.y)||isNaN(a.height)||isNaN(a.width))},toString:function(){var b=a();return[b.x,b.y,b.width,b.height].join(".")},get:function(){return c},getRounded:a,set:function(a,b){c[a]=b},isHidden:function(){var a=1===b.nodeType?w.nodeIsHidden(b):0===b.width||0===b.height;return d?!1:a},disallowHiddenState:function(){d=!0}}},ra=function(){return{calcDims:function(b,c){var d=R(b),a=w.getClippedDimensions(b,c),e=d.get();d.set("height",a.height<e.height?a.height:e.height||1);d.set("width",
a.width<e.width?a.width:e.width||1);return d}}},w={nodeIsHidden:function(b){var c=this.getRect(b);b=0!==parseInt(z.getStyle(b,"width"))&&0===c.width;c=0===c.width||0===c.height;return b||c},calcWinDims:function(){var b,c,d,a;a=w.windowSize();d=a.width;a=a.height;u.friendly?b=c=0:(f.isDef(window.screenX)&&(b=window.screenX),f.isDef(window.screenY)&&(c=window.screenY));return isNaN(b)||isNaN(c)||isNaN(d)||isNaN(a)?-1:{x:r.round(b),y:r.round(c),width:r.round(d),height:r.round(a)}},windowSize:function(){var b=
{},c,d;if(u.friendly)if(c=top.document,d=c.documentElement,c=c.getElementsByTagName("body")[0],f.isDef(top.innerWidth))b.width=top.innerWidth,b.height=top.innerHeight;else if(f.isDef(d.clientWidth))b.width=d.clientWidth,b.height=d.clientHeight;else if(f.isDef(c.clientWidth))b.width=c.clientWidth,b.height=c.clientHeight;else throw b.width=b.height=0,"";else f.isDef(window.outerWidth)&&(b.width=window.outerWidth,b.height=window.outerHeight);return b},screenSize:function(){try{var b=-1,c=-1;f.isDef(window.screen)&&
(b=window.screen.width,c=window.screen.height);return{width:b,height:c}}catch(d){}},getNodeArea:function(b){var c=-1;b&&(b=w.getRect(b),c=b.width*b.height);return c},getRect:function(b){var c={};b=b.getBoundingClientRect();f.isUndef(b.x)&&(c={x:b.left,y:b.top});f.isUndef(b.width)&&f(c).mixin({width:b.right-b.left,height:b.bottom-b.top});f(c).mixin(b,!0);return c},getIeDimObj:function(){return document.documentElement&&f.isDef(document.documentElement.clientWidth)&&document.documentElement||document.body},
getPlaceholderSpan:function(){var b=document.createElement("span");f(b.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"});b.innerHTML=".";return b},getClippedDimensions:function(b,c){var d=1E4,a=1E4,e="absolute"===z.getStyle(b,"position"),g;if(null!==b.parentNode&&!e){do b=b.parentNode,e="OBJECT"!==b.tagName.toUpperCase(),g="inline"!==z.getStyle(b,"display"),e&&g&&(e=w.getRect(b),d=e.width<d?e.width:d,a=e.height<a?e.height:a);while(b.parentNode!==document&&
b!==c)}return{width:r.round(d),height:r.round(a)}},findLargestChildNode:function(b){var c,d="iframe img a object embed div".split(" "),a,e,g,l,h=[],q=-1;a=0;for(e=d.length;a<e;a++){var k=b.getElementsByTagName(d[a]);if(k.length)for(g=0,l=k.length;g<l;g++)h.push(k[g])}if(h.length)for(a=0,e=h.length;a<e;a++)b=h[a],d=w.getNodeArea(b),d>q&&(c=b,q=d);return f.isUndef(c)?null:f.isDef(c.nodeName)&&"DIV"==c.nodeName?w.findLargestChildNode(c):c}},oa=function(b){return{getProps:function(){var c={};try{var d=
document.createElement("span");f(d.style).mixin({position:"absolute",top:"150"});c={rpx:""===d.style.top?1:0}}catch(a){b.add(b.ERROR_ENVIRONMENT)}return c}}},ga=function(b){var c={},d=function(a){f.isDef(c[a])?c[a]++:c[a]=1};b.on("error",function(a){d(a)});return{list:c,add:d,toString:function(){var a="",b;for(b in c)c.hasOwnProperty(b)&&(a+=b);return a},hasErrors:function(){for(var a in c)return!0;return!1},ERROR_GET_AD_DIMENSIONS:"a",ERROR_ADTALK_GENERAL:"c",ERROR_GET_SCREEN_LOC_GET_DIMENSIONS:"d",
ERROR_EXCHANGE_PARSING:"x",ERROR_PHONE_HOME:"h",ERROR_KILL_IT:"k",ERROR_LOCATION_DETAILS:"l",ERROR_GET_SCREEN_LOC_PIV_CALC:"p",ERROR_GET_WIN_DIMENSIONS:"w",ERROR_ADTALK_DUBIOUS:"D",ERROR_ENVIRONMENT:"v",ERROR_UID_GENERATION:"i",ERROR_NOTIFY_CLIENT:"n",ERROR_IMPRESSION_URLS:"I",ERROR_JSINFO:"J",ERROR_IMPRESSION_LEADUP:"L",ERROR_GET_ELEM_STYLE:"s",ERROR_PLUGIN_PARSING:"P",ERROR_AT_SEND:"S",ERROR_AT_INIT:"N",ERROR_BAPI_CALLBACK:"b",ERROR_AC_WATCHER:"W"}},Ka=function(b,c){var d=function(a){var b=[];if(a&&
a instanceof Array)b=f(a).map(function(a,b){return b.val}),b.push(k.adsafeSrc,k.requrl,k.reqquery);else throw Error("Unexpected data type in ExchangeParser.getUrlList");return b};return{parse:function(a){try{var e,g=d(a),l=g&&g.length&&g.join("|"),h=k.exchList;l&&(e=f(h).map(function(a,b){return 0<=l.indexOf(K.rot(b))?a:void 0}),e.length&&c.addItem({output:e.join(".")},"ex",{type:"UFO"}))}catch(q){b.add(b.ERROR_EXCHANGE_PARSING)}}}},V=function(){var b={},c=function(a,d){var c=RegExp(a+"(?=$|,)|"+
a+":(?!,|$)(.?\\d*(?=,|$))").exec(k.jsFeatures);if(f.isUndef(b[a])||d)b[a]=!!(c&&!c[1]||c&&c[1]>100*r.random());return b[a]},d={bl:"blur",fc:"forcecocoa",rt:"rattie",cb:"cachebust",np:"nextcocoa",th:"tabHiddenDtCall"},a=function(){return f(d).mapToObj(function(a,d){var c={};c[a]=b[d]?1:0;return c})};f(d).each(function(a,b){c(b)});return{on:c,output:function(){return f(a()).toParams()}}},ta=function(b){var c=b.browserIs("g")||b.browserIs("i")||u.friendlyIframe||!u.embedded;return{calcPercentInView:function(b,
a){var c=a.isHidden(),g=a.getRounded(),f;f=b.x;var h=g.x;f=Math.min(b.x+b.width,g.x+g.width)-Math.max(h,f);var h=b.y,q=g.y,h=Math.min(b.y+b.height,g.y+g.height)-Math.max(q,h);f=0>=f||c?0:r.round(f/g.width*100);c=0>=h||c?0:r.round(h/g.height*100);return r.round(f*c/100)},calcInitialViewState:function(b,a){var e=m.NA;if(c||a)e=75<=b?m.IN_VIEW:25>=b?m.OUT_OF_VIEW:50<=b?m.PARTIAL_VIEW_PLUS:m.PARTIAL_VIEW_MINUS;return e},getOverlappingDims:function(b,a){b.x2=b.x+b.width;b.y2=b.y+b.height;a.x2=a.x+a.width;
a.y2=a.y+a.height;var c=Math.max(b.x,a.x),f=Math.max(b.y,a.y),l=Math.min(b.x2,a.x2),h=Math.min(b.x2,a.x2);return c>l||f>h?void 0:b.x<=a.x2&&b.x2>=a.x&&b.y<=a.y2&&b.y2>=a.y}}},pa=function(b){var c=!1;return{getCacheBustId:function(){var b=new Date,a=Date.parse("Jan 1 "+b.getFullYear()),b=b.getTime()-a;return f.toBase(b,62)},impressionIsIdentifiable:function(b){b&&(c=!0);return c},unq:function(){var d="";try{for(var a,c=window.Uint32Array&&window.crypto&&window.crypto.getRandomValues;30>d.length;)c?
(a=new Uint32Array(1),window.crypto.getRandomValues(a),d+=a[0].toString(16)):d+=(16*r.random()|0).toString(16);d=d.slice(0,30)}catch(f){b.add(b.ERROR_UID_GENERATION)}return d}()}},sa=function(b,c){var d,a=function(){try{var a,d;if(u.friendly){var c=g(window);a=c.left;d=c.top}else b.browserIs("i")&&11!==b.getDocumentMode()?(c=function(b){a=b.screenX-b.clientX;d=b.screenY-b.clientY},document.documentElement.attachEvent("onmousemove",c),document.documentElement.fireEvent("onmousemove"),document.documentElement.detachEvent("onmousemove",
c)):f.isUndef(window.mozInnerScreenX)?(a=window.screenLeft,d=window.screenTop):(a=r.round(window.mozInnerScreenX),d=r.round(window.mozInnerScreenY));return{x:a,y:d}}catch(e){}},e=function(){var b,a,c=d||w.getIeDimObj();f.isDef(window.innerWidth)?(b=window.innerWidth,a=window.innerHeight):c&&f.isDef(c.clientWidth)?(b=c.clientWidth,a=c.clientHeight,0===b&&0<c.offsetWidth&&(b=c.offsetWidth),0===a&&0<c.offsetHeight&&(a=c.offsetHeight)):window.frameElement&&f.isDef(window.frameElement.clientWidth)&&(b=
window.frameElement.clientWidth,a=window.frameElement.clientHeight);return{width:b,height:a}},g=function(b,a){f.isUndef(a)&&(a={top:0,left:0});for(var d=b.parent.document.getElementsByTagName("iframe"),c,e=!1,k=0,m=d.length;k<m;k++)if(c=d[k],c.contentWindow==b){e=!0;break}e&&(d=w.getRect(c),a.left+=d.left,a.top+=d.top,b!==top&&g(b.parent,a));return a};return{calcDims:function(){var b={};try{b=f(a()).mixin(e())}catch(d){c.add(c.ERROR_GET_AD_DIMENSIONS)}return R(b)},waitForBody:function(b){var a=setInterval(function(){document.body&&
(d=w.getIeDimObj(),clearInterval(a),b())},50)}}},Fa=function(b,c,d,a,e,g,l,h){var q=function(b,a){if(a>=m.MAX_URL_LENGTH)return"";var d,c,e=[],g=function(b){return-1!==b.key.indexOf("q")||-1!==b.key.indexOf("g")};d=f(b).map(function(b,a){if(g(a))return a});c=f(b).map(function(b,a){if(!g(a))return a});f(d.concat(c)).each(function(b,d){var c="adsafe_url="+d.val+"&adsafe_type="+d.key,f=e.join("&").length;c.length+f+a<=m.MAX_URL_LENGTH&&e.push(c)});return e.join("&")},n=function(b){var e=0,q=K.hashCode(k.asid),
n="adsafe_jsinfo=",E=h.needsFlash()?{viewState:m.NA}:h.checkScreenLoc(!0),y="c:"+a.getCacheBustId()+",sl:"+E.viewState+",em:"+u.embedded+",fr:"+u.friendly,B=d.on("postDts")&&z.getXHR2()?"p":"i",v=["pt:"+h.stringifyPingTimes()+(E.viewState!=m.NA?E.details:""),f(l.params()).toParams(),"id:"+k.asid];g.iterate(function(b,a){v.push(b+":"+a.output())});c.toString()&&v.push("e:"+c.toString());v.push(d.output());v.push("uf:"+(h.useFlash()?1:0));v.push("tt:"+k.mode);v.push("et:"+(r.now()-k.birthdate));v.push("uid:"+
a.unq);v.push("v:9.1");v.push("sp:"+("true"===k.jsDoSplit?1:0));v.push("ct:"+u.getPageTime());v.push("dtm:"+B);v.push("mn:"+k.mn);v.push("gtpl:"+("true"===k.getTpl?1:0));d.on("resolution")&&(v.push("wr:"+f(w.windowSize()).toArray().join(".")),v.push("sr:"+f(w.screenSize()).toArray().join(".")));-1===(""+q).indexOf(l.params().br.toUpperCase().charCodeAt(0))&&v.push("mf:"+q);var C=function(a){return n.length+b+a.length+5<=m.MAX_URL_LENGTH},D=function(b){if(b)return","+b};C(y)&&(n+=D(y),f(v).each(function(b,
d){-1!==d.indexOf("id:")&&C(d)?(n+=D(d),a.impressionIsIdentifiable(!0)):C(d)?n+=D(d):e+=1}),D("sp:"+("true"===k.jsDoSplit?1:0)));return n+=",ov:"+e};return{send:function(b){var a=e.baseUrl;try{a+=q(b,a.length)}catch(d){c.add(c.ERROR_IMPRESSION_URLS)}a+="&"===a.slice(-1)?"":"&";try{a+=n(a.length)}catch(f){c.add(c.ERROR_JSINFO),a+="adsafe_jsinfo=e:"+c.toString()}e.macroUrl&&(a+="&"===a.slice(-1)?"":"&",a+=e.macroUrl);try{e.sendImpression(a)}catch(g){__IntegralASDiagnosticCall("impsend",g,k)}}}},Ca=
function(b,c){return{init:function(d){b.jsonp(d,function(a){c.send(m.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:a})},!1,"callback")}}},za=function(b,c,d){var a=function(a,b){return{time:a,task:b}},e=function(b,d){d=d||f.noop;return function(e){return f(e).map(function(e,f){var h=f/1E3;return new a(f,function(){var a;a="";1!==h&&(a+=h);a=k["_onInViewMRC"+a];c.send(b,h);d(a)})})}};return{getJob:function(b,d){return new a(b,d)},getPingJobs:e(m.DT_CODES.PING,function(a){"true"===k.useViewabilityNotification&&
!d.skipAsFraudulent()&&a&&b.notify(a)}),getFullyInViewPingJobs:e(m.DT_CODES.FULLY_INVIEW),getPosInViewPingJobs:e(m.DT_CODES.POS_INVIEW)}},ma=function(){var b=function(b,a){-1!==b.indexOf(a+"&")&&(a+="&");return b.replace(a,"")},c=function(b,a,c){var f=b.indexOf("?");a=a+"="+c;if(-1===f)return b+"?"+a;f++;return b.slice(0,f)+a+"&"+b.slice(f)};return{wrap:function(d,a,e,f){var l="__IntegralAS_"+k.asid.replace(/\-/g,"")+"_"+r.round(1E4*Math.random()),h,q,n;f=f||"ias_callback";RegExp(f).test(d)&&(h=RegExp("("+
f+"=)(.[^&]*)").exec(d)[0],q=h.split("=")[1],n=K.stringToFn(q),d=b(d,h));window[l]=function(b){a(b);e&&n&&n(b);window[l]=void 0};return d=c(d,f,l)}}},la=function(){var b=function(){return void 0!==window.mraid};return{isInView:function(){var c=m.NA;b()&&void 0!==window.mraid.isViewable&&(c=window.mraid.isViewable()?m.IN_VIEW:m.OUT_OF_VIEW);return c},getDetectionMethod:function(){return b()?m.DETECTION_METHODS.MOBILE:m.NA},isMobileApp:function(){return b()}}},Da=function(b,c,d){var a={jss:{isFW:!0,
nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(b){c.send(b,function(){x.trigger("sendDiag")},!d.on("postMon"))}},bapi:{impressionMethod:function(a){c.jsonp(a,b.enabled?b.callback:f.noop,b.enabled?!0:!1)}},jsapi:{isFW:!0,impressionMethod:function(a){c.jsonp(a,b.enabled?b.callback:f.noop,b.enabled?!0:!1)}},jsvid:{impressionMethod:function(a){x.on("adImpression",function(){c.send(a,f.noop,!d.on("postMon"))})}},fwjsvid:{isFW:!0,processUrl:function(a){"false"===k.fwMonitoring&&
(a=a.split("/"),a[3]="db2",a[4]="video",a=a.join("/"));return a},impressionMethod:function(a){"false"===k.fwMonitoring&&c.jsonp(a,function(a){x.trigger("videoBlockResult",a)});x.on("adImpression",function(){c.send(a,void 0,!0)})}},jspix:{nodeType:"img"}};return new function(){var b=a[k.mode],d=!!b.isFW,f=d?k.adsafeSrc:k.requrl+"?"+k.reqquery,h=f.indexOf("BEGIN__ADSAFE"),q=-1!==h,n=q?f.slice(h):"",f=q?f.slice(0,h):f+(d?k.adsafeSep:"&");return{isFW:d,baseUrl:f,macroUrl:n,sendImpression:function(a){a=
b.processUrl?b.processUrl(a):a;b.nodeType?c.addNode(b.nodeType,a):b.impressionMethod(a)}}}},Ja=function(b,c){var d,a=k.mtCell,e=k.mtSample,g=0,l=0,h=[],q=null,n=null,p,t=function(b){try{var d=r.now()-q;g+=d;z.removeEvent("mousemove",s);h.push("{ht:"+g+",mm:{"+f(p).toParams()+"}}");c.addItem({output:"{cs:"+a+",sr:"+e+",ec:"+h.length+",me:["+h.slice(-10).join(",")+"]}"},"mt",{type:m.DT_CODES.UNLOAD})}catch(k){}},A=function(a){try{g=0,p={},q=r.now(),z.addEvent(d,"mousemove",s)}catch(b){}},s=function(c){var g,
h,k,q,m,s,t;try{null===n&&(n=d&&f.isDef(c.clientX)&&f.isDef(c.clientY));if(n&&0===l%e&&(m=b.calcDims(),-1!==m)){t=r.ceil(m.width/a);var A=c.clientX,w=c.clientY;k=u.embedded?A:A-m.x;q=u.embedded?w:w-m.y;g=r.floor(k/a);h=r.floor(q/a);s=g+h*t;p[s]?p[s]++:p[s]=1}l++}catch(x){}};return{init:function(){var a=setInterval(function(){try{b.isAdDetected()&&(d=b.getOriginatingElement(),z.addEvent(d,"mouseenter",A),z.addEvent(d,"mouseleave",t),clearInterval(a))}catch(c){}},250)}}},r={execAtEndOfThread:function(b){setTimeout(b,
0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(b){return Math.round(b)},ceil:function(b){return Math.ceil(b)},floor:function(b){return Math.floor(b)}},ia=function(b){var c={},d=r.now(),a=!0,e=new T,g=u.friendly&&b.on("blur")&&window.top.document&&f.isFunction(window.top.document.hasFocus);b=function(){var b=function(){d=r.now();window.webkitRequestAnimationFrame(b)};window.webkitRequestAnimationFrame(b);setInterval(function(){var b=100<r.now()-
d;a!==b&&(a=b,e.run(b))},100)};var k=function(){var b=null;f.isDef(document.hidden)?b=document.hidden:f.isDef(document.mozHidden)?b=document.mozHidden:f.isDef(document.msHidden)?b=document.msHidden:f.isDef(document.webkitHidden)&&(b=document.webkitHidden);if(null!==b){var d=b;a!==d&&(a=d,e.run(d))}return b};c.onHiddenChange=function(a){e.push(a)};c.isHidden=function(){return g&&!window.top.document.hasFocus()||k()};null===k()&&f.isDef(window.webkitRequestAnimationFrame)&&(b(),c.isHidden=function(){return a});
return c},ja=function(){var b=function(b){for(var a in b)if(b.hasOwnProperty(a)){var c=b[a];(""===c||"null"===c||"undefined"===c||null===c||f.isUndef(c))&&delete b[a]}return b},c=function(b){var a={},c,g;for(g in b)b.hasOwnProperty(g)&&(c=b[g],f.isUndef(a[c])?a[c]=g:a[c]+=g);b={};for(g in a)a.hasOwnProperty(g)&&(c=a[g],b[c]=g);return b};return{detectTopURL:function(){var d=function(){var b={g:"",q:""};try{b.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(a){var c=
a.message,c=c.substring(c.lastIndexOf("<")+1,c.lastIndexOf(">")),d;if(d=f.isDef(c))if(d=!1,f.isDef(window.navigator)&&f.isDef(window.navigator.userAgent)){var e=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==e&&2==e.length&&(e=e[1].split("."),3==parseInt(e[0],10)&&6>=parseInt(e[1],10)&&(3==e.length?13>=parseInt(e[2],10)&&(d=!0):d=!0))}d&&(b.g=c)}return b},a={};try{a.a=encodeURIComponent(top.location.href)}catch(e){}try{a.b=encodeURIComponent(parent.location.href)}catch(g){}if(u.embedded){try{a.c=
encodeURIComponent(parent.document.referrer)}catch(l){}try{a.e=encodeURIComponent(window.document.referrer)}catch(h){}}try{"jsi"!==k.mode&&(a.d=encodeURIComponent(window.location.href))}catch(m){}try{a.f=encodeURIComponent(k.jsref)}catch(n){}try{var p=d();a.g=encodeURIComponent(p.g);a.q=encodeURIComponent(p.q)}catch(r){}var a=b(a),a=c(a),d=[],A;for(A in a)a.hasOwnProperty(A)&&d.push({key:A,val:a[A]});d.sort(function(b,a){return b.val.length>a.val.length?1:b.val.length<a.val.length?-1:0});return d}}},
La=function(b){return{hash:function(){for(var c=0,d=b.length,a=[],e;c<d;c++)e=b[c].filename.replace(/\.plugin$/,""),e=K.hashCode(e),e=f.toBase(e,62).slice(-4),a.push(e);return a},decode:function(c){var d,a;d=r.floor(r.random()*c.length);a=encodeURIComponent(b[d].filename.replace(/\.plugin$/,""));return[c[d],a]}}},fa=function(b){var c=!1;return{measure:function(d){(c=0===d.rsa)&&k._onSuspicious&&b.trigger("notify",k._onSuspicious)},skipAsFraudulent:function(){return c}}},ka=function(){var b=[],c={},
d={sl:"n",gsl:"gn",fsl:"fn"},a=0,e,g,k={i:0,o:0,n:0,pp:0,pm:0,gpp:0,gpm:0,gi:0,go:0,gn:0,fi:0,fo:0,fn:0},h=function(b){var a={},c=b.winDimensions,d=b.adDimensions,e=function(b){var a="";f.isDef(b)&&f.isDef(b.x)&&f.isDef(b.y)&&f.isDef(b.width)&&f.isDef(b.height)&&(a=[b.x,b.y,b.width,b.height].join("."));return a};f.isDef(c)&&-1!==c&&(a.wc=e(c));f.isDef(d)&&d.hasValidDims()&&(a.ac=d,a.am=b.method,a.cc=e(b.containerDimensions));f({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason",cmps:"adCompCount"}).each(function(c,
d){var e=b[d];f.isDef(e)&&(a[c]=e)});c=f(a).toParams();return""===c?"":","+c},q=function(b,a){var d=new Ta(a);return c[b]=d},n=function(b,a){return(a||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[b]},p=function(){f(d).each(function(c,d){k[d]+=b.length?g-a:g});a=g},r=function(a){b.length&&p();f(a).each(function(b,a){var c=d[b];c!==a&&"n"===c&&(k[a]+=k.n);d[b]=a});b.length||p()},A=function(b){var a,d=b.adDimensions.getRounded();a=h(b);var e={sl:n(b.viewState),fsl:n(b.fState||
m.NA,"f"),gsl:n(b.gState||m.NA,"g")};g=u.getTagTime();r(e);e.t=g;a=f({toString:function(){f(c).each(function(b,a){a.fastForward()});return"{"+f(e).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var b,a=function(b,a){return a.duration+"~"+a.state};b=""+("piv:["+f(this.piv).stringify(a)+"]");b+=",as:["+f(this.as).stringify(a)+"]";return",bkn:{"+b+"}"}},isInView:function(){return-1!==(m.IN_VIEW+"|"+m.PARTIAL_VIEW_PLUS).indexOf(b.viewState)},isFullyInView:function(){var a=
b.useCocoa?b.fullPercentInView:b.percentInView;return this.isInView()&&100===a}}).mixin(e);f(a).mixin(b);a.width=d.width;a.height=d.height;return a};(function(){q("piv",function(b){var a,c=b.percentInView,d=[1,25,30,50,75];100===c||0===c?a=c:(f(d).each(function(b,e){f.isUndef(a)&&c<e&&(a=d[b-1])}),f.isUndef(a)&&(a=d[d.length-1]));return a});q("as",function(b){b=b.adDimensions.getRounded();return b.width+"."+b.height})})();return{fastForward:function(){g=u.getTagTime();p()},registerLocation:function(a){var g,
h=!1;d.sl==n(a.viewState)&&b.length?(g=new A(a),b[b.length-1].details=g.details):(g=new A(a),b.push(g),e=a.viewState,h=!0);x.trigger("newScreenEvent",g);f(c).each(function(a,c){-1!=="piv|as".indexOf(a)?(h&&c.clear(),c.addState(g),b[b.length-1].breakdowns[a]=c.get()):c.addState(g)});return g},stringify:function(a){var c="";b.length&&(c=f({slTimes:"{"+f(k).toParams()+"}",slEvents:"["+b.slice(-a).join(",")+"]",slEventCount:b.length}).toParams());return c},createViewabilityTracker:q,getCurrentLoc:function(){return n(e)}}},
Ga=function(b){var c=k.asid,d=[0,1,4],a,e=function(){var b=setInterval(function(){window.postMessage({asid:c,ksca:"acsk",sender:"main"},"*")},50);window.addEventListener("message",function(a){a=a.data;"acsk"===a.ksca&&a.asid===c&&"main"!==a.sender&&("ack"===a.type&&clearInterval(b),"complete"===a.type&&(a.timeReturned=r.now(),g(a)),d.length&&(a=d.shift(),window.postMessage(l(a),"*")))})},g=function(a){var c=-5-0.1*a.targets,d=m.DT_CODES.SCA;a="{"+f(a).stringify(function(a,b){var c;0===a.indexOf("time")?
c=a+":"+b:"resultList"===a&&(c="rl:"+f(b).map(function(a,b){return"{"+f(b).toParams()+"}"}).join("."));return c})+"}";b.trigger("addOutputItem",{output:a},"sc",{type:d});b.trigger("sendDt",d,c)},l=function(){var b=0,d=c.replace("-",""),e=d.substr(-6);return function(f){for(var g=a,k=r.now(),l=f,m=[];l--;)m.push(d.substr(++b,3));return{scaUrl:g,targets:f,timeBegun:k,src:e,targetList:m,asid:c,ksca:"acsk",sender:"main",cap:1E6}}}();return{load:function(){if(!f.isUndef(window.Worker)&&!f.isUndef(window.Blob)){var c=
new P;c.sub("static");c.master(c.master().split(":")[0]);c.path("/sca.js");a=c.toString();b.trigger("exec",a);e()}}}},K={rot:function(b){return b.replace(/[a-zA-Z]/g,function(b){return String.fromCharCode(("Z">=b?90:122)>=(b=b.charCodeAt(0)+13)?b:b-26)})},hashCode:function(b){var c=0,d,a,e;if(0===b.length)return c;d=0;for(e=b.length;d<e;d++)a=b.charCodeAt(d),c=(c<<5)-c+a,c|=0;return c},stringToFn:function(b){var c,d=window,a=b.split(".");for(b=0;b<a.length;b++)if(c=d,d=d[a[b]],f.isUndef(d)||b===a.length-
1&&!f.isFunction(d))return!1;return function(){d.apply(c,arguments)}}},va=function(b,c,d,a,e){var g=m.OUT_OF_VIEW,l,h=function(){if(l)return l;var a=f(document.getElementsByTagName("object")).toArray(),c=f(document.getElementsByTagName("embed")).toArray(),d="IASid"+b;return l=f(a.concat(c)).find(function(a,c){var e=f.isFunction(c[d]);if(e)c[d](b);return e})};d.on("videoBlockResult",function(a){var c=h(),d=!1,e="blockAd"+b;"failed"===a.action&&(d=!0);if(c&&f.isDef(c.blockAd))c.blockAd(d);else if(c&&
f.isDef(c[e]))c[e](d)});(function(){var f=!1,h=!1;c.on("hundredpct")&&k.use100v&&(new Va(d,a)).init();z.addEvent(window,"message",function(a){var c={};try{c=JSON.parse(unescape(a.data))}catch(k){c={}}c.recordType="video";c.id===b&&(a=c.messageType,-1!=="showAd|adStarted|adVideoStart|adVideoStarted|resumeAd".indexOf(a)?(f=!0,g=h?m.IN_VIEW:!1):-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(a)?(f=!1,g=m.OUT_OF_VIEW):"resizeAd"===a&&("fullscreen"===c.viewMode?(h=!0,g=f?m.IN_VIEW:m.OUT_OF_VIEW):
(h=!1,g=f?!1:m.OUT_OF_VIEW)),e.addRecord(c),d.trigger(a,c))})})();return{findVideo:h,version:h().getVersion(),forceViewState:function(){return g}}},ua=function(b){var c=[],d=function(a){var c=f({t:a.time-k.birthdate,tp:a.messageType,vid:a.id,sl:b.getCurrentLoc()}).mixin(a.eventData);return f({toString:function(){return"{"+f(c).toParams()+"}"}}).mixin(c)};return{getEvents:function(){return c},addRecord:function(a){a=new d(a);c.push(a)},stringify:function(){return"{"+f({vEventCount:c.length,vEvents:"["+
c.join(",")+"]"}).toParams()+"}"}}},Ea=function(b,c,d,a,e,g,l,h,q,n,p,t,w,s,x){var y,B,v,C,D=0,L=0,M,F=-1!==k.mode.indexOf("jsvid"),P=p.isMobileApp(),G=F?200:100;d=k.mobOrTab;var K=!d&&a.on("recordalternate"),Q=a.on("forcecocoa"),H=b.getDocumentMode(),H=b.browserIs("g")||b.browserIs("i")&&(9===H||10===H)&&a.on("rattie"),$=u.friendlyIframe&&Q||u.xDomainIframe&&H&&Q||u.xDomainIframe&&!H,I=!d&&$&&a.on("cocoapuffs"),N=!1,O=new Ua(10),J=[F&&a.on("videotwoseconds")?2E3:1E3,5E3,15E3],T=f(J).map(function(a,
b){return b/1E3}).join("-"),X=new ca(1E3),ea=new ba(n.getPingJobs(J));if(a.on("hundredpct")&&k.use100v)var Y=new ca(1E3),V=new ba(n.getFullyInViewPingJobs(J));if(a.on("tabHiddenDtCall"))var Z=new ca(1E3),W=new ba(n.getPosInViewPingJobs([J[0]]));var U=function(d){O.start();var g,h,l;h=w.collect();l=function(){U();a.on("viewabilityready")&&c.send(m.DT_CODES.VIEWABILITY_READY)};K&&(h.gState=h.viewState);if(I){y=y||new aa(S,h.adDimensions,l,a,t,b)||{};g=y.checkViewable();a.on("hundredpct")&&k.use100v&&
(C=C||new Ra(Qa,h.adDimensions,l,b,a,e,q,t)||{},l=C.checkViewable(),h.fullPercentInView=l.pct,h.useCocoa=I);if(1!==h.tabHidden||g.str===m.NA)h.viewState=g.str;h.percentInView=g.pct;a.on("unreliabilityDetection")&&(v=v||new aa(S,R({height:0,width:-2E4}),f.noop,a,t,b)||{},g=v.checkViewable(),g.str!==m.OUT_OF_VIEW&&(L+=1),D+=1,q.addItem({output:L+"/"+D},"fu"))}else $&&(h.viewState=m.NA,h.percentInView=-1);K&&(B||d||(B=I?y:new aa(S,h.adDimensions,f.noop,a,t,b,e)),h.fState=d?m.NA:B.checkViewable().str);
if(F){if(g=x.forceViewState())h.viewState=g}else P&&(h.viewState=p.isInView());g=s.registerLocation(h);a.on("hundredpct")&&k.use100v&&(g.isFullyInView()?(Y.mark(),V.doEligibleJobs(Y.getTotalTime()),!a.on("zeroPing")||N||d||(c.send(m.DT_CODES.FULLY_INVIEW,0),N=!0)):Y.stop());g.isInView()?(X.mark(),ea.doEligibleJobs(X.getTotalTime())):X.stop();(d=ea.getNextJob())&&d.time===J[0]&&a.on("tabHiddenDtCall")&&(h.posViewState===m.IN_VIEW||h.posViewState===m.PARTIAL_VIEW_PLUS?(Z.mark(),W.doEligibleJobs(Z.getTotalTime())):
Z.stop());O.stop();h=r.round(O.getTime()/O.getCount());q.addItem({output:h},"lt",{type:m.DT_CODES.UNLOAD});return g},da=function(a){M=!0;var b=!1;a=function(){b||(b=!0,c.send(m.DT_CODES.VIDEO_EVENTS))};l.impressionIsIdentifiable()&&(U(),setInterval(U,G),g.on("adStopped",a),g.on("adVideoComplete",a),z.addEvent(window,"beforeunload",c.unload,!1),F&&z.addEvent(window,"beforeunload",a,!1))};return{checkScreenLoc:U,init:function(){"true"===k.allowViewability&&f.isFunction(document.addEventListener)?(M=
!1,"complete"==document.readyState||"loaded"==document.readyState||"interactive"==document.readyState?r.execAtEndOfThread(da):document.addEventListener("DOMContentLoaded",da,!1)):h.waitForBody(da)},needsFlash:function(){return $},readyFired:function(){return M},useFlash:function(){return I},stringifyPingTimes:function(){return T}}};try{Ma()}catch(Wa){__IntegralASDiagnosticCall("main",Wa,k)}};
try{__IntegralASConfig.initialize(__IntegralASConfig)}catch(err$$13){__IntegralASDiagnosticCall("initialize",err$$13,__IntegralASConfig)};
