/*!CK:4284628131!*//*1425571426,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["hrmcN"]); }

__d("AdminSignatureConstants",[],function(a,b,c,d,e,f){e.exports={SETTING_ATTACH_TO_POST:"shouldAttachToPost",SETTING_ATTACH_TO_COMMENT:"shouldAttachToComment",SETTING_ATTACH_TO_MESSAGE:"shouldAttachToMessage",SETTING_EVER_PROMPTED:"everPromptedUser",SETTING_SIGNATURE_TEXT:"signature",FIELD_PAGE_ID:"pageID",FIELD_SIGNATURE_OPTION_FIELD:"signatureOption",FIELD_SIGNATURE_OPTION_VALUE_FIELD:"signatureOptionValue",FIELD_SIGNATURE_TEXT_FIELD:"signatureText",EVENT_ADMIN_SIGNATURE_PROMPTED:"AdminSignature\/prompted",EVENT_ADMIN_SIGNATURE_SETTING_CHANGED:"AdminSignatureSetting\/changed"};},null);
__d("ComposedBlockType",[],function(a,b,c,d,e,f){e.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8};},null);
__d("ComposedEntityMutability",[],function(a,b,c,d,e,f){e.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};},null);
__d("ComposedEntityType",[],function(a,b,c,d,e,f){e.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5};},null);
__d("ComposedInlineStyle",[],function(a,b,c,d,e,f){e.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8};},null);
__d("PagesPrivateReplyStatus",[],function(a,b,c,d,e,f){e.exports={REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created"};},null);
__d("UFITranslationConstants",[],function(a,b,c,d,e,f){e.exports={BING_PAGE_URL:"http:\/\/bing.com\/translator",BING_TRANSLATOR_APP:"bing",FB_TRANSLATOR_APP:"fb"};},null);
__d("ClickPointIdentifiersDEPRECATED",[],function(a,b,c,d,e,f){var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;},null);
__d("NumberFormat",["NumberFormatConfig"],function(a,b,c,d,e,f,g){var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<g.minDigitsForThousandsSeparator)return l.toString();var n=i(l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function(l){return j(l,g.numberDelimiter);}};e.exports=k;},null);
__d("UFIBlingItem.react",["React","NumberFormat","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:"UFIBlingItem",propTypes:{contextArgs:g.PropTypes.object.isRequired,count:g.PropTypes.number.isRequired,countreduced:g.PropTypes.string.isRequired,allowText:g.PropTypes.bool,className:g.PropTypes.string,iconClassName:g.PropTypes.string,itemKey:g.PropTypes.string},render:function(){var m=k(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),n=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||','),o=n,p=this.props.contextArgs.ufiexperiments||{};if(this.props.allowText||p.useWordsInBlingbox)switch(this.props.itemKey){case 'like':if(p.useWordsInBlingbox)o=j._({"Like":"{count} Like","Likes":"{count} Likes"},[j.param("count",this.props.countreduced),j['enum'](this.props.count===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})]);break;case 'comment':if(p.useWordsInBlingbox)o=j._({"Comment":"{count} Comment","Comments":"{count} Comments"},[j.param("count",this.props.countreduced),j['enum'](this.props.count===1?'Comment':'Comments',{Comment:"Comment",Comments:"Comments"})]);break;case 'reshare':if(this.props.contextArgs.reshareedu||p.useWordsInBlingbox)o=j._({"Share":"{count} Share","Shares":"{count} Shares"},[j.param("count",p.useWordsInBlingbox?this.props.countreduced:n),j['enum'](this.props.count===1?'Share':'Shares',{Share:"Share",Shares:"Shares"})]);break;}var q=null;if(!p.useWordsInBlingbox)q=g.createElement("i",{className:m});return (g.createElement("span",null,q,g.createElement("span",{className:(("UFIBlingBoxText")+(p.useWordsInBlingbox?' '+"_3-90":''))},o)));}});e.exports=l;},null);
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","fbt","FeedNFBConstants"],function(a,b,c,d,e,f,g,h,i,j,k){var l=b('FeedNFBConstants').data,m=g.createClass({displayName:"UFIBlingBox",propTypes:{contextArgs:g.PropTypes.object.isRequired,'data-ft':g.PropTypes.string,comments:g.PropTypes.number,commentsreduced:g.PropTypes.string,likes:g.PropTypes.number,likesreduced:g.PropTypes.string,nfb:g.PropTypes.number,onClick:g.PropTypes.func,permalink:g.PropTypes.string,reshares:g.PropTypes.number,resharesreduced:g.PropTypes.string},render:function(){var n=[],o='';if(this.props.likes){n.push(g.createElement(h,{className:((n.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxLikeIcon",itemKey:"like",key:"like"}));o+=(this.props.likes==1)?"1 like":k._("{count} likes",[k.param("count",this.props.likes)]);o+=' ';}if(this.props.comments){n.push(g.createElement(h,{className:((n.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxCommentIcon",itemKey:"comment",key:"comment"}));o+=(this.props.comments==1)?"1 comment":k._("{count} comments",[k.param("count",this.props.comments)]);o+=' ';}if(this.props.reshares){n.push(g.createElement(h,{className:((n.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxReshareIcon",itemKey:"reshare",key:"reshare"}));o+=(this.props.reshares==1)?"1 share":k._("{count} shares",[k.param("count",this.props.reshares)]);}if(this.props.nfb&&l){n.push(g.createElement(h,{className:((n.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.nfb,iconClassName:"_1ufb",itemKey:"nfb",key:"nfb"}));o+=(this.props.nfb==1)?l.ONE_NFB:k._("{nfb count}{nfb text}",[k.param("nfb count",this.props.nfb),k.param("nfb text",l.MULT_NFB)]);o+=' ';}var p=this.props.onClick,q='ignore';if(this.props.comments>i.defaultPageSize){p=null;q=null;}var r=this.props.contextArgs.ufiexperiments||{},s=g.createElement("a",{className:(("UFIBlingBox")+(' '+"uiBlingBox")+(' '+"feedbackBling")+(r.useWordsInBlingbox?' '+"UFIBlingBoxRevised":'')),href:this.props.permalink,"data-ft":this.props['data-ft'],"aria-label":o,onClick:p,rel:q},n);return s;}});e.exports=m;},null);
__d("UFILikeLink.react",["React","Image.react","TrackingNodes","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.createClass({displayName:"UFILikeLink",propTypes:{likeAction:g.PropTypes.bool,ufiExperiments:g.PropTypes.object,onClick:g.PropTypes.func},getDefaultProps:function(){return {ufiExperiments:{}};},onClick:function(n,o){n.preventDefault();this.props.onClick(n,o);},render:function(){var n=this.props.likeAction?"Like":"Unlike",o=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),p=this.props.likeAction?"Like this":"Unlike this",q=this.props.ufiExperiments,r=null;if(q.showIconsInActionLinks)r=g.createElement(h,{className:"UFILikeLinkIcon",src:!q.useBrightLikedState||this.props.likeAction?l('/images/ufi/fbfeed/like.png'):l('/images/ufi/fbfeed/bright-like.png')});return (g.createElement("a",{className:(("UFILikeLink")+(q.useBoldDarkFont?' '+"UFILinkBold":'')+(q.useBrightLikedState&&!this.props.likeAction?' '+"UFILinkBright":'')),href:"#",role:"button","aria-live":"polite",title:p,onClick:this.onClick,"data-ft":o},r,n));}});e.exports=m;},null);
__d("UFIShareLink.react",["React","Image.react","TrackingNodes","ShareDialogShareProperties","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=g.createClass({displayName:"UFIShareLink",propTypes:{ufiExperiments:g.PropTypes.object,href:g.PropTypes.oneOfType([g.PropTypes.object,g.PropTypes.string]).isRequired},render:function(){var o="Send this to friends or post it on your timeline.",p='{ "tn": "'+i.encodeTN(i.types.SHARE_LINK)+'", "type": 25 }',q=this.props.ufiExperiments,r=null;if(q.showIconsInActionLinks)r=g.createElement(h,{className:"UFIShareLinkIcon",src:m('/images/ufi/fbfeed/share.png')});return (g.createElement("a",{className:(("share_action_link")+(q.useBoldDarkFont?' '+"UFILinkBold":'')),"data-ft":p,"data-dialog-width":q.isReactShareDialog?j.WIDTH:null,"data-dialog-title":q.isReactShareDialog?j.TITLE:null,href:this.props.href,rel:"dialog",title:o},r,"Share"));}});e.exports=n;},null);
__d("UFISubscribeLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"UFISubscribeLink",propTypes:{subscribeAction:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){var j=this.props.subscribeAction?"Get Notifications":"Stop Notifications",k=this.props.subscribeAction?"Get a notification whenever someone comments.":"Stop getting notifications when someone comments.";return (g.createElement("a",{className:"UFISubscribeLink",href:"#",role:"button","aria-live":"polite",title:k,onClick:this.props.onClick},j));}});e.exports=i;},null);
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f,g){var h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;},null);
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){var g={LIKES:'likes',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees',TOPIC_CONVERSATION_PARTICIPANTS:'topic_conversation_participants'};e.exports=g;},null);
__d("UFITimelineBlingBox.react",["ProfileBrowserLink","ProfileBrowserTypes","React","UFIBlingItem.react","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:"UFITimelineBlingBox",propTypes:{contextArgs:i.PropTypes.object.isRequired,'data-ft':i.PropTypes.string,'data-gt':i.PropTypes.string,actorid:i.PropTypes.any,commentOnClick:i.PropTypes.func,comments:i.PropTypes.number,commentsreduced:i.PropTypes.string,enableShowComments:i.PropTypes.bool,enableShowLikes:i.PropTypes.bool,feedbackFBID:i.PropTypes.any,likes:i.PropTypes.number,likesreduced:i.PropTypes.string,reshares:i.PropTypes.number,resharesreduced:i.PropTypes.string},render:function(){var o=[];if(this.props.likes&&this.props.enableShowLikes){var p=this._getProfileBrowserURI(),q="See who likes this",r=i.createElement("a",{ajaxify:p.dialog,className:this._getItemClassName(o),"data-ft":this.props['data-ft'],"data-gt":this.props['data-gt'],"data-hover":"tooltip","data-tooltip-alignh":"right","data-tooltip-uri":this._getLikeToolTipURI(),href:p.page,key:"like",rel:"dialog",role:"button",title:q},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxTimelineLikeIcon",itemKey:"like"}));o.push(r);}if(this.props.comments&&this.props.enableShowComments){var s="Show comments",t=i.createElement("a",{"aria-label":s,className:this._getItemClassName(o),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:"#",key:"comment",onClick:this.props.commentOnClick},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxTimelineCommentIcon",itemKey:"comment"}));o.push(t);}if(this.props.reshares){var u="Show shares",v=this._getShareViewURI(),w=i.createElement("a",{ajaxify:v.dialog,"aria-label":u,className:this._getItemClassName(o),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:v.page,key:"reshare",rel:"async"},i.createElement(j,{allowText:true,contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxTimelineReshareIcon",itemKey:"reshare"}));o.push(w);}return (i.createElement("span",null,o));},_getItemClassName:function(o){return ((o.length>0?"mls":'')+(' '+"UFIBlingBoxTimelineItem"));},_getLikeToolTipURI:function(){if(this.props.feedbackFBID){var o=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:this.props.feedbackFBID});return o.toString();}else return null;},_getProfileBrowserURI:function(){if(this.props.feedbackFBID){var o=h.LIKES,p={id:this.props.feedbackFBID,actorid:this.props.actorid},q=g.constructDialogURI(o,p),r=g.constructPageURI(o,p),s={dialog:q.toString(),page:r.toString()};return s;}},_getShareViewURI:function(){if(this.props.feedbackFBID){var o=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.feedbackFBID}),p=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.feedbackFBID}),q={dialog:o.toString(),page:p.toString()};return q;}}});e.exports=n;},null);
__d("UFICommentList",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=l({actorID:true});function n(o){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new h();this.feedbackTargetID=o;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink="";this.commentPermalinks={};this.orderReversed=false;k.getFeedbackTarget(this.feedbackTargetID,function(p){this.actorID=p.actorforpost;this.basePermalink=p.permalink;this.orderReversed=p.isranked;}.bind(this));}n.prototype.addComment=function(o,p,q){var r=p&&g.isExistingClientID(p),s=this.dataSource.getAllResources(),t={};for(var u in s){var v=s[u];t[v]=u;}if(r&&p in t){t[o]=t[p];var w=t[p];this.dataSource.setResource(w,o);}else if(!t[o]){var x=this.count;this.count++;t[o]=x;this.dataSource.setResource(x,o);}if(q)this.commentPermalinks[o]=this.buildCommentPermalink(o,q,t[o]);i.didUpdateFeedback(this.feedbackTargetID);};n.prototype.addCommentIDs=function(o,p,q){var r={};for(var s=0;s<p;s++)r[o+s]=q[s]||j.unavailableCommentKey;this.dataSource.addResourcesAndExecute(r);i.didUpdateFeedback(this.feedbackTargetID);return this;};n.prototype.getComments=function(o,p,q,r){var s=[];for(var t=0;t<p;t++)s.push(o+t);var u=this.dataSource.getUnavailableResourcesFromRequest(s);if(u.length){var v=Math.min.apply(Math,u),w=Math.max.apply(Math,u),x=v,y=w-v+1;if(x<this.lastRequestedOffset||(x+y)>(this.lastRequestedOffset+this.lastRequestedLength)){this.lastRequestedOffset=x;this.lastRequestedLength=y;this.fetchComments(x,y,q);}}else this.dataSource.executeOrEnqueue(s,this.deferredCallback.bind(this,o,p,r));};n.prototype.fetchComments=function(o,p,q){};n.prototype.deferredCallback=function(o,p,q,r){};n.prototype.reset=function(){var o=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return o;};n.prototype.deleteComment=function(o){if(!(o in this.deletedComments)){this.deletedComments[o]=true;this.deletedCount++;}};n.prototype.updateCommentCount=function(o){this.count=o;this.deletedCount=0;return this;};n.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};n.prototype.getCommentCount=function(){return this.count;};n.prototype.getDeletedCount=function(){return this.deletedCount;};n.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};n.prototype.getBasePermalink=function(){return this.basePermalink;};n.prototype.buildCommentPermalink=function(o,p,q){};n.prototype.getPermalinkForComment=function(o){return this.commentPermalinks[o];};n.isValidContextPropertyForReset=function(o){return o in m;};e.exports=n;},null);
__d("UFIComments",["ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","UFIInstanceState","invariant","merge","randomInt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={},p={};function q(fa){return fa in p?p[fa]:fa;}function r(fa,ga){fa.forEach(function(ha){var ia=ha.ftentidentifier,ja=j.UFIPayloadSourceType,ka=ha.clientid,la=false,ma=m({},ha);if(ka){delete ma.clientid;la=g.isExistingClientID(ka);if(la&&p[ka])return;}if((ga===ja.LIVE_SEND)||(ga===ja.USER_ACTION)||(ga===ja.ENDPOINT_ADD_COMMENT)||(ga===ja.ENDPOINT_EDIT_COMMENT))ma.isunseen=true;if(ga===ja.ENDPOINT_COMMENT_FETCH||ga===ja.ENDPOINT_ID_COMMENT_FETCH)ma.fromfetch=true;if(la){if(o[ka].ufiinstanceid)k.updateStateField(o[ka].ufiinstanceid,'locallycomposed',ha.id,true);ma.ufiinstanceid=o[ka].ufiinstanceid;p[ka]=ha.id;o[ha.id]=o[ka];delete o[ka];i.didUpdateComment(ka);}ea.setComment(ha.id,new h(ma));i.didUpdateComment(ha.id);i.didUpdateFeedback(ia);});}function s(fa){for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];switch(ha.actiontype){case j.UFIActionType.LIKE_ACTION:if(ea.getComment(ha.entidentifier))t(ha.clientid,ha.entidentifier,ha.hasviewerliked,ha.likecount);break;case j.UFIActionType.COMMENT_LIKE:t(ha.clientid,ha.commentid,ha.viewerliked,ha.likecount);break;case j.UFIActionType.DELETE_COMMENT:x(ha);break;case j.UFIActionType.LIVE_DELETE_COMMENT:y(ha);break;case j.UFIActionType.REMOVE_PREVIEW:z(ha);break;case j.UFIActionType.COMMENT_SET_SPAM:aa(ha);break;case j.UFIActionType.CONFIRM_COMMENT_REMOVAL:ba(ha);break;case j.UFIActionType.TRANSLATE_COMMENT:v(ha);break;case j.UFIActionType.COMMENT_LIKECOUNT_UPDATE:u(ha);break;}}}function t(fa,ga,ha,ia){var ja=ea.getComment(ga);if(ja){var ka={},la=fa&&g.isExistingClientID(fa);if(!la){ka.hasviewerliked=ha;ka.likecount=ia;}ka.likeconfirmhash=n(0,1024);da(ga,ka);}}function u(fa){var ga=ea.getComment(fa.commentid);if(ga&&fa.hasviewerliked===ga.hasviewerliked){var ha={likecount:fa.likecount,likeconfirmhash:n(0,1024)};da(fa.commentid,ha);}}function v(fa){var ga=fa.commentid,ha=ea.getComment(ga);if(ha){var ia={translatedbody:fa.translatedbody,translatorapp:fa.translatorapp};da(ga,ia);}}function w(fa){var ga={reportLink:fa.reportLink,commenterIsFOF:fa.commenterIsFOF,userIsMinor:fa.userIsMinor,giveFeedbackLink:fa.giveFeedbackLink};return ga;}function x(fa){var ga=ea.getComment(fa.commentid);ca(ga,j.UFIStatus.DELETED);}function y(fa){var ga=ea.getComment(fa.commentid);if(ga&&ga.status!==j.UFIStatus.DELETED)ca(ga,j.UFIStatus.LIVE_DELETED);}function z(fa){da(fa.commentid,{attachment:null});}function aa(fa){var ga=ea.getComment(fa.commentid),ha=fa.shouldHideAsSpam?j.UFIStatus.SPAM_DISPLAY:null;ca(ga,ha);}function ba(fa){da(fa.commentid,w(fa));}function ca(fa,ga){da(fa.id,{priorstatus:fa.status,status:ga});}function da(fa,ga){var ha=ea.getComment(fa)||new h({});ea.setComment(fa,h.set(ha,ga));i.didUpdateComment(ha.id);i.didUpdateFeedback(ha.ftentidentifier);}var ea={getComment:function(fa){if(fa===j.unavailableCommentKey)return null;return o[q(fa)];},setComment:function(fa,ga){l(ga instanceof h);o[q(fa)]=ga;},resetComments:function(fa){for(var ga in fa)delete o[q(ga)];}};i.subscribe('update-comments',function(fa,ga){if(ga.comments&&ga.comments.length)r(ga.comments,ga.payloadsource);});i.subscribe('update-actions',function(fa,ga){if(ga.actions&&ga.actions.length)s(ga.actions);});e.exports=ea;},null);
__d("UFIReplyCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n={};for(var o in j)if(j.hasOwnProperty(o))q[o]=j[o];var p=j===null?null:j.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=j;q.getCommentList=function(s,t){if(!n[t])n[t]=new q(s,t);return n[t];};q.resetWithContext=function(s,t,u){var v=n[t];if(!v)return;v.reset();for(var w in u)if(this.isValidContextPropertyForReset(w))v[w]=u[w];};function q(s,t){j.call(this,s);this.parentCommentID=t;}q.prototype.fetchComments=function(s,t,u){var v={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[s],lengths:[t]};if(!u)v[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/reply_fetch.php',v);};q.prototype.deferredCallback=function(s,t,u,v){var w={};for(var x=0;x<t;x++){var y=k.getComment(v[s+x]);if(y)w[s+x]=y;}u(w);};q.prototype.reset=function(){var s=p.reset.call(this),t={};for(var u in s){var v=s[u];t[v]=true;}k.resetComments(t);};q.prototype.getParentCommentID=function(){return this.parentCommentID;};q.prototype.buildCommentPermalink=function(s,t,u){if(!this.basePermalink)return null;return (m(this.basePermalink).addQueryData({reply_comment_id:t,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/reply_fetch.php':{mode:h.IMMEDIATE}});function r(s){var t=k.getComment(s.commentid),u=t.id,v=t.ftentidentifier,w=t.parentcommentid;if(!w)return;if(t.status!==l.UFIStatus.DELETED&&t.status!==l.UFIStatus.FAILED_ADD)q.getCommentList(v,w).deleteComment(u);}i.subscribe('update-actions',function(s,t){if(t.actions&&t.actions.length)for(var u=0;u<t.actions.length;u++){var v=t.actions[u];switch(v.actiontype){case l.UFIActionType.DELETE_COMMENT:r(v);break;}}});i.subscribe('update-comment-lists',function(s,t){var u=t.commentlists;if(u&&u.replies&&Object.keys(u).length)for(var v in u.replies){var w=u.replies[v],x=w.ftentidentifier;q.getCommentList(x,v).addCommentIDs(w.range.offset,w.range.length,w.values).updateCommentCount(w.count);}});i.subscribe('update-comments',function(s,t){if(t.comments&&t.comments.length)t.comments.forEach(function(u){var v=u.entidentifier,w=u.parentcommentid;if(!w)return;q.getCommentList(v,w).addComment(u.id,u.clientid,u.legacyid);});});e.exports=q;},null);
__d("UFIToplevelCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","UFIReplyCommentList","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={};for(var p in j)if(j.hasOwnProperty(p))r[p]=j[p];var q=j===null?null:j.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=j;r.getCommentList=function(t,u){if(!o[t])o[t]={};if(!o[t][u]){var v=new r(t,u),w=r.getCommentListsForFeedbackTargetID(t);if(w.length)v.updateCommentCount(w[0].getCommentCount());o[t][u]=v;}return o[t][u];};r.getCommentListsForFeedbackTargetID=function(t){var u=[],v=o[t]||{};for(var w in v)u.push(v[w]);return u;};r.getCommentListForFeedbackTargetID_UNSAFE=function(t){var u=r.getCommentListsForFeedbackTargetID(t);return u.length?u[0]:null;};r.resetCommentListsForFeedbackTargetID=function(t){if(!o[t])return;var u={};for(var v in o[t]){var w=o[t][v],x=w.reset();for(var y in x){var z=x[y];u[z]=true;}}k.resetComments(u);};r.resetCommentListsWithContext=function(t,u){if(!o[t])return;var v={};for(var w in o[t]){var x=o[t][w];for(var y in u)if(this.isValidContextPropertyForReset(y))x[y]=u[y];var z=x.reset();for(var aa in z){var ba=z[aa];v[ba]=true;m.resetWithContext(t,ba,u);}}k.resetComments(v);};function r(t,u){j.call(this,t);this.orderingMode=u;}r.prototype.fetchComments=function(t,u,v){var w={ft_ent_identifier:this.feedbackTargetID,viewas:v,source:null,offset:t,length:u,orderingmode:this.orderingMode};if(!v)w[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/comment_fetch.php',w);};r.prototype.deferredCallback=function(t,u,v,w){var x={},y=t,z=t+u-1;for(var aa=0;aa<u;aa++){var ba=this.orderReversed?z-aa:y+aa,ca=k.getComment(w[ba]);if(ca)x[t+aa]=ca;}v(x);};r.prototype.getOrderingMode=function(){return this.orderingMode;};r.prototype.buildCommentPermalink=function(t,u,v){if(!this.basePermalink)return null;var w=Math.floor((this.count-v-1)/l.defaultPageSize)*l.defaultPageSize;return (n(this.basePermalink).addQueryData({comment_id:u,offset:w,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:h.IMMEDIATE}});function s(t){var u=k.getComment(t.commentid),v=u.id,w=u.ftentidentifier,x=u.parentcommentid;if(x)return;if(u.status!==l.UFIStatus.DELETED&&u.status!==l.UFIStatus.FAILED_ADD)r.getCommentListsForFeedbackTargetID(w).forEach(function(y){y.deleteComment(v);});}i.subscribe('update-actions',function(t,u){if(u.actions&&u.actions.length)for(var v=0;v<u.actions.length;v++){var w=u.actions[v];switch(w.actiontype){case l.UFIActionType.DELETE_COMMENT:s(w);break;}}});i.subscribe('update-comment-lists',function(t,u){var v=u.commentlists;if(v&&v.comments&&Object.keys(v).length)for(var w in v.comments)for(var x in v.comments[w]){var y=v.comments[w][x];r.getCommentList(w,x).addCommentIDs(y.range.offset,y.range.length,y.values);}});i.subscribe('update-comments',function(t,u){if(u.comments&&u.comments.length)u.comments.forEach(function(v){if(v.parentcommentid)return;var w=v.ftentidentifier;r.getCommentListsForFeedbackTargetID(w).forEach(function(x){x.addComment(v.id,v.clientid,v.legacyid);});});});i.subscribe('update-feedback',function(t,u){if(u.feedbacktargets&&u.feedbacktargets.length)u.feedbacktargets.forEach(function(v){var w=v.entidentifier,x=v.defaultcommentorderingmode,y={};if(x)y[x]=true;if(v.orderingmodes)v.orderingmodes.forEach(function(aa){y[aa.value]=true;});for(var z in y)r.getCommentList(w,z).updateCommentCount(v.commentcount);});});e.exports=r;},null);
__d("UFIUserActions",["ActorURI","AsyncResponse","CLoggerX","ClientIDs","ImmutableObject","Nectar","UFICentralUpdates","UFIToplevelCommentList","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","fbt","UnicodeBidi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w={BAN:'ban',UNDO_BAN:'undo_ban'},x={changeActor:function(ka,la){q.getFeedbackTarget(ka,function(ma){n.resetCommentListsWithContext(ka,{actorID:la});var na={from_actor_id:ma.actorforpost,ft_ent_identifier:ka};na[g.PARAMETER_ACTOR]=la;r.trySend('/ajax/ufi/actor_change.php',na);});},changeCommentLike:function(ka,la,ma){var na=o.getComment(ka);if(na.hasviewerliked!=la){var oa=y(ma.target),pa=la?1:-1,qa={commentid:ka,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:la,likecount:na.likecount+pa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.getFeedbackTarget(na.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/comment_like.php',t({comment_id:ka,legacy_id:na.legacyid,like_action:la,ft_ent_identifier:na.ftentidentifier,source:ma.source,client_id:j.getNewClientID()},oa,sa));});}},addComment:function(ka,la,ma,na){q.getFeedbackTarget(ka,function(oa){var pa=y(na.target),qa=j.getNewClientID();if(!oa.actorforpost)return;var ra=v.isDirectionLTR(la)?'ltr':'rtl',sa={ftentidentifier:ka,body:{text:la,dir:ra},author:oa.actorforpost,id:qa,islocal:true,ufiinstanceid:na.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:na.replyid,attachment:na.attachedsticker,photo_comment:na.attachedphoto,timestamp:{time:Math.floor(Date.now()/1000),text:"a few seconds ago"}},ta={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:oa.actorforpost,hasviewersubscribed:true,entidentifier:ka},ua={actiontype:p.UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:oa.targetfbid};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[sa],actions:[ta,ua]});var va=null;if(na.replyid)va=(o.getComment(na.replyid)).fbid;var wa=i.getCLParamsForTarget(na.target,va),xa={};xa[g.PARAMETER_ACTOR]=oa.actorforpost;r.trySend('/ajax/ufi/add_comment.php',t({ft_ent_identifier:oa.entidentifier,comment_text:ma,source:na.source,client_id:qa,reply_fbid:va,parent_comment_id:na.replyid,timeline_log_data:na.timelinelogdata,rootid:na.rootid,clp:wa,attached_sticker_fbid:na.attachedsticker?na.attachedsticker.fbid:0,attached_photo_fbid:na.attachedphoto?na.attachedphoto.fbid:0,giftoccasion:na.giftoccasion,recommendation_ids:na.recommendationIDs?na.recommendationIDs:[],facepileMentionedIDs:na.facepileMentionedIDs},pa,xa));});},_hasCommentTextChanged:function(ka,la){return ka.body&&ka.body.text!=la;},_hasCommentPhotoChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&la&&(ka.fbid!=la.fbid));},_hasCommentStickerChanged:function(ka,la){return ((ka||la)&&!(ka&&la))||(ka&&(ka.type=="sticker")&&la&&(ka.fbid!=la.fbid));},editComment:function(ka,la,ma,na){var oa=y(na.target),pa=o.getComment(ka),qa=this._hasCommentTextChanged(pa,la)||this._hasCommentPhotoChanged(pa.photo_comment,na.attachedPhoto)||this._hasCommentStickerChanged(pa.attachment,na.attachedSticker);pa=k.set(pa,{status:p.UFIStatus.PENDING_EDIT,body:{text:la},editnux:null,attachment:na.attachedSticker,photo_comment:na.attachedPhoto});if(qa)pa=k.set(pa,{originalTimestamp:pa.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:"a few seconds ago"}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});q.getFeedbackTarget(pa.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/edit_comment.php',t({ft_ent_identifier:pa.ftentidentifier,comment_text:ma,source:na.source,comment_id:pa.id,parent_comment_id:pa.parentcommentid,attached_sticker_fbid:na.attachedSticker?na.attachedSticker.fbid:0,attached_photo_fbid:na.attachedPhoto?na.attachedPhoto.fbid:0},oa,sa));});},translateComment:function(ka,la){r.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ka.ftentidentifier,comment_ids:[ka.id],source:la.source});},setHideAsSpam:function(ka,la,ma){var na=y(ma.target),oa=o.getComment(ka),pa={commentid:ka,actiontype:p.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:la};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});r.trySend('/ajax/ufi/comment_spam.php',t({comment_id:ka,spam_action:la,ft_ent_identifier:oa.ftentidentifier,source:ma.source},na));},removeComment:function(ka,la){var ma=y(la.target),na=o.getComment(ka),oa={actiontype:p.UFIActionType.DELETE_COMMENT,commentid:ka,oneclick:la.oneclick};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.getFeedbackTarget(na.ftentidentifier,function(pa){var qa={};qa[g.PARAMETER_ACTOR]=pa.actorforpost;r.trySend('/ajax/ufi/delete_comment.php',t({comment_id:na.id,comment_legacyid:na.legacyid,ft_ent_identifier:na.ftentidentifier,one_click:la.oneclick,source:la.source,client_id:j.getNewClientID(),timeline_log_data:la.timelinelogdata},ma,qa));});},banUser:function(ka,la,ma,na){var oa=ma?w.BAN:w.UNDO_BAN;r.trySend('/ajax/ufi/ban_user.php',{page_id:la,commenter_id:ka.author,action:oa,comment_id:ka.id,client_side:true});},changeLike:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewerliked!==la){var pa=la?1:-1,qa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:la,likecount:na.likecount+pa,entidentifier:ka,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});var ra={};ra[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/like.php',t({like_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,giftoccasion:ma.giftoccasion},oa,ra));}});},changeSubscribe:function(ka,la,ma){q.getFeedbackTarget(ka,function(na){var oa=y(ma.target);if(na.hasviewersubscribed!==la){var pa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:la,entidentifier:ka};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});var qa={};qa[g.PARAMETER_ACTOR]=na.actorforpost;r.trySend('/ajax/ufi/subscribe.php',t({subscribe_action:la,ft_ent_identifier:ka,source:ma.source,client_id:j.getNewClientID(),rootid:ma.rootid,comment_expand_mode:ma.commentexpandmode},oa,qa));}});},fetchSpamComments:function(ka,la,ma,na){r.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ka,viewas:na,comment_ids:la,parent_comment_id:ma,source:null});},removePreview:function(ka,la){var ma=y(la.target),na={commentid:ka.id,actiontype:p.UFIActionType.REMOVE_PREVIEW};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[na]});r.trySend('/ajax/ufi/remove_preview.php',t({comment_id:ka.id,ft_ent_identifier:ka.ftentidentifier,source:la.source},ma));}};function y(ka){if(!ka)return {ft:{}};var la={ft:s(ka,['ft']).ft};l.addModuleData(la,ka);return la;}function z(ka){var la=ka.request.data;h.defaultErrorHandler(ka);var ma=la.client_id||la.comment_id,na=o.getComment(ma),oa=(na.status===p.UFIStatus.PENDING_EDIT)?p.UFIStatus.FAILED_EDIT:p.UFIStatus.FAILED_ADD;na=k.setDeep(na,{status:oa,allowRetry:aa(ka),body:{mentionstext:la.comment_text,mentionsphoto:na.photo_comment}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function aa(ka){var la=ka.getError();if(ka.isBlockedAction())return false;if(ka.silentError)return true;if(la===1357012||la===1357006)return false;return true;}function ba(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);na=k.set(na,{status:na.priorstatus||null,priorstatus:(void 0)});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function ca(ka){var la=ka.request.data,ma=la.comment_id,na=o.getComment(ma);if(la.like_action===na.hasviewerliked){var oa=na.hasviewerliked?-1:1,pa={commentid:ma,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:!na.hasviewerliked,likecount:na.likecount+oa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}h.defaultErrorHandler(ka);}function da(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewerliked===la.like_action){var oa=na.hasviewerliked?-1:1,pa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:!na.hasviewerliked,likecount:na.likecount+oa,entidentifier:ma,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}});h.defaultErrorHandler(ka);}function ea(ka){var la=ka.request.data,ma=la.ft_ent_identifier;q.getFeedbackTarget(ma,function(na){if(na.hasviewersubscribed===la.subscribe_action){var oa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:!na.hasviewersubscribed,entidentifier:ma};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});}});h.defaultErrorHandler(ka);}var fa={'/ajax/ufi/actor_change.php':{mode:r.IMMEDIATE},'/ajax/ufi/comment_like.php':{mode:r.BATCH_CONDITIONAL,error_handler:ca,batch_if:ga,batch_function:ja},'/ajax/ufi/comment_spam.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/add_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/delete_comment.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/ban_user.php':{mode:r.IMMEDIATE},'/ajax/ufi/edit_comment.php':{mode:r.IMMEDIATE,error_handler:z},'/ajax/ufi/like.php':{mode:r.BATCH_CONDITIONAL,error_handler:da,batch_if:ha,batch_function:ja},'/ajax/ufi/subscribe.php':{mode:r.BATCH_CONDITIONAL,error_handler:ea,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:r.IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:r.IMMEDIATE},'/ajax/ufi/translate_comment.php':{mode:r.IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:r.IMMEDIATE}};r.registerEndpoints(fa);function ga(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier&&ka.comment_id==la.comment_id;}function ha(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ia(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ja(ka,la){return la;}e.exports=x;},null);
__d("UFIUIEvents",[],function(a,b,c,d,e,f){var g='UFIUIEvents/ufiActionAddComment',h='UFIUIEvents/ufiActionLinkLike',i='UFIUIEvents/ufiActionLinkUnlike',j={UFIActionLinkLike:h,UFIActionLinkUnlike:i,UFIActionAddComment:g};e.exports=j;},null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true}});},null);
__d("UFIPrivateReplyLink.react",["ActorURI","Link.react","PagesPrivateReplyStatus","React","XUIGrayText.react","XPagesMessagingPrivateReplyDialogController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=j.createClass({displayName:"UFIPrivateReplyLink",propTypes:{activityID:j.PropTypes.string.isRequired,context:j.PropTypes.shape({status:j.PropTypes.string.isRequired,hasReplyPermission:j.PropTypes.bool.isRequired,pageID:j.PropTypes.string.isRequired,permalink:j.PropTypes.string}).isRequired},render:function(){var o=this.props.context;if(o.hasReplyPermission){if(o.status===i.REPLYABLE){return this._renderMessageLink();}else if(o.status===i.ALREADY_REPLIED)return this._renderSeeReplyLink();return this._renderTooltip();}if(o.status===i.ALREADY_REPLIED)return this._renderIndicator();return null;},_renderMessageLink:function(){var o=g.create(l.getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID);return (j.createElement(h,{href:o,rel:"dialog"},this._getLabel()));},_renderTooltip:function(){return (j.createElement("span",null,j.createElement(k,{shade:"light"},this._getLabel())));},_renderSeeReplyLink:function(){return (j.createElement(h,{href:this.props.context.permalink||'#'},"See Response"));},_renderIndicator:function(){return (j.createElement("span",null,j.createElement(k,{shade:"light"},"Page responded privately")));},_getLabel:function(){return ("Message Privately");}});e.exports=n;},null);
__d("UFIActionLinkController",["Arbiter","ClickPointIdentifiersDEPRECATED","CSS","DOM","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","UFILikeLink.react","UFIShareLink.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIToplevelCommentList","UFIUserActions","UFIUIEvents","UFIPrivateReplyLink.react","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){function ba(da,ea,fa){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ga=k.scry(da,ea)[0];if(ga){var ha=document.createElement('span');ga.parentNode.replaceChild(ha,ga);ha.appendChild(ga);if(typeof fa==="function")fa(ha);}else var ia=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(ia);ba(da,ea,fa);},g.SUBSCRIBE_NEW);}var ca=function(da,ea,fa){this._id=ea.ftentidentifier;this._ftFBID=fa.targetfbid;this._source=ea.source;this._contextArgs=ea;this._ufiRoot=da;this._isOnTimeline=this._isRenderingOnTimeline();if(this._isOnTimeline){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(fa.viewercanlike||fa.hasviewerliked)this._attemptInitializeLike();if(fa.viewercansubscribetopost)this._attemptInitializeSubscribe();this._attemptInitializeShare();this._attemptInitializeMessageReply();p.subscribe('feedback-updated',function(ga,ha){var ia=ha.updates;if(this._id in ia)this.render();}.bind(this));p.subscribe('feedback-id-changed',function(ga,ha){var ia=ha.updates;if(this._id in ia)this._id=ia[this._id];}.bind(this));};aa(ca.prototype,{_attemptInitializeBling:function(){ba(this._ufiRoot,'^form .uiBlingBox',function(da){this._blingRoot=da;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var da=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline')[0];if(da){var ea=k.scry(da,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=ea?true:false;var fa=k.scry(da,'.fbTimelineFeedbackComments')[0];this._enableShowComments=fa?true:false;}this._blingTimelineRoot=da;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){ba(this._ufiRoot,'^form .like_link',function(da){this._likeRoot=da;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeSubscribe:function(){ba(this._ufiRoot,'^form .unsub_link',function(da){this._subscribeRoot=da;if(this._dataReady)this._renderSubscribe();}.bind(this));},_attemptInitializeMessageReply:function(){ba(this._ufiRoot,'^form .message_reply_action_link',function(da){this._messageReplyRoot=da;if(this._messageReplyRoot.previousSibling&&this._messageReplyRoot.previousSibling.nodeType===3){this._messageReplySeparator=this._messageReplyRoot.previousSibling;this._messageReplySeparatorData=this._messageReplySeparator.data;}if(this._dataReady)this._renderMessageReply();}.bind(this));},_attemptInitializeShare:function(){ba(this._ufiRoot,'^form .share_action_link',function(da){this._shareRoot=da;var ea=k.scry(this._shareRoot,'.share_action_link')[0];this._shareURI=ea?ea.getAttribute('href'):null;if(this._dataReady)this._renderShare();}.bind(this));},render:function(){this._dataReady=true;if(this._isOnTimeline){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderSubscribe();this._renderShare();this._renderMessageReply();},_renderBling:function(){if(this._blingRoot)r.getFeedbackTarget(this._id,function(da){var ea=function(event){if(this._contextArgs.blingtogglescomments){var ia=l.byTag(event.target,"form");i.toggleClass(ia,"collapsed_comments");i.toggleClass(ia,"hidden_add_comment");}event.preventDefault();}.bind(this),fa=n.getTrackingInfo(n.types.BLINGBOX),ga=w.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),ha=m.createElement(o,{likes:da.likecount,likesreduced:da.likecountreduced,comments:ga,commentsreduced:da.commentcountreduced,reshares:da.sharecount,resharesreduced:da.sharecountreduced,nfb:da.nfbcount,permalink:da.permalink,contextArgs:this._contextArgs,onClick:ea,"data-ft":fa});this._blingBox=m.render(ha,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)r.getFeedbackTarget(this._id,function(da){var ea=n.getTrackingInfo(n.types.BLINGBOX),fa=h.getUserActionID(h.types.TIMELINE_SEE_LIKERS),ga=function(event){var ja=l.byTag(event.target,"form");i.removeClass(ja,"collapsed_comments");var ka=k.scry(ja,'a.UFIPagerLink');if(ka.length)ka[0].click();event.preventDefault();}.bind(this),ha=w.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),ia=m.createElement(v,{comments:ha,commentsreduced:da.commentcountreduced,commentOnClick:ga,contextArgs:this._contextArgs,"data-ft":ea,"data-gt":fa,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:da.likecount,likesreduced:da.likecountreduced,reshares:da.sharecount,resharesreduced:da.sharecountreduced,actorid:da.actorid});m.render(ia,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)r.getFeedbackTarget(this._id,function(da){var ea=!da.hasviewerliked,fa=function(event){var ha=ea?y.UFIActionLinkLike:y.UFIActionLinkUnlike;g.inform(ha,{ft_id:this._id,like_action:ea,target:event.target});x.changeLike(this._id,ea,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();}.bind(this),ga=m.createElement(s,{onClick:fa,likeAction:ea,ufiExperiments:this._contextArgs.ufiexperiments});this._likeLink=m.render(ga,this._likeRoot);}.bind(this));},_renderMessageReply:function(){if(this._messageReplyRoot)r.getFeedbackTarget(this._id,function(da){this._messageReplyLink=null;if(da.messagereplycontext){var ea=m.createElement(z,{activityID:this._id,context:da.messagereplycontext});this._messageReplyLink=m.render(ea,this._messageReplyRoot);}if(!this._messageReplyLink.getDOMNode()){if(this._messageReplySeparator)this._messageReplySeparator.data='';j.setContent(this._messageReplyRoot,null);return;}if(this._messageReplySeparator)this._messageReplySeparator.data=this._messageReplySeparatorData;}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)r.getFeedbackTarget(this._id,function(da){var ea=!da.hasviewersubscribed,fa=function(event){x.changeSubscribe(this._id,ea,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:da.commentexpandmode});event.preventDefault();}.bind(this),ga=m.createElement(u,{onClick:fa,subscribeAction:ea});this._subscribeLink=m.render(ga,this._subscribeRoot);}.bind(this));},_renderShare:function(){if(this._shareRoot&&this._shareURI)this._shareLink=m.render(m.createElement(t,{ufiExperiments:this._contextArgs.ufiexperiments,href:this._shareURI}),this._shareRoot);},_isRenderingOnTimeline:function(){if(this._source===q.UFIFeedbackSourceType.PROFILE){var da=k.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline');return (da.length>0);}return false;}});e.exports=ca;},null);
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){var g={generateDataFromTextWithEntities:function(h){var i=h.text,j=[];(h.ranges||[]).forEach(function(l){var m=l.entity;if(!m.external)j.push({uid:m.id,text:i.substr(l.offset,l.length),offset:l.offset,length:l.length,weakreference:!!m.weakreference});});var k={value:i,mentions:j};return k;}};e.exports=g;},null);
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","mixin"],function(a,b,c,d,e,f,g,h,i){var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n,o){"use strict";this.uploadURIString=n;this.data=o;}m.prototype.handlePaste=function(event){"use strict";if(!event.clipboardData)return;var n=event.clipboardData.items;if(!n)return;for(var o=0;o<n.length;++o){var p=n[o];if(p.kind==='file'&&p.type.indexOf('image/')!==-1){var q=new FormData();q.append('pasted_file',p.getAsFile());var r=new h();r.setURI(this.uploadURIString).setData(this.data).setRawData(q).setHandler(function(s){this.inform('upload_success',s);}.bind(this)).setErrorHandler(function(s){this.inform('upload_error',s);}.bind(this));this.inform('upload_start');r.send();break;}}};e.exports=m;},null);
__d("PagingFacepile.react",["Animation","Locale","Facepile.react","React","Image.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=200,o=j.createClass({displayName:"PagingFacepile",propTypes:{className:j.PropTypes.string,onFaceClick:j.PropTypes.func,onComponentDidMount:j.PropTypes.func,size:j.PropTypes.oneOf(['small','medium','large']).isRequired,pageSize:j.PropTypes.number,onPageChange:j.PropTypes.func},getInitialState:function(){return {animating:false,page:0};},_numPages:function(){var p=this.props.pageSize;return Math.max(1,Math.ceil((this.props.profiles.length-1)/p));},_canGoPrev:function(){return this.state.page>0;},_canGoNext:function(){return this.state.page+1<this._numPages();},_goPrev:function(){this._canGoPrev()&&this._setPage(this.state.page-1);},_goNext:function(){this._canGoNext()&&this._setPage(this.state.page+1);},_setPage:function(p){if(this.state.animating)return;this.props.onPageChange(this._firstIndexOnPage(p));this.setState({animating:true,page:p},function(){var q=this.refs.positioner.getDOMNode().childNodes[0],r=this._calculatePosition(p);new g(q).to(r.reference,r.offset+'px').ondone(function(){return this.setState({animating:false});}.bind(this)).duration(n).go();}.bind(this));},_firstIndexOnPage:function(p){return (p===0)?0:this.props.pageSize*p+1;},_calculatePosition:function(p){var q=this._firstIndexOnPage(p),r=this.refs.positioner.getDOMNode().childNodes[0],s=r.childNodes[q].offsetLeft;if(h.isRTL()){var t=r.offsetWidth,u=r.childNodes[q].offsetWidth;return {reference:'right',offset:s+u-t};}return {reference:'left',offset:-s};},render:function(){return (j.createElement("div",null,this._renderPrevArrow(),this._renderNextArrow(),j.createElement("div",{className:"_29sq"},j.createElement(i,j.__spread({ref:"positioner"},this.props)))));},_renderArrow:function(p,q,r){var s=(("_43q7")+(p=='left'?' '+"lfloat":'')+(p=='right'?' '+"rfloat":'')),t=m('/images/messaging/stickers/selector/left.png'),u=m('/images/messaging/stickers/selector/right.png'),v;if(h.isRTL()){v=p=='right'?t:u;}else v=p=='left'?t:u;return (j.createElement("div",{className:s,onClick:r},j.createElement("a",{href:"#","aria-label":q,"data-hover":"tooltip","data-tooltip-alignh":"left",className:"_29sr"},j.createElement(k,{src:v}))));},_renderPrevArrow:function(){if(!this._canGoPrev())return null;return this._renderArrow('left','Previous',this._goPrev);},_renderNextArrow:function(){if(!this._canGoNext())return null;return this._renderArrow('right','Next',this._goNext);}});e.exports=o;},null);
__d("InputCaretUtility",[],function(a,b,c,d,e,f){var g={moveCaretToBeginning:function(h){if(typeof h.selectionStart==="number"){h.selectionStart=h.selectionEnd=0;}else if(h.createTextRange!==(void 0)){h.focus();var i=h.createTextRange();i.collapse(false);i.select();}},delayedMoveCaretToBeginning:function(h){setTimeout(function(){return g.moveCaretToBeginning(h);});}};e.exports=g;},null);
__d("LegacyMentionsInput.react",["Bootloader","CLogConfig","TypeaheadMetricsConfig","Event","InputCaretUtility","Keys","React","DOM","cx","FocusListener"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b('FocusListener');var p=m,q=p.PropTypes,r=m.createClass({displayName:"ReactLegacyMentionsInput",propTypes:{initialData:q.object,placeholder:q.string,datasource:q.object,ref:q.string,viewOptionsTypeObjects:q.object,viewOptionsTypeObjectsOrder:q.array,hashtags:q.bool,autoflip:q.bool,onEnterSubmit:q.func,onFocus:q.func,onBlur:q.func,onTypingStateChange:q.func,onPaste:q.func},componentDidMount:function(){this.props.initialData&&this._initializeTextarea(this.getDOMNode());},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},setSignature:function(s){var t=this.refs.textarea.getDOMNode();n.setAttributes(t,{value:s});k.delayedMoveCaretToBeginning(t);},submitComment:function(event){var s;if(event){s=event.target.value&&event.target.value.trim();}else{var t=this.refs.textarea.getDOMNode();if(t.value&&t.value!==t.placeholder)s=t.value;}s=s||'';var u={visibleValue:s,encodedValue:s};if(this._mentionsInput)u.encodedValue=this._mentionsInput.getRawValue().trim();var v=this.props.onEnterSubmit(u,event);if(v&&this._mentionsInput){this._mentionsInput.reset();event&&event.preventDefault();}},_handleKeydown:function(event){var s=event.nativeEvent,t=j.getKeyCode(s)==l.RETURN&&!j.$E(s).getModifiers().any,u=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&t&&!u)this.submitComment(event);},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(this.refs.root.getDOMNode());},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(s){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","CLoggerX","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=this.refs.textarea.getDOMNode();new y(ha);if(h.gkResults){var ia=ga.getComment(this.props.replyCommentID),ja=ia?ia.fbid:null;v.trackMentionsInput(ha,ja);}if(this.props.onTypingStateChange){var ka=new fa(ha);ka.init();ka.subscribe('change',this.props.onTypingStateChange);}var la={autoSelect:true,renderer:t,causalElement:ha,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)la.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)la.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ma=new z(this.props.datasource,{ctor:u,options:la},{ctor:aa},this.refs.typeahead.getDOMNode()),na=[ba,ca];if(i.gkResults){var oa=new ea({extraData:{event_name:'mention_metric_x'}});oa.init(ma);}var pa=new da({extraData:{event_name:'mentions',from_location:'comments'}});z.initNow(ma,na,pa);this._mentionsInput=new x(s,ma,ha,{hashtags:this.props.hashtags});this._mentionsInput.init({},this.props.initialData);if(this.props.initialData)w.set(ha,ha.value.length);if(this.props.onPaste)j.listen(ha,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{this.refs.textarea.getDOMNode().focus();}catch(s){}},render:function(){var s=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput"));return (m.createElement("div",{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},m.createElement("div",{className:"highlighter"},m.createElement("div",null,m.createElement("span",{className:"highlighterContent hidden_elem"}))),m.createElement("div",{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},m.createElement("div",{className:"wrap"},m.createElement("input",{type:"hidden",autoComplete:"off",className:"hiddenInput"}),m.createElement("div",{className:"innerWrap"},m.createElement("textarea",{ref:"textarea",name:"add_comment_text",className:s,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown})))),m.createElement("input",{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=r;},null);
__d("PageAdminSignatureSettings",["Arbiter","AdminSignatureConstants","invariant"],function(a,b,c,d,e,f,g,h,i){function j(k,l){"use strict";this.$PageAdminSignatureSettings0();if(!!l)this.$PageAdminSignatureSettings1=l;if(k instanceof j){i(!!l);this.$PageAdminSignatureSettings2(k);}else if(k!==null&&k!==(void 0)){this.$PageAdminSignatureSettings3=k.isValid;if(!this.$PageAdminSignatureSettings3)return;this.$PageAdminSignatureSettings4=k.signature;this.$PageAdminSignatureSettings5=k.shouldAttachToPost;this.$PageAdminSignatureSettings6=k.shouldAttachToComment;this.$PageAdminSignatureSettings7=k.shouldAttachToMessage;this.$PageAdminSignatureSettings8=k.everPromptedUser;this.$PageAdminSignatureSettings9=k.pageID;this.$PageAdminSignatureSettingsa=k.userID;}g.subscribe(h.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,function(m,n){return this.$PageAdminSignatureSettingsb(m,n);}.bind(this));g.subscribe(h.EVENT_ADMIN_SIGNATURE_PROMPTED,function(m,n){return this.$PageAdminSignatureSettingsc(m,n);}.bind(this));}j.prototype.getIsValid=function(){"use strict";return this.$PageAdminSignatureSettings3;};j.prototype.getIsValidWithActor=function(){"use strict";return this.getIsValid()&&this.$PageAdminSignatureSettings1!==null&&this.$PageAdminSignatureSettings1===this.$PageAdminSignatureSettings9;};j.prototype.getPageID=function(){"use strict";return this.$PageAdminSignatureSettings9;};j.prototype.getUserID=function(){"use strict";return this.$PageAdminSignatureSettingsa;};j.prototype.getSignature=function(){"use strict";return this.$PageAdminSignatureSettings4;};j.prototype.getShouldAttachToPost=function(){"use strict";return this.$PageAdminSignatureSettings5;};j.prototype.getShouldAttachToComment=function(){"use strict";return this.$PageAdminSignatureSettings6;};j.prototype.getShouldAttachToMessage=function(){"use strict";return this.$PageAdminSignatureSettings7;};j.prototype.getEverPromptedUser=function(){"use strict";return this.$PageAdminSignatureSettings8;};j.prototype.$PageAdminSignatureSettings0=function(){"use strict";this.$PageAdminSignatureSettings8=false;this.$PageAdminSignatureSettings9="";this.$PageAdminSignatureSettings6=false;this.$PageAdminSignatureSettings7=false;this.$PageAdminSignatureSettings5=false;this.$PageAdminSignatureSettings4="";this.$PageAdminSignatureSettingsa="";this.$PageAdminSignatureSettings3=false;this.$PageAdminSignatureSettings1=null;};j.prototype.$PageAdminSignatureSettings2=function(k){"use strict";this.$PageAdminSignatureSettings8=k.$PageAdminSignatureSettings8;this.$PageAdminSignatureSettings9=k.$PageAdminSignatureSettings9;this.$PageAdminSignatureSettings6=k.$PageAdminSignatureSettings6;this.$PageAdminSignatureSettings7=k.$PageAdminSignatureSettings7;this.$PageAdminSignatureSettings5=k.$PageAdminSignatureSettings5;this.$PageAdminSignatureSettings4=k.$PageAdminSignatureSettings4;this.$PageAdminSignatureSettingsa=k.$PageAdminSignatureSettingsa;this.$PageAdminSignatureSettings3=k.$PageAdminSignatureSettings3;};j.prototype.$PageAdminSignatureSettingsc=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa)return;this.$PageAdminSignatureSettings8=true;};j.prototype.$PageAdminSignatureSettingsb=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa||l.pageID!==this.$PageAdminSignatureSettings9)return;switch(l.settingChanged){case h.SETTING_ATTACH_TO_POST:this.$PageAdminSignatureSettings5=l.newValue;break;case h.SETTING_ATTACH_TO_MESSAGE:this.$PageAdminSignatureSettings7=l.newValue;break;case h.SETTING_ATTACH_TO_COMMENT:this.$PageAdminSignatureSettings6=l.newValue;break;default:i(false);}};e.exports=j;},null);
__d("XPagesAdminSignatureSettingsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/admin\/signature\/settings\/",{});},null);
__d("XPagesAdminSignaturePromptDialogController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/admin\/signature\/prompt\/",{__asyncDialog:{type:"Int"}});},null);
__d("PageAdminSignatureMonitor",["Arbiter","AsyncRequest","AdminSignatureConstants","DOM","DOMQuery","Event","InputCaretUtility","PageAdminSignatureSettings","XPagesAdminSignatureSettingsController","XPagesAdminSignaturePromptDialogController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q={registerComposerControlForSignature:function(r,s,t,u){if(!s||!s.isValid)return;var v=this._getUnderlyingTextControl(r),w=new n(s,t);l.listen(v,'focus',function(){this._handleInputFieldFocusForSignature(v,w,w.getShouldAttachToPost(),function(x){return x.value;},function(x,y){if(u)y='\n\n'.concat(y);j.setAttributes(x,{value:y});m.delayedMoveCaretToBeginning(x);});}.bind(this));},handleReactInputFieldFocusForSignature:function(r,s,t){this._handleInputFieldFocusForSignature(r,s,t,function(u){return u.hasEnteredText();},function(u,v){return u.setSignature(v);});},prepareConfirmationDialog:function(r,s,t){r.subscribe('confirm',function(){r.hide();this._notifyPromptConfirmation(s,t,true);}.bind(this));r.subscribe('cancel',function(){this._notifyPromptConfirmation(s,t,false);}.bind(this));},_promptForAutoSignature:function(r){g.inform(i.EVENT_ADMIN_SIGNATURE_PROMPTED,{userID:r.getUserID()});var s=p.getURIBuilder().getURI();new h().setURI(s).setData({pageID:r.getPageID()}).send();},_handleInputFieldFocusForSignature:function(r,s,t,u,v){if(!s||!s.getIsValidWithActor())return;if(!s.getEverPromptedUser()){this._promptForAutoSignature(s);}else if(t&&!u(r))v(r,s.getSignature());},_notifyPromptConfirmation:function(r,s,t){var u=o.getURIBuilder().getURI();new h().setURI(u).setData({pageID:r,signatureOption:i.SETTING_EVER_PROMPTED,signatureOptionValue:t}).send();this._aribiterNotifyPromptConfirmation(r,s,t);},_getUnderlyingTextControl:function(r){return k.find(r,'textarea');},_aribiterNotifyPromptConfirmation:function(r,s,t){var u=[i.SETTING_ATTACH_TO_POST,i.SETTING_ATTACH_TO_COMMENT,i.SETTING_ATTACH_TO_MESSAGE];u.forEach(function(v){g.inform(i.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,{pageID:r,userID:s,settingChanged:v,newValue:t});});}};e.exports=q;},null);
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f,g){e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:"UFIImageBlock",render:function(){return (h.createElement(g,h.__spread({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","Link.react","React","ReactLayeredComponentMixin","StickerInterfaces","cx","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=j.createClass({displayName:"UFIStickerButton",propTypes:{onStickerSelected:j.PropTypes.func.isRequired,onEmoticonSelected:j.PropTypes.func,showTooltip:j.PropTypes.bool,stickerInterface:j.PropTypes.oneOf(o(l))},mixins:[k],getDefaultProps:function(){return {showTooltip:true,stickerInterface:l.COMMENTS};},getInitialState:function(){return {renderFlyout:null,flyoutShown:false};},render:function(){var q="Post a sticker";return (j.createElement(i,{"aria-label":(this.props.showTooltip)?q:null,className:"UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick},j.createElement("div",{ref:"icon",tabIndex:0,className:"UFICommentStickerIcon"}),this.props.children));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){!this._clickGuard&&this.setState({flyoutShown:true});return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(q,r){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:j.createElement(q,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:"icon",onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},j.createElement("div",null,j.createElement(r,{onPackSelect:function(s){this.setState({packID:s});}.bind(this),onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});}.bind(this));},_onStickerSelected:function(q,event){this.props.onStickerSelected(q,event);this._hideFlyout();},_onEmoticonSelected:function(q){this.props.onEmoticonSelected(q);this._hideFlyout();}});e.exports=p;},null);
__d("XFeedNUXSaveSeenStateController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false}});},null);
__d("XUFIRecommendedMentionFriendsAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/ufi\/recommended_mention_friends\/",{cursor:{type:"String"},limit:{type:"Int"}});},null);
__d("UFIAddComment.react",["ActorURI","Arbiter","AsyncRequest","Bootloader","ClipboardPhotoUploader","CloseButton.react","DOM","DOMContainer.react","getActiveElement","Event","PagingFacepile.react","Focus","HTML","Keys","LegacyMentionsInput.react","Link.react","LitestandStoryInsertionStatus","LoadingIndicator.react","PageAdminSignatureMonitor","PageAdminSignatureSettings","React","ReactLayeredComponentMixin","Run","SearchableEntry","SnowflakePermalinkUtils","Sticker.react","TrackingNodes","UFIClassNames","UFIConfig","UFIConstants","UFIImageBlock.react","UFIStickerButton.react","URI","XFeedNUXSaveSeenStateController","XUIGrayText.react","XUFIRecommendedMentionFriendsAsyncController","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa){var ta="Write a comment...",ua="Write a reply...",va="fcg fss UFICommentTip",wa=10,xa=5,ya=19,za='/ajax/ufi/upload/',ab=80,bb='/ajax/ufi/sticker_preview/',cb=aa.createClass({displayName:"UFIAddComment",mixins:[ba],propTypes:{contextArgs:aa.PropTypes.object.isRequired,viewerActor:aa.PropTypes.object.isRequired,allowPhotoAttachments:aa.PropTypes.bool,allowStickerAttachments:aa.PropTypes.bool,attachedPhoto:aa.PropTypes.object,attachedSticker:aa.PropTypes.object,feedbackIsRanked:aa.PropTypes.bool,hide:aa.PropTypes.bool,initialData:aa.PropTypes.object,isEditing:aa.PropTypes.bool,isFirstComponent:aa.PropTypes.bool,isLastComponent:aa.PropTypes.bool,isSnowlift:aa.PropTypes.bool,isQAndA:aa.PropTypes.bool,mentionsDataSource:aa.PropTypes.object,onCancel:aa.PropTypes.func,onCommentSubmit:aa.PropTypes.func,onTypingStateChange:aa.PropTypes.func,replyCommentID:aa.PropTypes.string,useAddCommentFacepile:aa.PropTypes.bool,showSendOnEnterTip:aa.PropTypes.bool,subtitle:aa.PropTypes.any,targetID:aa.PropTypes.string,withoutSeparator:aa.PropTypes.bool},getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;if(this.props.attachedSticker)this.props.contextArgs.attachedsticker=this.props.attachedSticker;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,attachedSticker:this.props.attachedSticker?this.props.attachedSticker:null,facepileMentionedIDs:[],facepileSize:this.props.isSnowlift?xa:wa,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,mentionFriendsCursor:null,fetchingRecommendedMentionFriends:false,renderedProfiles:[],renderStickerNUX:null,facepileFirstIndex:0,showFacepile:false,stickerNUXVisible:false,signatureContext:new z(this.props.contextArgs.pagesAdminSignatureSettings,this.props.viewerActor.id)};},_onKeyDown:function(event){if(this.props.isEditing&&p.getKeyCode(event.nativeEvent)===t.ESC)this.props.onCancel();if(this.isMounted()&&!this._isOnBeforeUnloadListenerAdded){ca.onBeforeUnload(this._handleUnsavedChanges);this._isOnBeforeUnloadListenerAdded=true;}var db=o();if(p.getKeyCode(event.nativeEvent)===t.ESC)db.blur();},_handleUnsavedChanges:function(){var db=a.PageTransitions;if(db){var eb=ma.getNextURI(),fb=db.getMostRecentURI();if(eb.getQueryData().hasOwnProperty('theater')||fb.getQueryData().hasOwnProperty('theater')||ea.isPermalinkURI(eb)||ea.isPermalinkURI(fb))return;var gb=a.DialogNavigationStack;if(gb&&gb.isActiveURI(eb))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return "You haven't finished your comment yet. Do you want to leave without finishing?";},_blur:function(){this.setState({stickerNUXVisible:false});if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var db=new k(za,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[db.subscribe('upload_start',this._prepareForAttachedPhotoPreview),db.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),db.subscribe('upload_success',function(eb,fb){this._onPhotoUploadComplete(fb);}.bind(this))];db.handlePaste(event);},_onEnterSubmit:function(db,event){db.facepileMentionedIDs=this.state.facepileMentionedIDs.slice();this.setState({showFacepile:false,facepileMentionedIDs:[]});var eb=this.state.attachedPhoto||this.state.attachedSticker,fb=this.props.isEditing||eb;if(this.state.isLoadingPhoto){return false;}else if(!db.encodedValue.trim()&&!fb)return false;db.encodedValue=db.encodedValue.trim();if(eb){db.attachedPhoto=this.state.attachedPhoto;db.attachedSticker=this.state.attachedSticker;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedSticker:null});}else{db.attachedPhoto=null;db.attachedSticker=null;}this.props.onCommentSubmit(db,event);return true;},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(db){db.unsubscribe();});},componentWillMount:function(){this._isOnBeforeUnloadListenerAdded=false;this._storyInsertionBlocker=w.registerBlocker(function(){return this.state.isCommenting;}.bind(this));},componentWillUnmount:function(){this._cancelCurrentSubscriptions();this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},focus:function(){var db={isCommenting:true};if(this.props.allowStickerAttachments&&ia.shouldShowStickerNUX){var eb=na.getURIBuilder().setString('key','sticker_comments').setBool('seen',true).getURI();new i(eb).send();if(this.state.renderStickerNUX===null)j.loadModules(["XUIAmbientNUX.react"],function(fb){db.renderStickerNUX=function(){return {ambientNUX:aa.createElement(fb,{contextRef:"sticker_button",shown:this.state.stickerNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this._hideStickerNUX},"Now you can comment with a sticker!")};}.bind(this);}.bind(this));ia.shouldShowStickerNUX=false;db.stickerNUXVisible=true;}if(this.props.useAddCommentFacepile&&!this.props.replyCommentID&&!this.state.showFacepile){this._fetchRecommendedMentionFriends();db.showFacepile=true;}y.handleReactInputFieldFocusForSignature(this.refs.mentionsinput,this.state.signatureContext,this.state.signatureContext.getShouldAttachToComment());this.setState(db);},renderLayers:function(){return !this.state.renderStickerNUX?{}:this.state.renderStickerNUX();},renderFacepile:function(){if(this.state.showFacepile&&this.state.renderedProfiles.length>0)return (aa.createElement("div",{className:(("_2phz")+(' '+"_t9s")+(this.props.isSnowlift?' '+"_1_4j":''))},aa.createElement(oa,{className:"_t9u",shade:"light"},"Mention some friends:"),aa.createElement("div",{className:"_t9v"},aa.createElement(q,{pageSize:this.state.facepileSize,onPageChange:this.onFacepilePageChange,className:"_t9w",profiles:this.state.renderedProfiles,size:"medium",onFaceClick:this.insertFacepileMention}))));},render:function(){var db=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,eb=null;if(this.props.subtitle){eb=aa.createElement("span",{className:va},this.props.subtitle);}else if(this.props.isEditing){eb=aa.createElement("span",{className:va},ra._("Press Esc to {cancel}.",[ra.param("cancel",aa.createElement(v,{onClick:this.props.onCancel},"cancel"))]));}else if(this.props.showSendOnEnterTip)eb=aa.createElement("span",{className:va},"Press Enter to post.");var fb=null,gb=null,hb=this.state.attachedPhoto||this.state.attachedSticker,ib=null;if(this.props.allowStickerAttachments&&!hb)gb=aa.createElement(la,{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this._insertEmoticonIntoCommentText});if(this.props.allowPhotoAttachments){ib=this._onPaste;var jb=hb?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",kb="UFIPhotoAttachLinkWrapper _m";fb=aa.createElement("div",{ref:"PhotoInputContainer",className:kb,"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":"Attach a Photo"},aa.createElement("i",{ref:"PhotoInputControl",className:jb}));}var lb=ga.getTrackingInfo(ga.types.ADD_COMMENT_BOX),mb=sa(ha.ACTOR_IMAGE,((!db?"hidden_elem":''))),nb=aa.createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus},aa.createElement("img",{className:mb,src:this.props.viewerActor.thumbSrc,alt:this.props.viewerActor.name})),ob=sa(ha.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIComponent")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),pb;if(!!this.props.replyCommentID){pb=ua;}else if(this.props.isQAndA){pb="Ask a question...";}else if(this.props.source===ja.UFIFeedbackSourceType.TOPIC_CONVERSATION){pb="Discuss this topic...";}else pb=ta;var qb=this.props.contextArgs.viewoptionstypeobjects,rb=this.props.contextArgs.viewoptionstypeobjectsorder,sb=null;if(this.state.attachedSticker){var tb=this._getScaledDimensions(hb.metadata.height,hb.metadata.width),ub=null,vb=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){ub=hb.metadata.sprite_uri_2x;vb=hb.metadata.source_uri_2x;}else{ub=hb.metadata.sprite_uri;vb=hb.metadata.source_uri;}sb=aa.createElement(fa,{animationTrigger:"load_and_hover",frameCount:hb.metadata.frameCount,framesPerCol:hb.metadata.framesPerCol,framesPerRow:hb.metadata.framesPerRow,spriteURI:ub,sourceHeight:tb.height,sourceURI:vb,sourceWidth:tb.width});}else if(this.state.attachedPhoto){var wb=hb.markupPreview;if(s.isHTML(wb.markup))wb=s.replaceJSONWrapper(wb.markup).getRootNode();sb=aa.createElement(n,null,wb);if(!this.props.subtitle)eb=null;}else if(this.state.isLoadingPhoto)sb=aa.createElement(x,{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var xb,yb=this.state.attachedPhoto?this._onRemoveAttachedPhotoPreviewClicked:this._onRemoveAttachedStickerPreviewClicked;if(sb!=null){var zb=null;if(this.state.attachedSticker){zb="Remove Sticker";}else if(this.state.attachedPhoto)zb="Remove Photo";xb=aa.createElement("div",{className:"UFICommentPhotoAttachedPreview pas"},sb,aa.createElement(l,{tooltip:zb,onClick:yb}));}var ac=this.props.allowStickerAttachments?sa("UFIMentionsInputWrap","UFIStickersEnabledInput"):"UFIMentionsInputWrap",bc,cc,dc;if(this.props.contextArgs.mentionsinput){var ec=this.props.contextArgs.mentionsinput;bc=ec.inputComponent;cc=ec.viewComponent;dc=ec.viewProps;}else bc=u;return (aa.createElement("li",{className:ob,onKeyDown:this._onKeyDown,"data-ft":lb},aa.createElement(ka,{className:ac},nb,aa.createElement("div",{className:"UFICommentContainer"},aa.createElement("div",{className:"UFIInputContainer"},aa.createElement(bc,{replyCommentID:this.props.replyCommentID,initialData:this.props.initialData,placeholder:pb,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:cc,viewProps:dc,viewOptionsTypeObjects:qb,viewOptionsTypeObjectsOrder:rb,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this._onEnterSubmit,onFocus:this.focus,onBlur:this._blur,onTypingStateChange:this.props.onTypingStateChange,onPaste:ib}),aa.createElement("div",{className:"UFICommentAttachmentButtons clearfix"},fb,gb)),this.renderFacepile(),xb,eb))));},componentDidUpdate:function(db,eb,fb){if(!eb.attachedPhoto&&this.state.attachedPhoto||!eb.attachedSticker&&this.state.attachedSticker||!eb.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();if(db.viewerActor.id!==this.props.viewerActor.id){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this._getPhotoUploadData());this._onRemoveAttachedPhotoPreviewClicked();}},componentDidMount:function(){if(!this.props.allowPhotoAttachments)return;var db=this.refs.PhotoInputContainer.getDOMNode(),eb=this.refs.PhotoInputControl.getDOMNode(),fb="Attach a Photo",gb=m.create('input',{accept:'image/*',className:"_n",name:'file',type:'file',title:fb,'aria-label':fb});m.appendContent(eb,gb);var hb=p.listen(db,'click',function(event){j.loadModules(["FileInput","FileInputUploader","Input"],function(ib,jb,kb){var lb=new ib(db,eb,gb),mb=new jb((void 0),db).setAllowCrossPageTransition(true).setURI(za).setData(this._getPhotoUploadData());lb.subscribe('change',function(event){if(lb.getValue()){this._prepareForAttachedPhotoPreview();mb.setInput(lb.getInput()).send();}}.bind(this));mb.subscribe('success',function(nb,ob){lb.clear();this._onPhotoUploadComplete(ob.response);}.bind(this));mb.subscribe('failure',function(nb,ob){lb.clear();this._onPhotoUploadComplete(ob.response);}.bind(this));r.setWithoutOutline(eb);this.setState({fileInput:lb,fileUploader:mb});}.bind(this));hb.remove();}.bind(this));},insertMention:function(db){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(db);},insertFacepileMention:function(db,eb){var fb=this.state.renderedProfiles.slice();fb.splice(eb,1);this.setState({renderedProfiles:fb});var gb=new da({uniqueID:db.uniqueID,title:db.name,type:'user'});this.insertMention(gb);var hb=this.state.facepileMentionedIDs;hb.push(db.uniqueID);this.setState({facepileMentionedIDs:hb});this._maybeFetchRecommendedMentionFriends(this.state.facepileFirstIndex,fb.length);},onFacepileRendered:function(){if(this.props.isSnowlift)h.inform('ufi/addCommentFacepileRendered');},onFacepilePageChange:function(db){this.setState({facepileFirstIndex:db});this._maybeFetchRecommendedMentionFriends(db,this.state.renderedProfiles.length);},_maybeFetchRecommendedMentionFriends:function(db,eb){if(db+2*this.state.facepileSize>eb)this._fetchRecommendedMentionFriends();},_fetchRecommendedMentionFriends:function(){if(this.state.fetchingRecommendedMentionFriends)return;this.setState({fetchingRecommendedMentionFriends:true});var db=pa.getURIBuilder().setString('cursor',this.state.mentionFriendsCursor).setInt('limit',3*this.state.facepileSize).getURI();new i(db).setMethod('GET').setReadOnly(true).setHandler(this._setRecommendedMentionFriends).send();},_setRecommendedMentionFriends:function(db){var eb=db.getPayload();if(eb.profiles.length===0)return;var fb=this.state.renderedProfiles;fb=fb.concat(eb.profiles);this.setState({fetchingRecommendedMentionFriends:false,renderedProfiles:fb,mentionFriendsCursor:eb.cursor});},_getScaledDimensions:function(db,eb){var fb,gb,hb;if(eb>db){hb=ab/eb;fb=db*hb;gb=eb*hb;}else{hb=ab/db;fb=db*hb;gb=eb*hb;}return {height:Math.round(fb),width:Math.round(gb)};},_getPhotoUploadData:function(){var db=this.props.viewerActor.id,eb={profile_id:db,target_id:this.props.targetID,source:ya};eb[g.PARAMETER_ACTOR]=db;return eb;},_onPhotoUploadComplete:function(db){if(!this.state.isLoadingPhoto)return;var eb=db.getPayload();if(eb&&eb.fbid){this.props.contextArgs.attachedphoto=eb;this.setState({attachedPhoto:eb,isLoadingPhoto:false});}else this._onRemoveAttachedPhotoPreviewClicked(null);},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});},_onStickerUploadComplete:function(db){if(!this.state.isLoadingPhoto)return;var eb=db.getPayload();if(eb&&eb.fbid){this.props.contextArgs.attachedsticker=eb;this.setState({attachedSticker:eb,isLoadingPhoto:false});}else{j.loadModules(["Dialog"],function(fb){var gb="Sticker Failed",hb="There was a problem attaching the sticker.";new fb().setTitle(gb).setBody(hb).setButtons(fb.OK).show();});this._onRemoveAttachedStickerPreviewClicked(null);}},_onRemoveAttachedStickerPreviewClicked:function(event){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:false});},onStickerSelected:function(db,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this._prepareForAttachedStickerPreview(db);return;}this.sendSticker(db,event);},_prepareForAttachedStickerPreview:function(db){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:true});new i(bb).setData({sticker_id:db}).setErrorHandler(this._onRemoveAttachedStickerPreviewClicked).setHandler(this._onStickerUploadComplete).send();},sendSticker:function(db,event){var eb={encodedValue:'',visibleValue:''};this.props.contextArgs.attachedsticker={fbid:db};this.props.onCommentSubmit(eb,event);},_insertEmoticonIntoCommentText:function(db){j.loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(eb,fb,gb,hb){var ib=eb.symbols[db];if(!ib)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(ib);return;}if(!this._selectionPosition)this._selectionPosition=new hb(this.refs.mentionsinput.refs.textarea.getDOMNode());var jb=this.refs.mentionsinput.refs.getTextFieldDOM(),kb=gb.getInstance(jb),lb=kb.getValue(),mb=fb.insertEmoticon(ib,lb,this._selectionPosition.getPos());kb.setValue(mb.result);this._selectionPosition.setPos(mb.start,mb.end);}.bind(this));},_hideStickerNUX:function(){this.setState({stickerNUXVisible:false});}});e.exports=cb;},null);
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUIEvents","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(u,v,w,x){this.id=v;this._ufiInstanceID=x.instanceid;this._contextArgs=x;this._replyCommentID=w;if(u){this.root=u;if(!this._contextArgs.rootid)this._contextArgs.rootid=u.id;this.render();n.subscribe('instance-updated',function(y,z){var aa=z.updates;if(this._ufiInstanceID in aa)this.render();}.bind(this));n.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this.id in aa)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this.id in aa)this.id=aa[this.id];}.bind(this));}h(t.prototype,{_onCommentSubmit:function(u,event){s.addComment(this.id,u.visibleValue,u.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,attachedsticker:this._contextArgs.attachedsticker,giftoccasion:this._contextArgs.giftoccasion,facepileMentionedIDs:u.facepileMentionedIDs});this._contextArgs.attachedphoto=null;this._contextArgs.attachedsticker=null;p.getFeedbackTarget(this.id,function(v){var w=j.byTag(this.root,'form');if(w)g.inform('ufi/comment',{form:w,isranked:v.isranked});if(v.showtopicconversationcreationpivot)g.inform(r.UFIActionAddComment,{feedback:v,target:event.target});}.bind(this));return false;},_onTypingStateChange:function(u,v){},renderAddComment:function(u,v,w,x,y,z,aa,ba,ca,da){var ea=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,fa=null,ga=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;p.getFeedbackTarget(this.id,function(ha){this._contextArgs.feedbackisranked=ha.isranked;}.bind(this));return (l.createElement(k,{hide:ga,replyCommentID:this._replyCommentID,viewerActor:u,targetID:v,initialData:fa,ref:y,withoutSeparator:z,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:w,onTypingStateChange:ea,showSendOnEnterTip:x,allowPhotoAttachments:ba,allowStickerAttachments:ca,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:aa,isQAndA:da,isSnowlift:this._contextArgs.issnowlift,feedbackIsRanked:this._contextArgs.feedbackisranked,useAddCommentFacepile:this._contextArgs.useaddcommentfacepile}));},renderEditComment:function(u,v,w,x,y,z,aa,ba,ca){var da=o.getComment(w),ea;if(da.attachment)ea=da.attachment.type=='sticker'?da.attachment:null;var fa=i.generateDataFromTextWithEntities(da.body);return (l.createElement(k,{viewerActor:u,targetID:v,initialData:fa,onCommentSubmit:y,onCancel:z,mentionsDataSource:x,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:w,attachedPhoto:da.photo_comment,attachedSticker:ea,allowPhotoAttachments:aa,allowStickerAttachments:ba,isQAndA:ca}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(u){if(u.cancomment&&u.actorforpost)m.get(u.actorforpost,function(v){var w=this.renderAddComment(v,u.ownerid,u.mentionsdatasource,u.showsendonentertip,null,null,u.subtitle,u.allowphotoattachments,u.allowstickerattachments,u.isqanda);this._addComment=l.render(w,this.root);}.bind(this));}.bind(this));}});e.exports=t;},null);
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:"UFIAddCommentLink",propTypes:{'data-ft':g.PropTypes.string,isFirstCommentComponent:g.PropTypes.bool,isFirstComponent:g.PropTypes.bool,isLastCommentComponent:g.PropTypes.bool,isLastComponent:g.PropTypes.bool,isQAndA:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){var m=k(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),n;if(this.props.isQAndA){n="Ask a question...";}else n="Write a comment...";return (g.createElement("li",{className:m,"data-ft":this.props['data-ft']},g.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},n)));}});e.exports=l;},null);
__d("UFICommentLikeCount.react",["NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=function(o,p){var q=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:o.fbid,comment_from:o.author,comment_likecount:o.likecount||0,comment_id:o.id,cache_buster:o.likeconfirmhash||0});if(p)q.addQueryData({viewas:p});return q;},n=j.createClass({displayName:"UFICommentLikeCount",propTypes:{comment:j.PropTypes.object.isRequired,contextArgs:j.PropTypes.object.isRequired},render:function(){var o=this.props.comment,p=g.formatIntegerWithDelimiter(o.likecount||0,this.props.contextArgs.numberdelimiter),q=i.LIKES,r={id:o.fbid},s=m(this.props.comment,this.props.contextArgs.viewas),t=j.createElement("i",{className:"UFICommentLikeIcon"}),u=j.createElement("span",null,p),v=(("UFICommentLikeButton")+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''));return (j.createElement("a",{ajaxify:h.constructDialogURI(q,r).toString(),className:v,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":s.toString(),href:h.constructPageURI(q,r).toString(),rel:"dialog",role:"button"},t,u));}});e.exports=n;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"HelpLink",render:function(){return (g.createElement(i,g.__spread({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),(void 0)));}});e.exports=j;},null);
__d("UFICreatorInfo.react",["HelpLink.react","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=h.createClass({displayName:"UFICreatorInfo",propTypes:{creatorID:h.PropTypes.string.isRequired,creatorType:h.PropTypes.string.isRequired,creatorName:h.PropTypes.string.isRequired,labelType:h.PropTypes.string.isRequired,pageID:h.PropTypes.string.isRequired,profileURI:h.PropTypes.string},render:function(){var m,n=this.getCreatorLink();switch(this.props.labelType){case 'commented':m=k._("Commented on by {creator}",[k.param("creator",n)]);break;case 'edited_comment':m=k._("Edited by {creator}",[k.param("creator",n)]);break;case 'sent_message':m=k._("Sent by {creator}",[k.param("creator",n)]);break;default:return;}return (h.createElement("span",null,m,h.createElement(g,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (h.createElement("a",{className:"uiLinkSubtle","aria-label":this.getTooltipText(),"data-hover":"tooltip"},this.props.creatorName));case 'business_admin':return (h.createElement("a",{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (h.createElement("span",{className:"uiLinkSubtle"},h.createElement("img",{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (h.createElement("span",{className:"uiLinkSubtle"},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return h.createElement("span",null,this.props.creatorName);var m=new i('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (h.createElement("a",{className:"uiLinkSubtle","data-hovercard":m,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return (k._("This was commented on by someone using {application}.",[k.param("application",this.props.creatorName)]));case 'edited_comment':return (k._("This was edited by someone using {application}.",[k.param("application",this.props.creatorName)]));case 'sent_message':return (k._("This was sent by someone using {application}.",[k.param("application",this.props.creatorName)]));}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return (k._("This was commented on by someone from {page}.",[k.param("page",this.props.creatorName)]));case 'edited_comment':return (k._("This was edited by someone from {page}.",[k.param("page",this.props.creatorName)]));case 'sent_message':return (k._("This was sent by someone from {page}.",[k.param("page",this.props.creatorName)]));}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return ("This was commented on by someone who doesn't have a personal Facebook account.");case 'edited_comment':return ("This was edited by someone who doesn't have a personal Facebook account.");case 'sent_message':return ("This was sent by someone who doesn't have a personal Facebook account.");}},getHelpText:function(){switch(this.props.labelType){case 'commented':return ("Only people who manage this Page can see who posted a comment");case 'edited_comment':return ("Only people who manage this Page can see who edited a comment");case 'sent_message':return ("Only people who manage this Page can see who sent a message");}}});e.exports=l;},null);
__d("UFICommentMetadata.react",["Bootloader","React","Timestamp.react","TrackingNodes","UFIConstants","URI","UFICreatorInfo.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p=k.UFIStatus,q=' \u00b7 ',r="UFIFailureMessageIcon",s="UFIFailureMessage",t="uiLinkSubtle",u=function(w){var x=w.status;return x===p.FAILED_ADD||x===p.FAILED_EDIT;},v=h.createClass({displayName:"UFICommentMetadata",propTypes:{comment:h.PropTypes.object.isRequired,onRetrySubmit:h.PropTypes.func,permalink:h.PropTypes.string,shortenTimestamp:h.PropTypes.bool,showPermalink:h.PropTypes.bool},render:function(){var w=this.props.comment,x=this.props.permalink,y=this.props.onRetrySubmit,z,aa;if(u(w)){z=[h.createElement("span",{key:"failure",className:s},h.createElement("i",{className:r}),"Unable to post comment."),w.allowRetry&&y?[' ',h.createElement("a",{key:"rety-submit",onClick:y,href:"#",role:"button"},"Try Again")]:null];}else{var ba=this.props.showPermalink?x:null,ca=j.getTrackingInfo(j.types.SOURCE);aa=h.createElement("a",{key:"timestamp-message",className:t,href:ba,"data-ft":ca},h.createElement(i,{shorten:this.props.shortenTimestamp,time:w.timestamp.time,text:w.timestamp.text,verbose:w.timestamp.verbose}));}var da=null;if(w.originalTimestamp){var ea=new l('/ajax/edits/browser/comment').addQueryData({comment_token:w.id}).toString();da=[q,h.createElement("a",{ajaxify:ea,"aria-label":"Show edit history",className:"uiLinkSubtle","data-hover":"tooltip",href:"#",key:"edit-link",ref:"EditLink",rel:"dialog",role:"button",title:"Show edit history"},"Edited")];}var fa=null;if(w.creator_data)fa=[h.createElement(m,{creatorID:w.creator_data.creatorID,creatorType:w.creator_data.creatorType,creatorName:w.creator_data.creatorName,labelType:w.creator_data.labelType,pageID:w.creator_data.pageID,profileURI:w.creator_data.profileURI}),q];return (h.createElement("span",null,fa,aa,z,da));},componentWillUpdate:function(w){var x=this.props.comment,y=w.comment;if(!x.editnux&&!!y.editnux)g.loadModules(["LegacyContextualDialog"],function(z){var aa=new z();aa.init(y.editnux).setContext(this.refs.EditLink.getDOMNode()).setWidth(300).setPosition('below').show();}.bind(this));}});e.exports=v;},null);
__d("UFIReplyLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"UFIReplyLink",propTypes:{onClick:g.PropTypes.func},render:function(){return (g.createElement("a",{className:"UFIReplyLink",href:"#",onClick:this.props.onClick},"Reply"));}});e.exports=i;},null);
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){e.exports=b('UFISpamCountImpl').module||{enabled:false};},null);
__d("UFICommentActions.react",["PagesPrivateReplyStatus","React","ReactFragment","TrackingNodes","UFICommentLikeCount.react","UFICommentMetadata.react","UFIConstants","UFIPrivateReplyLink.react","UFIReplyLink.react","UFISpamCount","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s=m.UFIStatus,t=' \u00b7 ',u="fsm fwn fcg UFICommentActions",v="UFIDeletedMessageIcon",w="UFIDeletedMessage",x=h.createClass({displayName:"UFICommentActions",propTypes:{comment:h.PropTypes.object.isRequired,contextArgs:h.PropTypes.object.isRequired,feedback:h.PropTypes.object.isRequired,hideAsSpamForPageAdmin:h.PropTypes.bool,markedAsSpamHere:h.PropTypes.bool,onCommentLikeToggle:h.PropTypes.func,onCommentReply:h.PropTypes.func,onMarkAsNotSpam:h.PropTypes.func,onPreviewRemove:h.PropTypes.func,onRetrySubmit:h.PropTypes.func,permalink:h.PropTypes.string,shortenTimestamp:h.PropTypes.bool,showPermalink:h.PropTypes.bool,showReplyLink:h.PropTypes.bool,viewerCanMarkNotSpam:h.PropTypes.bool},render:function(){var y=this.props,z=y.comment,aa=y.permalink,ba=y.feedback,ca=y.markedAsSpamHere,da=z.status===s.SPAM_DISPLAY,ea=y.showReplyLink,fa=y.hideAsSpamForPageAdmin,ga,ha,ia,ja,ka,la,ma,na=!z.islocal&&z.status!==s.LIVE_DELETED;if(na){if(da&&!ca){if(y.viewerCanMarkNotSpam)ga=h.createElement("a",{onClick:y.onMarkAsNotSpam,className:"UFICommentNotSpamLink",href:"#",role:"button"},"Unhide");if(fa&&ba.isthreaded&&z.cancomment&&ea)ka=h.createElement(o,{comment:z,onClick:y.onCommentReply,contextArgs:y.contextArgs});}else{if(z.viewercanlike){var oa=j.getTrackingInfo(z.hasviewerliked?j.types.UNLIKE_LINK:j.types.LIKE_LINK),pa=z.hasviewerliked?"Unlike this comment":"Like this comment";ha=h.createElement("a",{className:"UFILikeLink","data-ft":oa,href:"#",onClick:y.onCommentLikeToggle,role:"button",title:pa},z.hasviewerliked?"Unlike":"Like");}if((this.props.contextArgs.simplereply&&this.props.feedback.cancomment)||(ba.isthreaded&&z.cancomment&&ea))ka=h.createElement(o,{comment:z,contextArgs:y.contextArgs,onClick:y.onCommentReply});if(z.likecount>0)ia=h.createElement(k,{comment:z,contextArgs:y.contextArgs});if(z.spamcount&&p.enabled)ja=h.createElement(p,{count:z.spamcount});if(z.messagereply&&(z.messagereply.hasReplyPermission||(z.messagereply.status===g.ALREADY_REPLIED)))la=h.createElement(n,{activityID:z.id,context:z.messagereply});}if(z.attachment&&z.attachment.type=="share"&&z.canremove)ma=h.createElement("a",{href:"#",onClick:y.onPreviewRemove,role:"button"},"Remove Preview");}var qa=h.createElement(l,{comment:z,onRetrySubmit:y.onRetrySubmit,permalink:aa,shortenTimestamp:y.shortenTimestamp,showPermalink:y.showPermalink}),ra;if(ba.isqanda){ra={likeCount:ia,spamCount:ja,likeToggle:ha,commentReply:ka,messageReply:la,spamToggle:ga,metadata:qa,removePreview:ma};}else if(y.contextArgs.entstream){ra={metadata:qa,likeToggle:ha,likeCount:ia,commentReply:ka,messageReply:la,spamCount:ja,spamToggle:ga,removePreview:ma};}else if(ba.isthreaded){ra={likeToggle:ha,commentReply:ka,messageReply:la,spamToggle:ga,removePreview:ma,likeCount:ia,spamCount:ja,metadata:qa};}else ra={metadata:qa,likeToggle:ha,likeCount:ia,spamCount:ja,commentReply:ka,messageReply:la,spamToggle:ga,removePreview:ma};if(z.status===s.LIVE_DELETED){var sa=h.createElement("span",{className:w},h.createElement("i",{className:v,"data-hover":"tooltip","aria-label":"Comment deleted"}));ra.deletionWarning=sa;}var ta=true,ua={};for(var va in ra){var wa=ra[va];if(wa){ua[va]=ta?wa:i.create({MIDDOT:t,action:wa});ta=false;}}return (h.createElement("div",{className:u},i.create(ua)));}});e.exports=x;},null);
__d("LitestandEllipsis",["DOM","DOMDimensions","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k){var l,m={add:function(p,q,r){r=r||p;g.scry(p,'br').forEach(g.remove);var s=h.getElementDimensions(r).height;if(s<=q)return p;var t,u='...',v=o(p),w=v.length-1,x=k(v[w]);while(w>=0&&s>q){t=Math.max(x.lastIndexOf(' '),x.lastIndexOf('\n'));if(t===-1)t=x.length-u.length-1;if(t<=0){n(v[w],'');w--;x=k(v[w]);}else{x=x.substr(0,t).trim()+u;n(v[w],x);}s=h.getElementDimensions(r).height-1;}}};function n(p,q){l=l||(p.textContent!=null?'textContent':'innerText');p[l]=q;}function o(p){if(g.isTextNode(p))return [p];return i(o,j(p.childNodes));}e.exports=m;},null);
__d("LitestandShareAttachment",["CSS","DOM","LitestandEllipsis","csx","cx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=16,n=22,o=20,p=5,q=3,r=2,s=2,t=5,u=5,v={init:function(z){var aa,ba,ca,da=w(z);l(function(){aa=h.scry(z,"._6m6")[0];ba=h.scry(z,"._6m7")[0];ca=x(z,aa,da);},function(){if(!ca){ba&&g.hide(ba);aa&&i.add(aa,da*y(z));}else if(ba&&ca){g.show(ba);i.add(ba,ca*m);}});},getNumDescriptionLines:function(z){return x(z,h.scry(z,"._6m6")[0],w(z));},getDescriptionLineHeight:function(){return m;}};function w(z){var aa=g.hasClass(z,"_59ap"),ba=g.hasClass(z,"_pb2"),ca=h.scry(z,"^div._4rtc").length>0,da;if(ba){da=s;}else if(ca){da=r;}else if(aa){da=q;}else da=p;return da;}function x(z,aa,ba){var ca=h.scry(z,"._6m3")[0];if(!aa||!ca)return 0;var da=h.scry(z,"._59tj")[0],ea=g.hasClass(z,"_59ap"),fa=g.hasClass(z,"_pb2"),ga=Math.round(aa.scrollHeight/y(z));if(ga>ba&&!fa)return 0;var ha=ca.offsetHeight-t-aa.offsetHeight-(da?da.offsetHeight:0)-(ea?0:u)+1;return Math.floor(Math.max(ha,0)/m);}function y(z){return g.hasClass(z,"_pb2")?o:n;}e.exports=v;},null);
__d("UFICommentAttachment.react",["DOM","HTML","LitestandShareAttachment","React","Sticker.react"],function(a,b,c,d,e,f,g,h,i,j,k){var l=80,m=j.createClass({displayName:"UFICommentAttachment",propTypes:{comment:j.PropTypes.object.isRequired},_attachmentFromCommentData:function(n){return n.photo_comment||n.attachment;},_getScaledDimensions:function(n,o){var p,q,r;if(o>n){r=l/o;p=n*r;q=o*r;}else{r=l/n;p=n*r;q=o*r;}return {height:Math.round(p),width:Math.round(q)};},componentDidMount:function(){var n=this._attachmentFromCommentData(this.props.comment);if(n)this.renderAttachment(n);},shouldComponentUpdate:function(n,o){var p=this._attachmentFromCommentData(this.props.comment),q=this._attachmentFromCommentData(n.comment);if(!p&&!q)return false;if(!p||!q||p.markup!=q.markup){return true;}else return false;},componentDidUpdate:function(n){var o=this._attachmentFromCommentData(this.props.comment);if(o.type!=='sticker')this.renderAttachment(o);},renderAttachment:function(n){if(n&&this.refs&&this.refs.contents&&n.markup){var o=n.markup;if(h.isHTML(o.markup))o=h.replaceJSONWrapper(o.markup).getRootNode();var p=o.parentNode,q=this.refs.contents.getDOMNode();if(p&&p!==q)o=o.cloneNode(true);g.setContent(q,o);if(n.type=="share")i.init(q);}},renderSticker:function(n){var o=this._getScaledDimensions(n.metadata.height,n.metadata.width),p=null,q=null;if(window.devicePixelRatio&&window.devicePixelRatio>1&&n.metadata.source_uri_2x){p=n.metadata.sprite_uri_2x;q=n.metadata.source_uri_2x;}else{p=n.metadata.sprite_uri;q=n.metadata.source_uri;}return (j.createElement(k,{animationTrigger:"load_and_hover",frameCount:n.metadata.frameCount,frameRate:n.metadata.frameRate,framesPerCol:n.metadata.framesPerCol,framesPerRow:n.metadata.framesPerRow,spriteURI:p,sourceHeight:o.height,sourceURI:q,sourceWidth:o.width}));},render:function(){var n=this._attachmentFromCommentData(this.props.comment);if(n)if(n&&n.type==='sticker'){return this.renderSticker(n);}else return j.createElement("div",{ref:"contents"});return j.createElement("span",null);}});e.exports=m;},null);
__d("UFIActor.react",["Badge.react","Focus","HovercardLink","Locale","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=" \u00b7 ",n=k.createClass({displayName:"UFIActor",propTypes:{author:k.PropTypes.object.isRequired,'data-ft':k.PropTypes.string,focusOnMount:k.PropTypes.bool,showHovercard:k.PropTypes.bool,isAuthorWeakReference:k.PropTypes.bool,groupOrEventID:k.PropTypes.number},componentDidMount:function(){if(this.props.focusOnMount)h.setWithoutOutline(this.refs.authorName.getDOMNode());},render:function(){var o=this.props.author,p=j.isRTL()?'rtl':'ltr',q=((this.props.isAuthorWeakReference?"weakReference":'')+(' '+"UFICommentActorName")),r=[];if(this.props.isAuthorWeakReference)r.push(k.createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));r.push(o.name);var s=o.uri?k.createElement("a",{className:q,"data-hovercard":this.props.showHovercard?i.constructEndpointWithGroupAndLocation(o,this.props.groupOrEventID,'ufi',this.props.isAuthorWeakReference).toString():null,"data-ft":this.props['data-ft'],dir:p,href:o.uri,ref:"authorName"},r):k.createElement("span",{className:q,dir:p,ref:"authorName"},r);return (k.createElement("span",null,s,k.Children.map(this.props.children,function(t){return t?[t.type==g?"":m,t]:null;})));}});e.exports=n;},null);
__d("UFISocialContext.react",["HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=27,n=j.createClass({displayName:"UFISocialContext",propTypes:{commentAuthor:j.PropTypes.object.isRequired,otherMutualCount:j.PropTypes.number.isRequired,topMutualFriend:j.PropTypes.object.isRequired},render:function(){var o=this.props.topMutualFriend,p=this.props.otherMutualCount,q=this.props.commentAuthor,r=g.constructEndpoint(o).toString(),s=j.createElement("a",{href:o.uri,"data-hovercard":r,key:"top"},o.name),t=q.name.length+o.name.length,u;if(p===0){u=l._("Friends with {name}",[l.param("name",s)]);}else if(t<m){var v;if(p==1){v="1 other";}else v=l._("{count} others",[l.param("count",p)]);u=l._("Friends with {name} and {others}",[l.param("name",s),l.param("others",this.getOthersLink(v,q,o))]);}else{var w=l._("{count} mutual friends",[l.param("count",p+1)]);u=this.getOthersLink(w,q);}return (j.createElement("span",{className:"UFICommentSocialContext"},u));},getOthersLink:function(o,p,q){var r=i.MUTUAL_FRIENDS,s={uid:p.id},t=new k('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:p.id});if(q)t.addQueryData({exclude_id:q.id});var u=h.constructDialogURI(r,s).toString();return (j.createElement("a",{ajaxify:u,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":t.toString(),href:h.constructPageURI(r,s).toString(),key:"others",rel:"dialog"},o));}});e.exports=n;},null);
__d("UFICommentAuthorName.react",["Badge.react","React","TrackingNodes","UFIActor.react","UFISocialContext.react"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=h.createClass({displayName:"UFICommentAuthorName",propTypes:{author:h.PropTypes.object.isRequired,authorProfiles:h.PropTypes.object.isRequired,showHovercard:h.PropTypes.bool,isAuthorWeakReference:h.PropTypes.bool,focusOnMount:h.PropTypes.bool,groupOrEventID:h.PropTypes.number,isFeatured:h.PropTypes.bool,socialContext:h.PropTypes.object},render:function(){var m=this.props,n=m.author,o=i.getTrackingInfo(i.types.USER_NAME);return (h.createElement(j,{author:n,showHovercard:m.showHovercard,key:"author",focusOnMount:m.focusOnMount,"data-ft":o,isAuthorWeakReference:m.isAuthorWeakReference,groupOrEventID:m.groupOrEventID},m.isFeatured?h.createElement(g,{key:"badge",size:"xsmall",type:"verified"}):null,m.socialContext?h.createElement(k,{topMutualFriend:m.authorProfiles[m.socialContext.topmutualid],otherMutualCount:m.socialContext.othermutualcount,commentAuthor:n}):null));}});e.exports=l;},null);
__d("SeeMore.react",["React","cx","fbt"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"SeeMore",getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var k=this.state.isCollapsed,l=k?g.createElement("span",{className:"_5uzb"},"..."):null,m=this.props.children[0],n=k?null:g.createElement("span",null,this.props.children[1]),o=!k?null:g.createElement("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},"See More");return (g.createElement("span",{className:this.props.className},m,l,o,n));}});e.exports=j;},null);
__d("findSplitPointForText",[],function(a,b,c,d,e,f){function g(h,i,j){var k=null,l=h.split('\n');if(i&&h.length>i)k=i;if(j&&l.length>j){var m=l.slice(0,j).join('\n').length;if(k!==null){k=Math.min(m,k);}else k=m;}return k;}e.exports=g;},null);
__d("partitionTextAndRanges",[],function(a,b,c,d,e,f){function g(j,k){var l=j.offset+j.length;return k>j.offset&&k<l;}function h(j,k){for(var l=0;l<j.length;l++){var m=j[l];if(g(m,k))return m.offset;}return k;}var i=function(j,k,l){var m=[],n=[],o=h(k,l);for(var p=0;p<k.length;p++){var q=k[p];if(q.offset<o){m.push(q);}else n.push({offset:q.offset-o,length:q.length,entity:q.entity});}return {before:{ranges:m,text:j.substr(0,o)},after:{ranges:n,text:j.substr(o)}};};e.exports=i;},null);
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react","findSplitPointForText","partitionTextAndRanges"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:"TruncatedTextWithEntities",render:function(){var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p);}var r=j(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=k(m,n,r);return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(i,{className:this.props.className},g.createElement(h,{interpolator:this.props.interpolator,ranges:s.before.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.before.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),g.createElement(h,{interpolator:this.props.interpolator,ranges:s.after.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.after.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(h,{className:this.props.className,interpolator:this.props.interpolator,ranges:n,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=l;},null);
__d("HovercardLinkInterpolator",["HovercardLink","Link.react","React","URI","WWWBase","cx","fbt","isRTL"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(p,q,r,s,t){var u=q.entity,v=r||(u.external?'_blank':null),w,x=((!u.external?"profileLink":'')+(u.weakreference?' '+"weakReference":'')),y,z=u.hashtag?p.substring(1):p;y=n(z)?'rtl':'ltr';if(u.hashtag){var aa=new j(u.url).setDomain(new j(k.uri).getDomain());w=i.createElement("a",{className:"_58cn",dir:y,href:aa.toString()},i.createElement("span",{"aria-label":"hashtag",className:"_58cl"},p.substring(0,1)),i.createElement("span",{className:"_58cm"},p.substring(1)));}else if(u.weakreference){w=i.createElement(h,{className:x,dir:y,href:u,target:v},i.createElement("i",{className:"UFIWeakReferenceIcon"}),p);}else w=i.createElement(h,{className:x,dir:y,href:u,target:v},p);if(!u.external&&!u.hashtag&&!u.photo)w.props['data-hovercard']=g.constructEndpointWithGroupAndLocation(u,s,t).toString();return w;}e.exports=o;},null);
__d("URITruncator",["URI","fbt"],function(a,b,c,d,e,f,g,h){var i=3;function j(k,l){var m="...",n=m.length;if(!k||l===(void 0)||k.length<=l||l<=n||k.toString().length<=n)return k;if(!g.isValidURI(k))return k.substring(0,l-n)+m;var o=new g(k),p=o.getOrigin();if(p.length>l-n)return p.substring(0,l-n)+m;var q=false;if(!!o.getFragment()){q=true;o.setFragment('');if(o.toString().length<=l-n)return o.toString()+m;}var r=o.getQueryData();if(r){var s=Object.keys(r);if(s.length>0){q=true;for(var t=s.length-1;t>=0;t--){o.removeQueryData(s[t]);if(o.toString().length<=l-n)return o.toString()+m;}}}var u=o.getPath()+(q?m:''),v=u.split('/'),w=(p.length+u.length)-l,x=0;while(w>0&&v.length>x+1){var y=x+1,z=v[y];if(w+n+i<=z.length){var aa=z.length-1,ba=z.length-w-n,ca=/[a-zA-Z0-9]/;w+=n;while(w>0){while(aa>0&&ca.test(z[aa])){aa--;w--;}while(aa>0&&!ca.test(z[aa])){aa--;w--;}}if(aa===0)aa=ba-1;v[y]=z.substring(0,aa+1)+m;}else{x++;w-=z.length;if(x===1){w+=n;}else w--;}}if(x>0){if(v[v.length-1].length===0&&v.length===x+2)x++;v.splice(1,x,m);}var da=p+v.join('/');if(da.length>l)da=da.substring(0,l-n)+m;return da;}e.exports=j;},null);
__d("transformTextRanges",["UnicodeUtils"],function(a,b,c,d,e,f,g){var h=function(i,j,k){if(!i||!j||!k)return i;j.sort(function(r,s){return r.offset-s.offset;});var l=0;for(var m=0;m<j.length;m++){j[m].offset+=l;var n=g.substr(i,j[m].offset,j[m].length),o=g.strlen(n),p=k(n,j[m]),q=g.strlen(p);if(n!==p){i=g.substr(i,0,j[m].offset)+p+g.substr(i,j[m].offset+j[m].length);j[m].length=q;l+=q-o;}}return i;};e.exports=h;},null);
__d("UFICommentUtils.react",["HovercardLinkInterpolator","UFIConstants","URITruncator","copyProperties","transformTextRanges"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l={getCommentTextWithTruncatedURIs:function(m,n){if(h.commentURLTruncationLength)if(m&&m.length>0)n=k(n,m,function(o,p){return p.entity.external?i(o,h.commentURLTruncationLength):o;});return n;},getCommentBodyInterpolator:function(m){return function(n,o){return g(n,o,'_blank',m,'ufi');};},shallowCopyRanges:function(m){if(!m)return m;var n=[];m.forEach(function(o){n.push(j({},o));});return n;}};e.exports=l;},null);
__d("UFICommentBody.react",["Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UnicodeBidi","UFICommentUtils.react","UFIConfig","UFIConstants","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p=h.createClass({displayName:"UFICommentBody",propTypes:{commentText:h.PropTypes.string.isRequired,commentRanges:h.PropTypes.array,groupOrEventID:h.PropTypes.number,useWhitespacesRender:h.PropTypes.bool,maxLength:h.PropTypes.number,maxLines:h.PropTypes.number,socialContext:h.PropTypes.object},render:function(){var q=this.props,r=q.commentText,s=i.getTrackingInfo(i.types.USER_MESSAGE),t=k.isDirectionLTR(r),u=!t,v=t&&g.isRTL()?'ltr':u&&!g.isRTL()?'rtl':null,w=l.getCommentBodyInterpolator(q.groupOrEventID),x=h.createElement(j,{key:"comment-body",className:(("UFICommentBody")+(this.props.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:w,ranges:q.commentRanges,text:r,truncationPercent:n.commentTruncationPercent,maxLength:q.maxLength,maxLines:q.maxLines,renderEmoticons:m.renderEmoticons,renderEmoji:m.renderEmoji,"data-ft":s,dir:v});if(q.socialContext){x=h.createElement("div",{key:"body"},x);}else{var y=((t&&g.isRTL()?"_5wjy":'')+(t&&g.isRTL()?' '+"_5wjz":'')+(u&&!g.isRTL()?' '+"_5wj-":'')+(u&&!g.isRTL()?' '+"_5wj_":''));x=y?h.createElement("div",{key:"body",className:y},x):[' ',x];}return h.createElement("span",null,x);}});e.exports=p;},null);
__d("XUIEditButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:"XUIEditButton",render:function(){var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m="Edit";n=m;}return (h.createElement(g,h.__spread({},this.props,{label:m,title:n,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,"_5upq _5upr")})));}});e.exports=l;},null);
__d("UFICommentMenu.react",["Bootloader","React","XUICloseButton.react","XUIEditButton.react","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n,o,p=k({EDIT:true,CLOSE:true}),q=h.createClass({displayName:"UFICommentMenu",propTypes:{menuData:h.PropTypes.array,menuType:h.PropTypes.oneOf(Object.keys(p)).isRequired,onAction:h.PropTypes.func,onClick:h.PropTypes.func},getInitialState:function(){return {bootloading:false,bootloaded:false,needsExpand:false};},onClickGuard:function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});g.loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(r,s,t){l=r,m=s;n=t;o=n.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this));}else if(this.props.onClick)this.props.onClick(event);},shouldComponentUpdate:function(r,s,t){if(this.state.needsExpand&&!s.needsExpand)return false;return true;},render:function(){var r=null;if(this.props.menuType===p.EDIT){r=j;}else r=i;if(this.props.menuData&&this.state.bootloaded){var s=this.props.menuData.map(function(u){return (h.createElement(o,{value:u.value},u.label));}),t=h.createElement(n,{onItemClick:this.props.onAction},s);return (h.createElement(m,h.__spread({},this.props,{alignh:"right",layerBehaviors:[l],menu:t,ref:"menu"}),h.createElement(r,{href:"#",onClick:this.onClickGuard})));}return h.createElement(r,h.__spread({},this.props,{href:"#",onClick:this.onClickGuard}));},componentDidUpdate:function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}}});q.MenuType=p;e.exports=q;},null);
__d("UFIComment.react",["Bootloader","HovercardLink","React","TrackingNodes","TextWithEntities.react","UFIClassNames","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentMenu.react","UFICommentUtils.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFITranslationConstants","URI","XUICloseButton.react","cx","joinClasses","keyMirror","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){"use strict";var ca=t.UFIStatus,da=aa({edit:true,hide:true,remove:true}),ea="UFITranslateLink",fa="UFITranslatedText",ga="UFITranslationErrorText",ha="UFITranslateAttribution",ia="fcg",ja=null,ka=function(na){var oa=na.status;return oa===ca.FAILED_ADD||oa===ca.FAILED_EDIT;};function la(na){return na.commenterIsFOF!==(void 0)&&na.userIsMinor!==(void 0)&&na.reportLink!==(void 0);}var ma=i.createClass({displayName:"UFIComment",propTypes:{authorProfiles:i.PropTypes.object.isRequired,comment:i.PropTypes.object.isRequired,contextArgs:i.PropTypes.object.isRequired,feedback:i.PropTypes.object.isRequired,'data-ft':i.PropTypes.string,focusOnMount:i.PropTypes.bool,hasPartialBorder:i.PropTypes.bool,hideAsSpamForPageAdmin:i.PropTypes.bool,isFeatured:i.PropTypes.bool,isFirst:i.PropTypes.bool,isFirstCommentComponent:i.PropTypes.bool,isFirstComponent:i.PropTypes.bool,isLast:i.PropTypes.bool,isLastCommentComponent:i.PropTypes.bool,isLastComponent:i.PropTypes.bool,isLocallyComposed:i.PropTypes.bool,isReply:i.PropTypes.bool,onBlingBoxClick:i.PropTypes.func,onCommentLikeToggle:i.PropTypes.func,onCommentReply:i.PropTypes.func,onCommentTranslate:i.PropTypes.func,onEdit:i.PropTypes.func,onHideAsSpam:i.PropTypes.func,onInlineBan:i.PropTypes.func,onMarkAsNotSpam:i.PropTypes.func,onPreviewRemove:i.PropTypes.func,onRemove:i.PropTypes.func,onRetrySubmit:i.PropTypes.func,onUndoInlineBan:i.PropTypes.func,permalink:i.PropTypes.string,shortenTimestamp:i.PropTypes.bool,showPermalink:i.PropTypes.bool,showRemoveReportMenu:i.PropTypes.bool,showReplyLink:i.PropTypes.bool,viewerIsAuthor:i.PropTypes.bool},getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onRemove(event,this);},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onAction:function(event,na){var oa=na.item,pa=oa.getValue();setTimeout(function(){if(pa===da.remove){this.props.onRemove(event);}else if(pa===da.edit){this.props.onEdit(event);}else if(pa===da.hide)this._onHideAsSpam(event);}.bind(this),0);},_createRemoveReportMenuData:function(){return [{value:da.remove,label:"Delete Comment..."},{value:da.hide,label:"Hide Comment"}];},_createEditDeleteMenuData:function(){return [{value:da.edit,label:"Edit..."},{value:da.remove,label:"Delete..."}];},_renderCloseButton:function(){var na=this.props.comment,oa=this.props.feedback,pa=null,qa=null,ra=null,sa=false;if(na.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(na.canedit){ra="Edit or Delete";qa=this._createEditDeleteMenuData();sa=true;}else{ra="Remove";pa=this.props.onRemove;}}else if(oa.canremoveall)if(this.props.showRemoveReportMenu){ra="Remove or Report";qa=this._createRemoveReportMenuData();}else{ra="Remove";pa=this.props.onRemove;}}else if(na.canreport){ra="Hide";pa=this._onHideAsSpam;}var ta=(("UFICommentCloseButton")+(pa===null&&qa===null?' '+"hdn":'')),ua=null,va=null;if(this.props.contextArgs.viewas){ua="/ajax/profile/link_disabled_in_viewas.php";va="dialog";pa=null;}var wa=sa?q.MenuType.EDIT:q.MenuType.CLOSE;return (i.createElement(q,{ajaxify:ua,className:ta,onClick:pa,rel:va,tooltip:ra,menuData:qa,menuType:wa,onAction:this._onAction}));},_renderFakeCloseButton:function(){return (i.createElement(x,{className:"UFICommentCloseButtonFake",tabIndex:"-1"}));},componentDidMount:function(){if(this.state.isHighlighting){var na=this.getDOMNode();g.loadModules(["UFIScrollHighlight"],function(oa){setTimeout(oa.actOn.bind(null,na),0);});this.setState({isHighlighting:false});}},shouldComponentUpdate:function(na,oa){var pa=this.props,qa=this.state;return (na.comment!==pa.comment||na.showReplyLink!==pa.showReplyLink||na.isFirst!==pa.isFirst||na.isLast!==pa.isLast||na.isFirstCommentComponent!==pa.isFirstCommentComponent||na.isLastCommentComponent!==pa.isLastCommentComponent||na.isFirstComponent!==pa.isFirstComponent||na.isLastComponent!==pa.isLastComponent||na.isFeatured!==pa.isFeatured||na.hasPartialBorder!==pa.hasPartialBorder||oa.wasHighlighted!==qa.wasHighlighted||oa.isHighlighting!==qa.isHighlighting||oa.markedAsSpamHere!==qa.markedAsSpamHere||oa.isInlinePageDeleted!==qa.isInlinePageDeleted||oa.isInlineBanned!==qa.isInlineBanned);},render:function(){var na=this.props.comment,oa=this.props.feedback,pa=na.status===ca.DELETED,qa=na.status===ca.LIVE_DELETED,ra=na.status===ca.SPAM_DISPLAY,sa=this.state.markedAsSpamHere,ta=this.state.isInlinePageDeleted,ua=this.props.hideAsSpamForPageAdmin,va=this.state.isInlineBanned,wa=la(na),xa=!na.status&&(na.isunseen||na.islocal);if(!na.status&&oa.lastseentime){var ya=na.originalTimestamp||na.timestamp.time;xa=xa||ya>oa.lastseentime;}var za=this.props.contextArgs.markedcomments;if(za&&za[na.legacyid])xa=true;var ab=((this.props.isFirst?"UFIFirstComment":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));if(wa)if(ja){var bb,cb=null,db=null,eb=null;if(ua){db=va?this._onUndoInlineBan:this._onInlineBan;if(ta){bb="You've deleted this comment so no one can see it.";}else if(sa){bb="Now this is only visible to the person who wrote it and their friends.";eb=this._onDeleteSpam;cb=this._onMarkAsNotSpam;}}else if(sa){bb="This comment has been hidden.";eb=this._onDeleteSpam;cb=this._onMarkAsNotSpam;}if(bb)return (i.createElement("li",{className:z(l.ROW,ab,"UFIHide")},i.createElement(ja,{notice:bb,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:cb,onBanAction:db,onDeleteAction:eb,isInlineBanned:va,isInlinePageDeleted:ta,hideAsSpamForPageAdmin:ua,pageID:this.props.feedback.ownerid})));}else g.loadModules(["UFICommentRemovalControls.react"],function(ib){ja=ib;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var fb=!pa,gb=z(l.ROW,ab,(("UFIComment")+(ka(na)?' '+"UFICommentFailed":'')+(pa||qa||ra?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(!fb?' '+"noDisplay":'')+(fb?' '+"display":'')+(' '+"UFIComponent")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":''))),hb=this.renderComment();if(xa)gb=z(gb,l.UNSEEN_ITEM);return (i.createElement("li",{className:gb,"data-ft":this.props['data-ft']},hb));},renderComment:function(){var na=this.props,oa=na.comment,pa=oa.body.text,qa=r.shallowCopyRanges(oa.body.ranges),ra=na.permalink,sa=na.feedback,ta=na.authorProfiles[oa.author],ua=oa.status===ca.SPAM_DISPLAY,va=oa.status===ca.LIVE_DELETED,wa=!(ua||va),xa=sa.canremoveall||oa.hiddenbyviewer;pa=r.getCommentTextWithTruncatedURIs(qa,pa);var ya=null,za=null;if(!na.isLocallyComposed&&!this.state.wasHighlighted){za=t.commentTruncationLength;ya=t.commentTruncationMaxLines;}var ab=j.getTrackingInfo(j.types.SMALL_ACTOR_PHOTO),bb=j.getTrackingInfo(j.types.USER_MESSAGE),cb=null,db=null,eb=null,fb=null;if(oa.istranslatable&&(oa.translatedbody===(void 0)))cb=i.createElement("a",{href:"#",role:"button",title:"Translate this comment",className:ea,onClick:na.onCommentTranslate},"See Translation");if(oa.translatedbody!==(void 0))if(oa.translatedbody!==null&&oa.translatedbody.text!==''){var gb=v.BING_PAGE_URL,hb=v.BING_TRANSLATOR_APP,ib=null;if(oa.translatorapp===hb){var jb=new w(gb).addQueryData({text:pa});ib=i.createElement("a",{href:jb.toString(),target:"_blank",className:ia},"Translated by Bing");}else ib="Automatically Translated";fb=i.createElement("span",{className:ha},ib);var kb=r.shallowCopyRanges(oa.translatedbody.ranges),lb=oa.translatedbody.text,mb=oa.translatedbody.dir,nb=i.createElement("span",{key:"comment-body","data-ft":bb,dir:mb},i.createElement(k,{className:(("UFICommentBody")+(this.props.contextArgs.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:r.getCommentBodyInterpolator(na.feedback.grouporeventid),ranges:kb,text:lb,renderEmoticons:s.renderEmoticons,renderEmoji:s.renderEmoji}));db=i.createElement("span",{className:fa},nb);}else eb=i.createElement("span",{className:ga},"No Translation Available");var ob=i.createElement(p,{socialContext:oa.socialcontext,commentText:pa,commentRanges:qa,groupOrEventID:sa.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:za,maxLines:ya}),pb=na.contextArgs.viewas?null:h.constructEndpointWithGroupAndLocation(ta,sa.grouporeventid,'ufi',oa.isauthorweakreference).toString(),qb=i.createElement(o,{author:ta,authorProfiles:na.authorProfiles,showHovercard:!!pb,isAuthorWeakReference:oa.isauthorweakreference,focusOnMount:na.focusOnMount,groupOrEventID:sa.grouporeventid,isFeatured:na.isFeatured,socialContext:oa.socialcontext}),rb=null;if(oa.photo_comment_status)rb=i.createElement("div",{className:"_50f8"},oa.photo_comment_status);var sb=null;if(oa.sticker_attachment_status)sb=i.createElement("div",{className:"_50f8"},oa.sticker_attachment_status);var tb=null;if(oa.status!==ca.DELETED)tb=i.createElement(n,{comment:na.comment});return (i.createElement(u,{spacing:"medium"},i.createElement("a",{href:ta.uri,"data-hovercard":pb,"data-ft":ab},i.createElement("img",{src:ta.thumbSrc,className:l.ACTOR_IMAGE,alt:""})),i.createElement("div",{className:"UFICommentContentBlock"},i.createElement("div",{className:"UFICommentContent"},qb,ob,cb,db,fb,eb,tb),rb,sb,i.createElement(m,{comment:oa,feedback:sa,onBlingBoxClick:na.onBlingBoxClick,onCommentLikeToggle:na.onCommentLikeToggle,onCommentReply:na.onCommentReply,onPreviewRemove:na.onPreviewRemove,onRetrySubmit:na.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,permalink:ra,viewerCanMarkNotSpam:xa,shortenTimestamp:na.shortenTimestamp,showPermalink:na.showPermalink,showReplyLink:na.showReplyLink,contextArgs:na.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:na.hideAsSpamForPageAdmin}),wa?this._renderCloseButton():null),wa?this._renderFakeCloseButton():null));}});e.exports=ma;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"UFIContainer",render:function(){var j=null;if(this.props.hasNub)j=g.createElement("li",{className:"UFIArrow"},g.createElement("i",null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement("ul",{className:k},j,this.props.children));}});e.exports=i;},null);
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=k.createClass({displayName:"UFILikeSentence",propTypes:{contextArgs:k.PropTypes.object.isRequired,feedback:k.PropTypes.object.isRequired,isFirstComponent:k.PropTypes.bool,isLastComponent:k.PropTypes.bool,onOrderingModeChange:k.PropTypes.func,onTargetLikeToggle:k.PropTypes.func,orderingMode:k.PropTypes.string,showOrderingModeSelector:k.PropTypes.bool},getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(t){this._bootloadSelectorModule(t);},_bootloadSelectorModule:function(t){if(t.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var u=function(v){this.setState({selectorModule:v});}.bind(this);if(t.contextArgs.entstream){g.loadModules(["UFIEntStreamOrderingModeSelector.react"],u);}else g.loadModules(["UFIOrderingModeSelector.react"],u);this.setState({bootloadedSelectorModule:true});}},render:function(){var t=this.props.feedback,u=t.likesentences.current,v=this.props.contextArgs.entstream,w=q(l.ROW,t.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x=null,y=null;if(u.text)y=k.createElement("div",{className:"UFILikeSentenceText"},k.createElement(n,{contextArgs:this.props.contextArgs,feedback:t,likeSentenceData:u}));var z=this.props.contextArgs.ufiexperiments||{};if(y&&!v&&!z.showIconsInActionLinks){x=k.createElement("i",{className:"UFILikeIcon"});if(t.viewercanlike&&!t.hasviewerliked)x=k.createElement("a",{className:"UFILikeThumb",href:"#",tabIndex:"-1",title:"Like this",onClick:this.props.onTargetLikeToggle,role:"button","aria-label":"Like this"},x);}var aa=y,ba=null;if(t.seencount>0&&!v){var ca=j.GROUP_MESSAGE_VIEWERS,da={id:t.targetfbid},ea=i.constructDialogURI(ca,da),fa=i.constructPageURI(ca,da),ga=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:t.entidentifier,displayed_count:t.seencount}),ha;if(t.seenbyall){ha="Seen by everyone";}else ha=t.seencount==1?"Seen by 1":r._("Seen by {count}",[r.param("count",t.seencount)]);ba=k.createElement("a",{rel:"dialog",ajaxify:ea.toString(),href:fa.toString(),"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-uri":ga.toString(),className:(("UFISeenCount")+(!!u.text?' '+"UFISeenCountRight":''))},k.createElement("span",{className:"UFISeenCountIcon"}),ha);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ia=this.state.selectorModule;ba=k.createElement(ia,{currentOrderingMode:this.props.orderingMode,entstream:v,orderingmodes:t.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!aa)aa=k.createElement("div",null);}var ja=null;if(x&&y){ja=k.createElement(m,null,x,y,ba);}else if(aa){ja=k.createElement(h,{direction:h.DIRECTION.right},aa,ba);}else ja=ba;return (k.createElement("li",{className:w},ja));}});e.exports=s;},null);
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=h.createClass({displayName:"UFIPager",propTypes:{contextArgs:h.PropTypes.object.isRequired,pagerLabel:h.PropTypes.string.isRequired,'data-ft':h.PropTypes.string,countSentence:h.PropTypes.string,isFirstCommentComponent:h.PropTypes.bool,isFirstComponent:h.PropTypes.bool,isLastCommentComponent:h.PropTypes.bool,isLastComponent:h.PropTypes.bool,isLoading:h.PropTypes.bool,isUnseen:h.PropTypes.bool,onPagerClick:h.PropTypes.func},onPagerClick:function(o){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();o.nativeEvent.prevent();},render:function(){var o=this.onPagerClick,p=m(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(' '+"UFIComponent")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),q=null;if(this.props.isLoading)q=h.createElement(k,{className:"mls",background:"light",size:"small"});var r=h.createElement("a",{className:"UFIPagerLink",onClick:o,href:"#",role:"button"},this.props.pagerLabel,q),s=(("fcg")+(' '+"UFIPagerCount")),t=h.createElement("span",{className:s},this.props.countSentence),u,v=this.props.contextArgs.ufiexperiments||{};if(this.props.contextArgs.entstream||v.showIconsInActionLinks){u=(h.createElement(g,{direction:g.DIRECTION.right},r,t));}else u=(h.createElement(j,null,h.createElement("a",{className:"UFIPagerIcon",onClick:o,href:"#",role:"button"}),r,t));return (h.createElement("li",{className:p,"data-ft":this.props['data-ft']},u));}});e.exports=n;},null);
__d("UFIPagerLabel",["fbt","intlList"],function(a,b,c,d,e,f,g,h){var i={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',getReplyLabel:function(j,k){switch(j){case i.VIEW_ONE:return "View 1 reply";case i.VIEW_ONE_MORE:return "View 1 more reply";case i.VIEW_ALL:return g._("View all {count} replies",[g.param("count",k.count)]);case i.VIEW_MORE_EXPLICIT:return g._("View {count} more replies",[g.param("count",k.count)]);case i.VIEW_MORE:return "View more replies";case i.VIEW_PREVIOUS:return "View previous replies";default:return null;}},getCommentLabel:function(j,k){if(k.commenters)return this.getCommentLabelWithCommentSentence(j,k);switch(j){case i.VIEW_ONE:return "View 1 comment";case i.VIEW_ONE_MORE:return "View 1 more comment";case i.VIEW_ALL:return g._("View all {count} comments",[g.param("count",k.count)]);case i.VIEW_MORE_EXPLICIT:return g._("View {count} more comments",[g.param("count",k.count)]);case i.VIEW_MORE:return "View more comments";case i.VIEW_PREVIOUS:return "View previous comments";default:return null;}},getCommentLabelWithCommentSentence:function(j,k){var l=h(k.commenters),m=k.othersCount;switch(j){case i.VIEW_ONE:return g._("View 1 comment from {names}",[g.param("names",l)]);case i.VIEW_ONE_MORE:return g._("View 1 more comment from {names}",[g.param("names",l)]);case i.VIEW_ALL:switch(m){case "0":return g._("View all {count} comments from {names}",[g.param("count",k.count),g.param("names",l)]);case "1":return g._("View all {count} comments from {names} and 1 other person",[g.param("count",k.count),g.param("names",l)]);default:return g._("View all {count} comments from {names} and {othersCount} others",[g.param("count",k.count),g.param("names",l),g.param("othersCount",m)]);}break;case i.VIEW_MORE_EXPLICIT:case i.VIEW_MORE:switch(m){case "0":return g._("View more comments from {names}",[g.param("names",l)]);case "1":return g._("View more comments from {names} and 1 other person",[g.param("names",l)]);default:return g._("View more comments from {names} and {othersCount} others",[g.param("names",l),g.param("othersCount",m)]);}break;case i.VIEW_PREVIOUS:switch(m){case "0":return g._("View previous comments from {names}",[g.param("names",l)]);case "1":return g._("View previous comments from {names} and 1 other person",[g.param("names",l)]);default:return g._("View previous comments from {names} and {othersCount} others",[g.param("names",l),g.param("othersCount",m)]);}break;default:return null;}},getQuestionLabel:function(j,k){switch(j){case i.VIEW_ONE:return "View 1 question";case i.VIEW_ONE_MORE:return "View 1 more question";case i.VIEW_ALL:return g._("View all {count} questions",[g.param("count",k.count)]);case i.VIEW_MORE_EXPLICIT:return g._("View {count} more questions",[g.param("count",k.count)]);case i.VIEW_MORE:return "View more questions";case i.VIEW_PREVIOUS:return "View previous questions";default:return null;}},getLabel:function(j,k,l,m){if(k){return i.getReplyLabel(j,m);}else if(l){return i.getQuestionLabel(j,m);}else return i.getCommentLabel(j,m);}};e.exports=i;},null);
__d("UFIReplySocialSentence.react",["Badge.react","LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=' \u00b7 ',r=43200,s=i.createClass({displayName:"UFIReplySocialSentence",propTypes:{author:i.PropTypes.object,'data-ft':i.PropTypes.string,isExpanded:i.PropTypes.bool,isFirstComponent:i.PropTypes.bool,isLastComponent:i.PropTypes.bool,isLoading:i.PropTypes.bool,onClick:i.PropTypes.func,orderingMode:i.PropTypes.string,replies:i.PropTypes.number,shortenTimestamp:i.PropTypes.bool,showVerified:i.PropTypes.bool,timestamp:i.PropTypes.object},render:function(){var t=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),u=o(k.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),v,w;if(this.props.isExpanded){v=this.props.replies>1?p._("Hide {count} Replies",[p.param("count",this.props.replies)]):"Hide 1 Reply";}else{v=this.props.replies>1?p._("{count} Replies",[p.param("count",this.props.replies)]):"1 Reply";if(this.props.timestamp){var x=h.getApproximateServerTime()/1000-this.props.timestamp.time;if(x<r||this.props.orderingMode==l.UFICommentOrderingMode.RECENT_ACTIVITY)w=i.createElement("span",{className:"fcg"},q,i.createElement(j,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var y=this.props.author,z=y&&!this.props.isExpanded,aa=null,ba;if(z){aa=i.createElement("img",{alt:"",src:y.thumbSrc,className:k.ACTOR_IMAGE});var ca=null;if(this.props.showVerified)ca=i.createElement(g,{size:"xsmall",type:"verified"});ba=[p._("{author}{verified_badge} replied",[p.param("author",y.name),p.param("verified_badge",ca)]),q,v];}else ba=v;var da=null,ea=false;if(!z||this.props.contextArgs.feedcarded){if(z)ea=true;da=i.createElement("i",{className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(ea?' '+"UFIFeedCardedIconWithActor":''))});}return (i.createElement("li",{className:u,"data-ft":this.props['data-ft']},i.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},i.createElement(m,null,i.createElement("div",{className:((z?"UFIReplyActorPhotoWrapper":'')+(ea?' '+"UFIFeedCardedReplyActor":''))},da,aa),i.createElement("span",{className:t},i.createElement("span",{className:(("UFIReplySocialSentenceLinkText")+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":''))},ba),w)))));}});e.exports=s;},null);
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=h.createClass({displayName:"UFIShareRow",propTypes:{contextArgs:h.PropTypes.object.isRequired,shareCount:h.PropTypes.number.isRequired,targetID:h.PropTypes.any.isRequired,isFirstComponent:h.PropTypes.bool,isLastComponent:h.PropTypes.bool},render:function(){var p=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),q=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),r;if(this.props.shareCount>1){var s=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');r=n._("{count} shares",[n.param("count",s)]);}else r="1 share";var t=m(i.ROW,(("UFIShareRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),u=h.createElement("a",{className:"UFIShareLink",rel:"dialog",ajaxify:p.toString(),href:q.toString()},r),v=h.createElement(j,null,h.createElement("a",{className:"UFIShareIcon",rel:"dialog",ajaxify:p.toString(),href:q.toString()}),u),w=this.props.contextArgs.ufiexperiments||{};return (h.createElement("li",{className:t},w.showIconsInActionLinks?u:v));}});e.exports=o;},null);
__d("UFISpamPlaceholder.react",["React","UFIClassNames","XUISpinner.react","fbt"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"UFISpamPlaceholder",propTypes:{numHidden:g.PropTypes.number.isRequired,isLoading:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){if(this.props.isLoading)return (g.createElement("li",{className:h.ROW},g.createElement("span",{className:"UFISpamCommentWrapper"},g.createElement(i,{className:"mls",background:"light",size:"small"}))));return (g.createElement("li",{className:h.ROW},g.createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":"Show comments marked as spam"},g.createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":j._("{count} hidden",[j.param("count",this.props.numHidden)]),className:"UFISpamCommentWrapper"},g.createElement("i",{className:"placeholderIcon"})))));}});e.exports=k;},null);
__d("Date.react",["React","formatDate"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"ReactDate",getDefaultProps:function(){return {options:{}};},propTypes:{date:g.PropTypes.oneOfType([g.PropTypes.number,g.PropTypes.instanceOf(Date)]).isRequired,format:g.PropTypes.oneOfType([g.PropTypes.object,g.PropTypes.string]).isRequired,options:g.PropTypes.object},render:function(){return (g.createElement("span",null,h(this.props.date,this.props.format,this.props.options)));}});e.exports=i;},null);
__d("UFITopicConversationComment.react",["HovercardLink","React","TrackingNodes","UFIClassNames","UFIConstants","LeftRight.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentUtils.react","UFIImageBlock.react","Date.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){"use strict";var u=k.UFIStatus,v=function(x){return x.status===u.FAILED_ADD;},w=h.createClass({displayName:"UFITopicConversationComment",propTypes:{authorProfiles:h.PropTypes.object.isRequired,comment:h.PropTypes.object.isRequired,contextArgs:h.PropTypes.object.isRequired,feedback:h.PropTypes.object.isRequired,focusOnMount:h.PropTypes.bool,isFirst:h.PropTypes.bool,isLast:h.PropTypes.bool,isLocallyComposed:h.PropTypes.bool,viewerIsAuthor:h.PropTypes.bool},shouldComponentUpdate:function(x,y){var z=this.props;return (x.comment!==z.comment||x.isFirst!==z.isFirst||x.isLast!==z.isLast);},render:function(){var x=this.props.comment,y=t(((v(x)?"UFICommentFailed":'')+(' '+"_3lw8"))),z=this.renderComment();return (h.createElement("li",{className:y},z));},renderComment:function(){var x=this.props,y=x.feedback,z=x.comment,aa=z.body.text,ba=p.shallowCopyRanges(z.body.ranges),ca=x.authorProfiles[z.author];aa=p.getCommentTextWithTruncatedURIs(ba,aa);var da=null,ea=null;if(!x.isLocallyComposed){ea=k.commentTruncationLength;da=k.commentTruncationMaxLines;}var fa=i.getTrackingInfo(i.types.SMALL_ACTOR_PHOTO),ga=h.createElement(o,{socialContext:z.socialcontext,commentText:aa,commentRanges:ba,groupOrEventID:y.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:ea,maxLines:da}),ha=x.contextArgs.viewas?null:g.constructEndpointWithGroupAndLocation(ca,y.grouporeventid,'ufi',z.isauthorweakreference).toString(),ia=h.createElement(n,{author:ca,authorProfiles:x.authorProfiles,showHovercard:!!ha,isAuthorWeakReference:z.isauthorweakreference,focusOnMount:x.focusOnMount,groupOrEventID:y.grouporeventid,isFeatured:x.isFeatured,socialContext:z.socialcontext}),ja=null;if(z.photo_comment_status)ja=h.createElement("div",{className:"_50f8"},z.photo_comment_status);var ka=null;if(z.sticker_attachment_status)ka=h.createElement("div",{className:"_50f8"},z.sticker_attachment_status);var la=null;if(this.props.isLast){la=h.createElement(l,null,ia,h.createElement("div",{className:"_3lw9"},h.createElement(r,{date:new Date(z.timestamp.time*1000),format:{today:'g:ia',thisWeek:'l g:ia',thisYear:'m\/d',older:'m\/d\/y'}})));}else la=ia;return (h.createElement(q,{spacing:"medium"},h.createElement("a",{href:ca.uri,"data-hovercard":ha,"data-ft":fa},h.createElement("img",{src:ca.thumbSrc,className:j.ACTOR_IMAGE,alt:""})),h.createElement("div",{className:"UFICommentContentBlock"},h.createElement("div",{className:"UFICommentContent"},la,ga,h.createElement(m,{comment:x.comment})),ka)));}});e.exports=w;},null);
__d("UFIFeaturedReplyCommentList",["UFIReplyCommentList"],function(a,b,c,d,e,f,g){"use strict";for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;j.getCommentList=function(k,l){};function j(k,l,m,n){g.call(this,k,l);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){"use strict";for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("UFIRange",[],function(a,b,c,d,e,f){"use strict";function g(h,i){this.offset=h||0;this.length=i||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}g.prototype.getOffset=function(){return this.offset;};g.prototype.getLength=function(){return this.length;};g.prototype.updateRange=function(h,i){this.offset=h;this.length=i;if(this.requestedLength>0){var j=Math.min(this.offset,this.requestedOffset),k=Math.max(this.offset+this.length,this.requestedOffset+this.requestedLength);this.requestedOffset=j;this.requestedLength=k-j;}else{this.requestedOffset=this.offset;this.requestedLength=this.length;}};g.prototype.getRequestedOffset=function(){return this.requestedOffset;};g.prototype.getRequestedLength=function(){return this.requestedLength;};g.prototype.updateRequestedRange=function(h,i){this.requestedOffset=h;this.requestedLength=i;};e.exports=g;},null);
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","LayerRemoveOnHide","LiveTimer","PageAdminSignatureSettings","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIFeaturedReplyCommentList","UFIFeaturedToplevelCommentList","UFICommentTemplates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIRange","UFIReplyCommentList","UFIToplevelCommentList","UFIUserActions","URI","isEmpty","onEnclosingPageletDestroy","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){"use strict";var ia=function(ma,na,oa,pa,qa){var ra=ma+na===oa;return {offset:ma,length:(ra&&ja(qa))?pa-ma:na};},ja=function(ma){return ma==x.UFIPayloadSourceType.USER_ACTION||ma==x.UFIPayloadSourceType.LIVE_SEND;},ka=function(ma,na){for(var oa=0;oa<na.length;oa++){var pa=na[oa];if(pa.author)ma.push(pa.author);if(pa.socialcontext)ma.push(pa.socialcontext.topmutualid);if(pa.replyauthors&&pa.replyauthors.length)for(var qa=0;qa<pa.replyauthors.length;qa++)ma.push(pa.replyauthors[qa]);}};function la(ma,na,oa){this.root=ma;this.id=na.ftentidentifier;this.source=na.source;this.$UFIController0=na.instanceid;this.featuredToplevelCommentList=null;this.featuredReplyCommentLists={};this.$UFIController1=na;this.$UFIController1.rootid=this.root.id;this.$UFIController1.pagesAdminSignatureSettings=new m(this.$UFIController1.initAdminSignatureContext);this.$UFIController2=false;var pa=oa.feedbacktargets[0];this.actionLink=new s(ma,this.$UFIController1,pa);this.orderingMode=pa.defaultcommentorderingmode;var qa=null;if(oa.featuredcommentlists&&oa.featuredcommentlists.comments&&oa.featuredcommentlists.comments[this.id]){qa=oa.featuredcommentlists.comments[this.id];this.featuredToplevelCommentList=new v(this.id,qa.values,oa.comments);}else qa=oa.commentlists.comments[this.id][this.orderingMode];this.ranges={};this.replyRanges={};this.repliesMap={};this.shortenTimestamp=na.shortenTimestamp;this.commentcounts={};this.commentcounts[this.id]=this.getToplevelCommentList().getCommentCount();var ra=pa.orderingmodes||[{value:this.orderingMode}];ra.forEach(function(va){this.ranges[va.value]=new aa(qa.range.offset,qa.range.length);}.bind(this));var sa,ta,ua;if(oa.commentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.commentlists.replies[ta];if(ua){this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}if(oa.featuredcommentlists)if(oa.featuredcommentlists.replies)for(sa=0;sa<qa.values.length;sa++){ta=qa.values[sa];ua=oa.featuredcommentlists.replies[ta];if(ua){this.featuredReplyCommentLists[ta]=new u(this.id,ta,ua.values,oa.comments);this.commentcounts[ta]=this.getReplyCommentList(ta).getCommentCount();this.getReplyRange(ta).updateRange(ua.range.offset,ua.range.length);}}this.$UFIController3=null;this.$UFIController4=null;this.ufiCentralUpdatesSubscriptions=[t.subscribe('feedback-updated',function(va,wa){var xa=wa.updates,ya=wa.payloadSource;if(ya!=x.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in xa)this.fetchAndUpdate(this.render.bind(this),ya);}.bind(this)),t.subscribe('feedback-id-changed',function(va,wa){var xa=wa.updates;if(this.id in xa)this.id=xa[this.id];}.bind(this)),t.subscribe('instance-updated',function(va,wa){var xa=wa.updates;if(this.$UFIController0 in xa){var ya=xa[this.$UFIController0];if(ya.editcommentid)this.render(wa.payloadSource);}}.bind(this))];this.clearPageletSubscription=ga(this.root,this.$UFIController6.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this.$UFIController7.bind(this));t.handleUpdate(x.UFIPayloadSourceType.INITIAL_SERVER,oa);if(this.$UFIController1.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(va,wa){if(this.$UFIController1.viewas!==ea(wa.to).getQueryData('viewas'))ca.resetCommentListsForFeedbackTargetID(this.id);}.bind(this));h.loadModules(["ScrollAwareDOM"],function(va){p.scrollMonitor=va.monitor;});g.inform('notifStory/ufiLoaded');}la.prototype.$UFIController8=function(){if(!this.$UFIController9)this.$UFIController9=n.byTag(this.root,'form');return this.$UFIController9;};la.prototype.$UFIControllera=function(event){var ma=!this.feedback.hasviewerliked;da.changeLike(this.id,ma,{source:this.source,target:event.target,rootid:this.$UFIController1.rootid});event.preventDefault();};la.prototype.$UFIControllerb=function(ma,event){var na=!ma.hasviewerliked;da.changeCommentLike(ma.id,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerc=function(ma){z.updateState(this.$UFIController0,'isediting',true);z.updateState(this.$UFIController0,'editcommentid',ma.id);};la.prototype.$UFIControllerd=function(ma,na,event){if(!na.visibleValue&&!na.attachedPhoto&&!na.attachedSticker){this.$UFIControllere(ma,event);}else da.editComment(ma.id,na.visibleValue,na.encodedValue,{source:this.$UFIController1.source,target:event.target,attachedPhoto:na.attachedPhoto,attachedSticker:na.attachedSticker});z.updateStateField(this.$UFIController0,'locallycomposed',ma.id,true);this.$UFIControllerf();};la.prototype.$UFIControllerf=function(){z.updateState(this.$UFIController0,'isediting',false);z.updateState(this.$UFIController0,'editcommentid',null);};la.prototype.$UFIControllere=function(ma,event,na){this.$UFIControllerg(ma,false,event,na);};la.prototype.$UFIControllerg=function(ma,na,event,oa){var pa=w[':fb:ufi:hide-dialog-template'].build();j.setContent(pa.getNode('body'),"Are you sure you want to delete this comment?");j.setContent(pa.getNode('title'),"Delete Comment");h.loadModules(["DialogX"],function(qa){var ra=new qa({modal:true,width:465,addedBehaviors:[k]},pa.getRoot());ra.subscribe('confirm',function(){da.removeComment(ma.id,{source:this.source,oneclick:na,target:event.target,timelinelogdata:this.$UFIController1.timelinelogdata});if(oa)oa.setState({isInlinePageDeleted:true});ra.hide();}.bind(this));ra.show();}.bind(this));};la.prototype.$UFIControllerh=function(ma,event){da.setHideAsSpam(ma.id,true,{source:this.source,target:event.target});};la.prototype.$UFIControlleri=function(ma,event){da.setHideAsSpam(ma.id,false,{source:this.source,target:event.target});};la.prototype.$UFIControllerj=function(ma,event){da.translateComment(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerk=function(ma,na,event){da.banUser(ma,this.feedback.ownerid,na,{source:this.source,target:event.target});};la.prototype.$UFIControllerl=function(ma,event){this.$UFIControllerk(ma,true,event);};la.prototype.$UFIControllerm=function(ma,event){this.$UFIControllerk(ma,false,event);};la.prototype.$UFIControllern=function(ma,na){da.fetchSpamComments(this.id,ma,na,this.$UFIController1.viewas);};la.prototype.$UFIControllero=function(ma,event){da.removePreview(ma,{source:this.source,target:event.target});};la.prototype.$UFIControllerp=function(ma){h.loadModules(["UFIRetryActions"],function(na){na.retrySubmit(ma,{source:this.source});}.bind(this));};la.prototype.$UFIControllerq=function(){if(this.$UFIController2)return;var ma=n.byTag(this.root,'form');if(ma){i.removeClass(ma,'collapsed_comments');this.$UFIController2=true;}};la.prototype.setRange=function(ma){this.getRange().updateRange(ma.offset,ma.length);};la.prototype.setReplyRange=function(ma,na){this.getReplyRange(ma).updateRange(na.offset,na.length);};la.prototype.render=function(ma){var na=this.comments.length||!fa(this.feedback.likesentences.current);if(na&&ja(ma))this.$UFIControllerq();var oa=this.getRange();if(this.$UFIController3===null)this.$UFIController3=oa.getOffset()+oa.getLength()-1;var pa=this.feedback.replysocialsentencemaxreplies||-1,qa={};qa[this.id]=this.getToplevelCommentList().getDeletedCount();var ra={},sa={};sa[this.id]=!this.featuredToplevelCommentList;this.comments.forEach(function(xa){var ya=xa.id;qa[ya]=this.getReplyCommentList(ya).getDeletedCount();ra[ya]=this.getToplevelCommentList().getPermalinkForComment(ya);sa[ya]=!this.featuredReplyCommentLists[ya];if(this.repliesMap[ya])this.repliesMap[ya].forEach(function(za){var ab=za.id;ra[ab]=ba.getCommentList(this.id,ya).getPermalinkForComment(ab);}.bind(this));}.bind(this));var ta={};ta[this.id]=oa;for(var ua in this.replyRanges)ta[ua]=this.replyRanges[ua];var va=!!this.featuredToplevelCommentList,wa=o.createElement(r,{feedback:this.feedback,id:this.id,onTargetLikeToggle:this.$UFIControllera.bind(this),onCommentLikeToggle:this.$UFIControllerb.bind(this),onCommentRemove:this.$UFIControllere.bind(this),onCommentHideAsSpam:this.$UFIControllerh.bind(this),onCommentMarkAsNotSpam:this.$UFIControlleri.bind(this),onCommentEdit:this.$UFIControllerc.bind(this),onCommentTranslate:this.$UFIControllerj.bind(this),onCommentInlineBan:this.$UFIControllerl.bind(this),onCommentUndoInlineBan:this.$UFIControllerm.bind(this),onEditAttempt:this.$UFIControllerd.bind(this),onCancelEdit:this.$UFIControllerf.bind(this),onChangeRange:this.$UFIControllerr.bind(this),onSpamFetch:this.$UFIControllern.bind(this),onPreviewRemove:this.$UFIControllero.bind(this),onRetrySubmit:this.$UFIControllerp.bind(this),onOrderingModeChange:this.$UFIControllers.bind(this),contextArgs:this.$UFIController1,repliesMap:this.repliesMap,shortenTimestamp:this.shortenTimestamp,commentCounts:this.commentcounts,deletedCounts:qa,availableComments:this.comments,source:this.source,ranges:ta,pageSize:x.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this.$UFIController0,loggingOffset:this.$UFIController3,replySocialSentenceMaxReplies:pa,orderingMode:this.orderingMode,hideOrderingModeSelector:va,commentPermalinks:ra,canAddCommentMap:sa});this.$UFIController4=o.render(wa,this.root);l.updateTimeStamps();if(this.$UFIController8())g.inform('ufi/changed',{form:this.$UFIController8()});if(ma!=x.UFIPayloadSourceType.INITIAL_SERVER&&ma!=x.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');};la.prototype.deferredCallback=function(ma,na,oa,pa){ma.callbackCount++;if(ma.callbackCount<ma.expectedCallbackCount)return;q.getMulti(na,function(qa){this.authorProfiles=qa;pa(oa);if(oa==x.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));};la.prototype.fetchAndUpdate=function(ma,na){y.getFeedbackTarget(this.id,function(oa){this.feedback=oa;var pa=this.getToplevelCommentList(this.orderingMode).getCommentCount(),qa=this.getRange(),ra=ia(qa.getRequestedOffset(),qa.getRequestedLength(),this.commentcounts[this.id],pa,na),sa=[];if(this.feedback.actorforpost)sa.push(this.feedback.actorforpost);var ta={expectedCallbackCount:0,callbackCount:0},ua=ra.offset,va=ra.length,wa;if(this.$UFIController1.viewas)wa=this.$UFIController1.viewas+'';this.getToplevelCommentList().getComments(ua,va,wa,function(xa,ya,za){this.commentcounts[this.id]=ya;this.setRange(xa);this.comments=[];for(var ab in za)this.comments.push(za[ab]);ka(sa,this.comments);if(this.feedback.isthreaded&&this.comments.length){ta.expectedCallbackCount=this.comments.length;}else ta.expectedCallbackCount=1;for(var bb in za){var cb=za[bb],db=cb.id;if(this.feedback.isthreaded){var eb=this.getReplyCommentList(db).getCommentCount(),fb;if(this.replyRanges[db]){var gb=this.getReplyRange(db);fb=ia(gb.getRequestedOffset(),gb.getRequestedLength(),this.commentcounts[db],eb,na);}else if(cb.interestingReplyOffset!==(void 0)){fb={offset:cb.interestingReplyOffset,length:1};}else{var hb=this.feedback.isranked?0:Math.min(eb,2);fb={offset:0,length:hb};}var ib=fb.offset,jb=fb.length;this.getReplyCommentList(db).getComments(ib,jb,null,function(kb,lb,mb,nb){this.commentcounts[kb]=mb;this.setReplyRange(kb,lb);this.repliesMap[kb]=[];for(var ob in nb)this.repliesMap[kb].push(nb[ob]);ka(sa,this.repliesMap[kb]);this.deferredCallback(ta,sa,na,ma);}.bind(this,db,fb,eb));}}if(!this.feedback.isthreaded||!this.comments.length)this.deferredCallback(ta,sa,na,ma);}.bind(this,ra,pa));}.bind(this));};la.prototype.getToplevelCommentList=function(){if(this.featuredToplevelCommentList)return this.featuredToplevelCommentList;return ca.getCommentList(this.id,this.orderingMode);};la.prototype.getReplyCommentList=function(ma){if(ma in this.featuredReplyCommentLists)return this.featuredReplyCommentLists[ma];return ba.getCommentList(this.id,ma);};la.prototype.getRange=function(){if(!(this.orderingMode in this.ranges))this.ranges[this.orderingMode]=new aa();return this.ranges[this.orderingMode];};la.prototype.getReplyRange=function(ma){if(!(ma in this.replyRanges))this.replyRanges[ma]=new aa();return this.replyRanges[ma];};la.prototype.$UFIControllerr=function(ma,na){if(ma==this.id){this.getRange().updateRequestedRange(na.offset,na.length);}else this.replyRanges[ma].updateRequestedRange(na.offset,na.length);this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};la.prototype.$UFIController6=function(){o.unmountComponentAtNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(t.unsubscribe.bind(t));g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);};la.prototype.$UFIController7=function(){this.$UFIController6();g.unsubscribe(this.clearPageletSubscription);};la.prototype.$UFIControllers=function(ma){this.orderingMode=ma;this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};e.exports=la;},null);
__d("SelectionState",["immutable"],function(a,b,c,d,e,f,g){"use strict";var h=g.Record({anchorKey:null,anchorOffset:null,focusKey:null,focusOffset:null,isBackward:false,hasFocus:false});for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){if(h!==null)h.apply(this,arguments);}k.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+this.getIsBackward()+', '+'Has Focus: '+this.getHasFocus());};k.prototype.getAnchorKey=function(){return this.anchorKey;};k.prototype.getAnchorOffset=function(){return this.anchorOffset;};k.prototype.getFocusKey=function(){return this.focusKey;};k.prototype.getFocusOffset=function(){return this.focusOffset;};k.prototype.getIsBackward=function(){return this.isBackward;};k.prototype.getHasFocus=function(){return this.hasFocus;};k.prototype.hasEdgeWithin=function(l,m,n){var o=this.getAnchorKey(),p=this.getFocusKey();if(o===p&&o===l){var q=this.getStartOffset(),r=this.getEndOffset();return m<=r&&q<=n;}var s;if(l===o){s=this.getAnchorOffset();}else if(l===p){s=this.getFocusOffset();}else return false;return m<=s&&n>=s;};k.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};k.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};k.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};k.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};k.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};e.exports=k;},null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],function(a,b,c,d,e,f,g,h,i){var j=g,k=j.PropTypes,l={viewID:k.string.isRequired,selection:k.instanceOf(i).isRequired,contextComponent:k.object.isRequired,mentionableEntries:k.array.isRequired,highlightedMentionable:k.instanceOf(h),onMentionSelect:k.func.isRequired,onMentionHighlight:k.func.isRequired,onMentionRenderHighlight:k.func.isRequired};e.exports=l;},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j,m=l.PropTypes,n=false,o=h.isRTL(),p,q,r,s,t=5,u=j.createClass({displayName:"MentionsLayer",propTypes:Object.assign({},i,{typeaheadView:m.func.isRequired,typeaheadViewProps:m.object}),getInitialState:function(){return {bootloaded:n};},componentWillMount:function(){if(!this.state.bootloaded)v(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function(w,x){x.preventDefault();this.props.onMentionSelect(w,x);},shouldComponentUpdate:function(w,x){return (this.state.bootloaded!==x.bootloaded||!k(this.props.mentionableEntries,w.mentionableEntries)||this.props.highlightedMentionable!==w.highlightedMentionable||this.props.characterOffset!==w.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var w=this.props.mentionableEntries,x=this.props.selection,y=(x.isCollapsed()&&x.getHasFocus()&&w&&w.length),z=null,aa=this.props.typeaheadViewProps,ba=false,ca=false;if(aa&&aa.positionAtContext){ba=true;ca=true;}else if(y)z=s(this.props.characterOffset,o);var da={};if(this.props.autoflip){da.ContextualLayerAutoFlip=q;da.ContextualLayerUpdateOnScroll=r;}var ea=this.props.typeaheadView;return (j.createElement(p,{shown:y,context:this.props.contextComponent,contextBounds:z,containerWidthMatchContext:ca,offsetY:t,position:"below",behaviors:da},j.createElement(ea,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:w||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})));}});function v(w){g.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(x,y,z,aa){p=x;q=y;r=z;s=aa;n=true;w();});}e.exports=u;},null);
__d("cssURL",[],function(a,b,c,d,e,f){function g(h){return "url('"+h.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}e.exports=g;},null);
__d("MentionsTypeaheadViewItem.react",["Badge.react","ImageBlock.react","React","TypeaheadViewItem","cssURL","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i.createClass({displayName:"MentionsTypeaheadViewItem",mixins:[j.Mixin],propTypes:Object.assign({},j.propTypes,{ariaDescribedBy:i.PropTypes.string}),render:function(){var n=this.props.entry,o=n.getAuxiliaryData(),p=null;if(o)if(o.verified){p=i.createElement(g,{type:"verified",size:"xsmall"});}else if(o.workUser)p=i.createElement(g,{type:"work",size:"xsmall"});var q=n.getPhoto()?i.createElement("span",{className:"_5u93",style:{backgroundImage:k(n.getPhoto())}}):i.createElement("span",null),r=null;if(n.getSubtitle())r=i.createElement("div",{className:"_5u95"},n.getSubtitle());var s=(("_5u91")+(this.props.highlighted?' '+"_5u92":''));return (i.createElement("li",{role:"option",className:s,"aria-label":n.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},i.createElement(h,{spacing:"medium"},q,i.createElement("div",null,i.createElement("div",{className:"_5u94"},n.getTitle(),p),r))));}});e.exports=m;},null);
__d("GroupMentionsTypeaheadView.react",["Image.react","MentionsTypeaheadViewItem.react","React","cx","extendArray","fbt","ix","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=i,p=o.PropTypes,q="No Results",r=i.createClass({displayName:"GroupMentionsTypeaheadView",propTypes:{id:p.string,viewProps:p.object,highlightedEntry:p.object,entries:p.array.isRequired,onSelect:p.func.isRequired,onHighlight:p.func,onRenderHighlight:p.func},getInitialState:function(){return {membersHeaderID:n(),nonMembersHeaderID:n()};},_renderItem:function(s,t){var u=s===this.props.highlightedEntry;return (i.createElement(h,{key:s.getUniqueID(),ariaDescribedBy:t,entry:s,highlighted:u,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_renderMembers:function(s){var t=null;if(s.length){t=s.map(function(w,x){var y=x===0?this.state.membersHeaderID:null;return this._renderItem(w,y);}.bind(this));}else t=[i.createElement("li",{className:"_2ph-",role:"option","aria-describedby":this.state.membersHeaderID,"aria-label":q},q)];var u=null;if(this.props.viewProps.member.aux)u=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.member.aux);var v=[i.createElement("li",{id:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,u)];return k(v,t);},_renderNonMembers:function(s){if(!s.length)return null;var t=null;if(this.props.viewProps.nonMember.aux)t=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.nonMember.aux);var u=[i.createElement("li",{id:this.state.nonMembersHeaderID,className:"_1kns"},i.createElement(g,{src:m('/images/groups/secret-tag.png'),className:"_1knt"}),this.props.viewProps.nonMember.title,t)];return k(u,s.map(function(v,w){var x=w===0?this.state.nonMembersHeaderID:null;return this._renderItem(v,x);}.bind(this)));},render:function(){var s=[],t=[];this.props.entries.forEach(function(v){var w=v.getAuxiliaryData();if(w.renderType==='member'){s.push(v);}else t.push(v);});var u=(("_5u8_")+(!s.length&&!t.length?' '+"_5u90":''));return (i.createElement("ul",{className:u,role:"listbox",id:this.props.id},this._renderMembers(s),this._renderNonMembers(t)));}});e.exports=r;},null);
__d("AbstractDocumentDecorator",[],function(a,b,c,d,e,f){function g(){"use strict";}g.prototype.getDecorations=function(h){"use strict";throw new Error('Must implement `getDecorations`.');};g.prototype.getComponentForKey=function(h){"use strict";throw new Error('Must implement `getComponentForKey`.');};g.prototype.getPropsForKey=function(h){"use strict";throw new Error('Must implement `getPropsForKey`.');};e.exports=g;},null);
__d("fillArray",[],function(a,b,c,d,e,f){function g(h,i){var j=new Array(h);for(var k=0;k<h;k++)j[k]=i;return j;}e.exports=g;},null);
__d("DocumentCompositeDecorator.Experimental",["AbstractDocumentDecorator","immutable","fillArray"],function(a,b,c,d,e,f,g,h,i){var j='.';for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(p){"use strict";this.$DocumentCompositeDecorator0=p.slice();}m.prototype.getDecorations=function(p){"use strict";var q=i(p.getText().length,null);this.$DocumentCompositeDecorator0.forEach(function(r,s){var t=0,u=r.getStrategy();u(p,function(v,w){if(n(q,v,w)){o(q,v,w,s+j+t);t++;}});});return h.List(q);};m.prototype.getComponentForKey=function(p){"use strict";var q=parseInt(p.split(j),10);return this.$DocumentCompositeDecorator0[q].getComponent();};m.prototype.getPropsForKey=function(p){"use strict";var q=parseInt(p.split(j),10);return this.$DocumentCompositeDecorator0[q].getProps();};function n(p,q,r){for(var s=q;s<r;s++)if(p[s]!=null)return false;return true;}function o(p,q,r,s){for(var t=q;t<r;t++)p[t]=s;}e.exports=m;},null);
__d("DocumentDecorator",[],function(a,b,c,d,e,f){function g(h,i,j){"use strict";this.$DocumentDecorator0=h;this.$DocumentDecorator1=i;this.$DocumentDecorator2=j||{};}g.prototype.getStrategy=function(){"use strict";return this.$DocumentDecorator0;};g.prototype.getComponent=function(){"use strict";return this.$DocumentDecorator1;};g.prototype.getProps=function(){"use strict";return this.$DocumentDecorator2;};e.exports=g;},null);
__d("DocumentEntityInstance",["ComposedEntityMutability","ComposedEntityType","arrayContains","getObjectValues","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j(h),m=j(g);function n(o,p,q){"use strict";k(i(l,o));k(i(m,p));this.$DocumentEntityInstance0=o;this.$DocumentEntityInstance1=p;this.$DocumentEntityInstance2=q;}n.prototype.getType=function(){"use strict";return this.$DocumentEntityInstance0;};n.prototype.getMutability=function(){"use strict";return this.$DocumentEntityInstance1;};n.prototype.getData=function(){"use strict";return this.$DocumentEntityInstance2;};n.prototype.replaceData=function(o){"use strict";this.$DocumentEntityInstance2=o;};e.exports=n;},null);
__d("DocumentEntity",["DocumentEntityInstance","invariant"],function(a,b,c,d,e,f,g,h){var i={},j=0,k={create:function(l,m,n){return k.add(new g(l,m,n));},add:function(l){i[++j]=l;return j.toString();},get:function(l){var m=i[l];h(!!m);return m;}};e.exports=k;},null);
__d("EmoticonSpan.react",["DocumentEntity","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k={smile:"_5uj7",frown:"_5uj8",tongue:"_5uj9",grin:"_5uja",gasp:"_5ujb",wink:"_5ujc",glasses:"_5ujd",sunglasses:"_5ujh",grumpy:"_5uji",unsure:"_5ujj",cry:"_5ujw",devil:"_5ujx",angel:"_5ujy",kiss:"_5ujz",heart:"_5uk7",kiki:"_5ukd",squint:"_5ukg",confused:"_5ukj",confused_rev:"_5ukl",upset:"_5ukp",pacman:"_5ukq",robot:"_5ukr",colonthree:"_5uks",penguin:"_5ukt",putnam:"_5uku",shark:"_5ukv",like:"_5ukw",poop:"_5ukx"},l=h.createClass({displayName:"EmoticonSpan",render:function(){var m=g.get(this.props.entityKey),n=m.getData().type,o=j("_1ty6",k[n]);return (h.createElement("span",{className:o,title:n,"data-offset-key":this.props.offsetKey},h.createElement("span",{className:"_5ukz"},this.props.children)));}});e.exports=l;},null);
__d("HashtagSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"HashtagSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("MentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"MentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_5u8u",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("WeakMentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"WeakMentionSpan",render:function(){return (g.createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("getEntityMatcherExperimental",["DocumentEntity"],function(a,b,c,d,e,f,g){function h(i,j){j=j||g.get;return function(k,l){k.findEntityRanges(function(m){var n=m.getEntity();return n!==null&&i(j(n));},l);};}e.exports=h;},null);
__d("getHashtagMatchesExperimental",["getHashtagRegex"],function(a,b,c,d,e,f,g){var h=g();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}e.exports=i;},null);
__d("getMentionsInputDecorator",["ComposedEntityType","DocumentCompositeDecorator.Experimental","DocumentDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcherExperimental","getHashtagMatchesExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=g.EMOTICON,q=g.MENTION,r;function s(){if(!r)r=new h([new i(n(function(t){var u=t.getData();return t.getType()===q&&u&&u.isWeak;}),m),new i(n(function(t){return t.getType()===q;}),l),new i(n(function(t){return t.getType()===p;}),j),new i(o,k)]);return r;}e.exports=s;},null);
__d("CharacterMetadata",["ComposedInlineStyle","immutable"],function(a,b,c,d,e,f,g,h){var i=g,j=i.NONE,k=h.Record({style:j,entity:null});for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){"use strict";if(k!==null)k.apply(this,arguments);}n.prototype.getStyle=function(){"use strict";return this.get('style');};n.prototype.getEntity=function(){"use strict";return this.get('entity');};n.prototype.hasStyle=function(p){"use strict";return !!(this.getStyle()&p);};n.applyStyle=function(p,q){"use strict";return p.set('style',p.getStyle()|q);};n.removeStyle=function(p,q){"use strict";var r=p.set('style',p.getStyle()&(~q));return h.is(r,o)?o:r;};n.applyEntity=function(p,q){"use strict";var r=p.getEntity()===q?p:p.set('entity',q);return h.is(r,o)?o:r;};var o=new n();n.EMPTY=o;e.exports=n;},null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],function(a,b,c,d,e,f,g,h){"use strict";var i={add:function(k,l,m){return j(k,l,m,true);},remove:function(k,l,m){return j(k,l,m,false);}};function j(k,l,m,n){var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p;}).takeUntil(function(u,v){return v===r;}).concat(h.Map([[r,o.get(r)]])).map(function(u,v){var w,x;if(p===r){w=q;x=s;}else{w=v===p?q:0;x=v===r?s:u.getLength();}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?g.applyStyle(z,m):g.removeStyle(z,m));w++;}return u.set('characterList',y);});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l});}e.exports=i;},null);
__d("DocumentRemovalDirection",[],function(a,b,c,d,e,f){var g={BACKWARD:0,FORWARD:1};e.exports=g;},null);
__d("applyEntityToContentBlock",["CharacterMetadata"],function(a,b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,g.applyEntity(m.get(j),l));j++;}return i.set('characterList',m);}e.exports=h;},null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],function(a,b,c,d,e,f,g,h){"use strict";function i(j,k,l){var m=j.getBlockMap(),n=k.getStartKey(),o=k.getStartOffset(),p=k.getEndKey(),q=k.getEndOffset(),r=m.skipUntil(function(s,t){return t===n;}).takeUntil(function(s,t){return t===p;}).merge(g.OrderedMap([[p,m.get(p)]])).map(function(s,t){var u,v;if(n===p){u=o;v=q;}else{u=t===n?o:0;v=t===p?0:s.getLength();}return h(s,u,v,l);});return j.merge({blockMap:m.merge(r),selectionBefore:k,selectionAfter:k});}e.exports=i;},null);
__d("DocumentEntitySegmentsExperimental",["DocumentRemovalDirection"],function(a,b,c,d,e,f,g){var h=g.FORWARD,i={getRemovalRange:function(j,k,l,m,n){var o=l.split(' ');o=o.map(function(y,z){if(n===h){if(z>0)return ' '+y;}else if(z<o.length-1)return y+' ';return y;});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k){if(s!==null){t=q;}else{s=p;t=q;}}else if(s!==null)break;p=q;}var v=m+l.length,w=s===m,x=t===v;if((!w&&x)||(w&&!x))if(n===h){if(t!==v)t++;}else if(s!==m)s--;return {start:s,end:t};}};e.exports=i;},null);
__d("checkRangeOverlap",["invariant"],function(a,b,c,d,e,f,g){function h(i,j,k,l){g(i<=j&&k<=l);return (i<l&&j>k);}e.exports=h;},null);
__d("getRangesForDocumentEntityExperimental",["invariant"],function(a,b,c,d,e,f,g){function h(i,j){var k=[];i.findEntityRanges(function(l){return l.getEntity()===j;},function(l,m){k.push({start:l,end:m});});g(!!k.length);return k;}e.exports=h;},null);
__d("getCharacterRemovalRangeExperimental",["ComposedEntityMutability","DocumentEntity","DocumentEntitySegmentsExperimental","checkRangeOverlap","getRangesForDocumentEntityExperimental","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.MUTABLE,n=g.IMMUTABLE;function o(p,q,r){var s=q.getStartOffset(),t=q.getEndOffset(),u=p.getEntityAt(s);if(!u)return q;var v=h.get(u),w=v.getMutability();if(w===m)return q;var x=k(p,u).filter(function(aa){return j(s,t,aa.start,aa.end);});l(x.length==1);var y=x[0];if(w===n)return q.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:false});var z=i.getRemovalRange(s,t,p.getText().slice(y.start,y.end),y.start,r);return q.merge({anchorOffset:z.start,focusOffset:z.end,isBackward:false});}e.exports=o;},null);
__d("generateBlockKey",[],function(a,b,c,d,e,f){var g={},h=Math.pow(2,24);function i(){var j;while(j===(void 0)||g.hasOwnProperty(j)||!isNaN(+j))j=Math.floor(Math.random()*h).toString(32);g[j]=true;return j;}e.exports=i;},null);
__d("removeEntitiesAtEdges",["CharacterMetadata","ComposedEntityMutability","DocumentEntity","findRangesImmutable","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=h.MUTABLE;function m(p,q){var r=p.getBlockMap(),s={},t=q.getStartKey(),u=q.getStartOffset(),v=r.get(t),w=o(v,u);if(w!==v)s[t]=w;var x=q.getEndKey(),y=q.getEndOffset(),z=r.get(x);if(t===x)z=w;var aa=o(z,y);if(aa!==z)s[x]=aa;if(k(s))return p.set('selectionAfter',q);return p.merge({blockMap:r.merge(s),selectionAfter:q});}function n(p,q,r){var s;j(p,function(t,u){return t.getEntity()===u.getEntity();},function(t){return t.getEntity()===q;},function(t,u){if(t<=r&&u>=r)s={start:t,end:u};});return s;}function o(p,q){var r=p.getCharacterList(),s=q>0?r.get(q-1):undefined,t=q<r.count()?r.get(q):undefined,u=s?s.getEntity():undefined,v=t?t.getEntity():undefined;if(v&&v===u){var w=i.get(v);if(w.getMutability()!==l){var x=n(r,v,q),y=x.start,z=x.end,aa;while(y<z){aa=r.get(y);r=r.set(y,g.applyEntity(aa,null));y++;}return p.set('characterList',r);}}return p;}e.exports=m;},null);
__d("getContentStateFragment",["generateBlockKey","removeEntitiesAtEdges"],function(a,b,c,d,e,f,g,h){"use strict";function i(j,k){var l=k.getStartKey(),m=k.getStartOffset(),n=k.getEndKey(),o=k.getEndOffset(),p=h(j,k),q=p.getBlockMap(),r=q.keySeq(),s=r.indexOf(l),t=r.indexOf(n)+1;return q.slice(s,t).map(function(u,v){var w=g(),x=u.getText(),y=u.getCharacterList();if(l===n)return u.merge({key:w,text:x.slice(m,o),characterList:y.slice(m,o)});if(v===l)return u.merge({key:w,text:x.slice(m),characterList:y.slice(m)});if(v===n)return u.merge({key:w,text:x.slice(0,o),characterList:y.slice(0,o)});return u.set('key',w);});}e.exports=i;},null);
__d("createOrderedMapFromBlockArray",["immutable"],function(a,b,c,d,e,f,g){function h(i){return g.OrderedMap(g.Seq(i).toKeyedSeq().mapKeys(function(j,k){return k.getKey();}));}e.exports=h;},null);
__d("insertIntoList",[],function(a,b,c,d,e,f){"use strict";function g(h,i,j){if(j===h.count()){i.forEach(function(k){h=h.push(k);});}else if(j===0){i.reverse().forEach(function(k){h=h.unshift(k);});}else h=h.slice(0,j).concat(i,h.slice(j));return h;}e.exports=g;},null);
__d("insertFragmentIntoContentState",["createOrderedMapFromBlockArray","generateBlockKey","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l,m,n){j(m.isCollapsed());var o=m.getStartKey(),p=m.getStartOffset(),q=l.getBlockMap(),r=n.size,s,t;if(r===1){var u=q.get(o),v=n.first(),w=u.getText(),x=u.getCharacterList(),y=u.merge({text:(w.slice(0,p)+v.getText()+w.slice(p)),characterList:i(x,v.getCharacterList(),p)});q=q.set(o,y);s=o;t=p+v.getText().length;return l.merge({blockMap:q.set(o,y),selectionBefore:m,selectionAfter:m.merge({anchorKey:s,anchorOffset:t,focusKey:s,focusOffset:t,isBackward:false})});}var z=[];l.getBlockMap().forEach(function(aa,ba){if(ba!==o){z.push(aa);return;}var ca=aa.getText(),da=aa.getCharacterList(),ea=ca.length,fa=ca.slice(0,p),ga=da.slice(0,p),ha=n.first(),ia=aa.merge({text:fa+ha.getText(),characterList:ga.concat(ha.getCharacterList())});z.push(ia);n.slice(1,r-1).forEach(function(na){z.push(na.set('key',h()));});var ja=ca.slice(p,ea),ka=da.slice(p,ea),la=n.last();s=h();var ma=la.merge({key:s,text:la.getText()+ja,characterList:la.getCharacterList().concat(ka)});z.push(ma);});t=n.last().getLength();return l.merge({blockMap:g(z),selectionBefore:m,selectionAfter:m.merge({anchorKey:s,anchorOffset:t,focusKey:s,focusOffset:t,isBackward:false})});}e.exports=k;},null);
__d("insertTextIntoContentState",["immutable","insertIntoList","invariant"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k,l,m,n){i(l.isCollapsed());var o=m.length;if(!o)return k;var p=k.getBlockMap(),q=l.getStartKey(),r=l.getStartOffset(),s=p.get(q),t=s.getText(),u=s.merge({text:(t.slice(0,r)+m+t.slice(r,s.getLength())),characterList:h(s.getCharacterList(),g.Repeat(n,o),r)}),v=r+o;return k.merge({blockMap:p.set(q,u),selectionAfter:l.merge({anchorOffset:v,focusOffset:v})});}e.exports=j;},null);
__d("removeRangeFromContentState",["immutable"],function(a,b,c,d,e,f,g){"use strict";function h(j,k){if(k.isCollapsed())return j;var l=j.getBlockMap(),m=k.getStartKey(),n=k.getStartOffset(),o=k.getEndKey(),p=k.getEndOffset(),q=l.get(m),r=l.get(o),s;if(q===r){s=i(q.getCharacterList(),n,p);}else s=q.getCharacterList().slice(0,n).concat(r.getCharacterList().slice(p));var t=q.merge({text:(q.getText().slice(0,n)+r.getText().slice(p)),characterList:s}),u=l.toSeq().skipUntil(function(v,w){return w===m;}).takeUntil(function(v,w){return w===o;}).concat(g.Map([[o,null]])).map(function(v,w){return w===m?t:null;});l=l.merge(u).filter(function(v){return !!v;});return j.merge({blockMap:l,selectionBefore:k,selectionAfter:k.merge({anchorKey:m,anchorOffset:n,focusKey:m,focusOffset:n,isBackward:false})});}function i(j,k,l){if(k===0){while(k<l){j=j.shift();k++;}}else if(l===j.count()){while(l>k){j=j.pop();l--;}}else j=j.slice(0,k).concat(j.slice(l));return j;}e.exports=h;},null);
__d("setBlockTypeForContentState",["immutable"],function(a,b,c,d,e,f,g){"use strict";function h(i,j,k){var l=j.getStartKey(),m=j.getEndKey(),n=i.getBlockMap(),o=n.toSeq().skipUntil(function(p,q){return q===l;}).takeUntil(function(p,q){return q===m;}).concat(g.Map([[m,n.get(m)]])).map(function(p){return p.set('type',k);});return i.merge({blockMap:n.merge(o),selectionBefore:j,selectionAfter:j});}e.exports=h;},null);
__d("splitBlockInContentState",["generateBlockKey","invariant"],function(a,b,c,d,e,f,g,h){"use strict";function i(j,k){h(k.isCollapsed());var l=k.getAnchorKey(),m=k.getAnchorOffset(),n=j.getBlockMap(),o=n.get(l),p=o.getText(),q=o.getCharacterList(),r=o.merge({text:p.slice(0,m),characterList:q.slice(0,m)}),s=g(),t=r.merge({key:s,text:p.slice(m),characterList:q.slice(m)}),u=n.toSeq().takeUntil(function(x){return x===o;}),v=n.toSeq().skipUntil(function(x){return x===o;}).rest(),w=u.concat([[r.getKey(),r],[t.getKey(),t]],v).toOrderedMap();return j.merge({blockMap:w,selectionBefore:k,selectionAfter:k.merge({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,isBackward:false})});}e.exports=i;},null);
__d("DocumentModifierExperimental",["CharacterMetadata","ComposedInlineStyle","ContentStateInlineStyle","DocumentRemovalDirection","applyEntityToContentState","getCharacterRemovalRangeExperimental","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","invariant","removeEntitiesAtEdges","removeRangeFromContentState","setBlockTypeForContentState","splitBlockInContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){"use strict";var u=h.NONE,v={replaceText:function(w,x,y,z,aa){if(z===(void 0))z=u;if(aa===(void 0))aa=null;var ba=q(w,x),ca=r(ba,x),da;if(z===u&&aa===null){da=g.EMPTY;}else da=new g({style:z,entity:aa});return o(ca,ca.getSelectionAfter(),y,da);},insertText:function(w,x,y,z,aa){p(x.isCollapsed());if(z===(void 0))z=u;if(aa===(void 0))aa=null;var ba;if(z===u&&aa===null){ba=g.EMPTY;}else ba=new g({style:z,entity:aa});var ca=q(w,x);return o(ca,ca.getSelectionAfter(),y,ba);},moveText:function(w,x,y){var z=m(w,x),aa=v.removeRange(w,x,j.BACKWARD);return v.replaceWithFragment(aa,y,z);},replaceWithFragment:function(w,x,y){var z=q(w,x),aa=r(z,x);return n(aa,aa.getSelectionAfter(),y);},removeRange:function(w,x,y){if(x.getAnchorKey()===x.getFocusKey()){var z=x.getAnchorKey(),aa=x.getStartOffset(),ba=x.getEndOffset(),ca=w.getBlockForKey(z),da=ca.getEntityAt(aa),ea=ca.getEntityAt(ba-1);if(da&&da===ea){var fa=l(ca,x,y);return r(w,fa);}}var ga=q(w,x);return r(ga,x);},splitBlock:function(w,x){var y=q(w,x),z=r(y,x);return t(z,z.getSelectionAfter());},applyInlineStyle:function(w,x,y){return i.add(w,x,y);},removeInlineStyle:function(w,x,y){return i.remove(w,x,y);},setBlockType:function(w,x,y){return s(w,x,y);},applyEntity:function(w,x,y){var z=q(w,x);return k(z,x,y);}};e.exports=v;},null);
__d("EditorChangeType",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";var h=g({UNDO:true,REDO:true,CHANGE_SELECTION:true,INSERT_CHARACTERS:true,BACKSPACE_CHARACTER:true,DELETE_CHARACTER:true,REMOVE_RANGE:true,SPLIT_BLOCK:true,INSERT_FRAGMENT:true,CHANGE_INLINE_STYLE:true,CHANGE_BLOCK_TYPE:true,APPLY_ENTITY:true,RESET_BLOCK:true,ADJUST_DEPTH:true});e.exports=h;},null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=g,k=j.List,l=j.Repeat,m=j.Record,n=h.thatReturnsTrue,o='-',p=m({start:null,end:null}),q=m({start:null,end:null,decoratorKey:null,leaves:null}),r={generate:function(u,v){var w=u.getLength();if(!w)return k.of(new q({start:0,end:0,decoratorKey:null,leaves:k.of(new p({start:0,end:0}))}));var x=[],y=v?v.getDecorations(u):k(l(null,w)),z=u.getCharacterList();i(y,t,n,function(aa,ba){x.push(new q({start:aa,end:ba,decoratorKey:y.get(aa),leaves:s(z.slice(aa,ba),aa)}));});return k(x);},getFingerprint:function(u){return u.map(function(v){var w=v.get('decoratorKey'),x=w!==null?w+'.'+(v.get('end')-v.get('start')):'';return ''+x+'.'+v.get('leaves').size;}).join(o);}};function s(u,v){var w=[],x=u.map(function(y){return y.getStyle();});i(x,t,n,function(y,z){w.push(new p({start:y+v,end:z+v}));});return k(w);}function t(u,v){return u===v;}e.exports=r;},null);
__d("EditorState",["BlockTree","ComposedInlineStyle","EditorChangeType","immutable","SelectionState"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=j.Record({allowUndo:true,currentContent:null,decorator:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:null,selection:null,treeMap:null,undoStack:null});m.create=function(v){v.treeMap=o(v.currentContent,v.decorator);return new m(new l(v));};m.set=function(v,w){var x=v.getImmutable().withMutations(function(y){var z=y.get('decorator'),aa=z;if(w.decorator===null){aa=null;}else if(w.decorator)aa=w.decorator;var ba=w.currentContent||v.getCurrentContent();if(aa!==z){var ca=y.get('treeMap'),da;if(aa&&z){da=q(ba.getBlockMap(),ca,aa,z);}else da=o(ba,aa);y.merge({decorator:aa,treeMap:da,nativelyRenderedContent:null});return;}var ea=v.getCurrentContent();if(ba!==ea)y.set('treeMap',p(v,ba.getBlockMap(),aa));y.merge(w);});return new m(x);};m.prototype.toJS=function(){return this.getImmutable().toJS();};m.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};m.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};m.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};m.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};m.prototype.getSelection=function(){return this.getImmutable().get('selection');};m.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};m.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};m.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};m.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x);};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(['treeMap',v]);};m.prototype.isAtDocumentStart=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0);};m.prototype.isAtDocumentEnd=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y);};m.acceptSelection=function(v,w){return n(v,w,false);};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set('hasFocus',true);return n(v,w,true);};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new k({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}));};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection());};m.push=function(v,w,x){if(v.getCurrentContent()===w)return v;var y=x!==i.INSERT_CHARACTERS;if(!v.getAllowUndo())return m.set(v,{currentContent:w,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var z=v.getSelection(),aa=v.getCurrentContent(),ba=v.getUndoStack(),ca=w;if(z!==aa.getSelectionAfter()||r(v,x)){ba=ba.push(aa);ca=ca.set('selectionBefore',z);}else if(x===i.INSERT_CHARACTERS||x===i.BACKSPACE_CHARACTER||x===i.DELETE_CHARACTER)ca=ca.set('selectionBefore',aa.getSelectionBefore());return m.set(v,{currentContent:ca,undoStack:ba,redoStack:j.Stack(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent();return m.set(v,{currentContent:x,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:i.UNDO,nativelyRenderedContent:null,selection:y.getSelectionBefore()});};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent();return m.set(v,{currentContent:x,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:i.REDO,nativelyRenderedContent:null,selection:x.getSelectionAfter()});};function m(v){this.$EditorState0=v;}m.prototype.getImmutable=function(){return this.$EditorState0;};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null});}function o(v,w){return v.getBlockMap().map(function(x){return g.generate(x,w);});}function p(v,w,x){var y=v.getCurrentContent().getBlockMap(),z=v.getImmutable().get('treeMap');return z.merge(w.toSeq().filter(function(aa,ba){return aa!==y.get(ba);}).map(function(aa){return g.generate(aa,x);}));}function q(v,w,x,y){return w.merge(v.toSeq().filter(function(z){return (x.getDecorations(z)!==y.getDecorations(z));}).map(function(z){return g.generate(z,x);}));}function r(v,w){var x=v.getLastChangeType();return (w!==x||(w!==i.INSERT_CHARACTERS&&w!==i.BACKSPACE_CHARACTER&&w!==i.DELETE_CHARACTER));}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x);}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x);}function u(v,w){var x=v.getBlockBefore(w),y;while(x){y=x.getLength();if(y)return x.getInlineStyleAt(y-1);x=v.getBlockBefore(x.getKey());}return h.NONE;}e.exports=m;},null);
__d("AbstractTextEditorPlaceholder.Experimental.react",["EditorState","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h,k=j.PropTypes,l=h.createClass({displayName:"AbstractTextEditorPlaceholder",propTypes:{editorState:k.instanceOf(g).isRequired,text:k.string.isRequired},shouldComponentUpdate:function(m,n){if(this.props.text!==m.text)return true;var o=this.props.editorState,p=m.editorState,q=o.getSelection(),r=p.getSelection();return (q.getHasFocus()!==r.getHasFocus());},render:function(){var m=this.props.editorState.getSelection().getHasFocus(),n=(("_5ywb")+(m?' '+"_5ywc":''));return (h.createElement("div",{className:n},h.createElement("div",{className:"_3br6"},this.props.text)));}});e.exports=l;},null);
__d("DocumentCommands",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({UNDO:true,REDO:true,DELETE:true,DELETE_WORD:true,BACKSPACE:true,BACKSPACE_WORD:true,BACKSPACE_TO_END_OF_BLOCK:true,BOLD:true,ITALIC:true,UNDERLINE:true,CODE:true,INSERT_BLOCK_DELIMITER:true,TRANSPOSE_CHARACTERS:true,MOVE_SELECTION_TO_START_OF_BLOCK:true,MOVE_SELECTION_TO_END_OF_BLOCK:true,SECONDARY_CUT:true,SECONDARY_PASTE:true});e.exports=h;},null);
__d("getDefaultKeyBinding",["DocumentCommands","Keys","UserAgent"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=i.isPlatform('Mac OS X'),k=i.isPlatform('Windows'),l=i.isBrowser('Firefox'),m=j&&l&&l<29;function n(u){return u.ctrlKey&&!u.altKey;}function o(u){return j?(u.metaKey&&!u.altKey):n(u);}function p(u){return (j&&u.altKey)||n(u);}function q(u){if(o(u))return u.shiftKey?g.REDO:g.UNDO;}function r(u){if(k&&u.shiftKey)return null;return p(u)?g.DELETE_WORD:g.DELETE;}function s(u){if(o(u)&&j)return g.BACKSPACE_TO_END_OF_BLOCK;return p(u)?g.BACKSPACE_WORD:g.BACKSPACE;}function t(u){switch(u.keyCode){case 66:return o(u)?g.BOLD:null;case 68:return n(u)?g.DELETE:null;case 72:return n(u)?g.BACKSPACE:null;case 73:return o(u)?g.ITALIC:null;case 74:return o(u)?g.CODE:null;case 75:if(!k&&n(u))return g.SECONDARY_CUT;return null;case 79:return n(u)?g.INSERT_BLOCK_DELIMITER:null;case 84:return j&&n(u)?g.TRANSPOSE_CHARACTERS:null;case 85:if(j&&n(u))return g.BACKSPACE_TO_END_OF_BLOCK;return o(u)?g.UNDERLINE:null;case 87:return j&&n(u)?g.BACKSPACE_WORD:null;case 89:if(n(u))return k?g.REDO:g.SECONDARY_PASTE;return null;case 90:return q(u)||null;case h.DELETE:return r(u);case h.BACKSPACE:return s(u);case h.LEFT:return (m&&o(u)?g.MOVE_SELECTION_TO_START_OF_BLOCK:null);case h.RIGHT:return (m&&o(u)?g.MOVE_SELECTION_TO_END_OF_BLOCK:null);default:return null;}}e.exports=t;},null);
__d("AbstractTextEditorProps.Experimental",["EditorState","React","emptyFunction","getDefaultKeyBinding"],function(a,b,c,d,e,f,g,h,i,j){var k=i.thatReturns(''),l=i.thatReturns(null),m=h,n=m.PropTypes,o={propTypes:{editorState:n.instanceOf(g).isRequired,placeholder:n.string,textAlignment:n.oneOf(['left','center','right']),blockRendererFn:n.func,blockStyleFn:n.func,inlineStyleFn:n.func,keyBindingFn:n.func,readOnly:n.bool,spellCheck:n.bool,stripPastedStyles:n.bool,handleReturn:n.func,handleKeyCommand:n.func,handleBeforeInput:n.func,handlePastedFiles:n.func,onEscape:n.func,onTab:n.func,onUpArrow:n.func,onDownArrow:n.func,onBlur:n.func,onFocus:n.func},getDefaultProps:function(){return {blockRendererFn:l,blockStyleFn:k,inlineStyleFn:k,keyBindingFn:j,readOnly:false,spellCheck:false,stripPastedStyles:false};}};e.exports=o;},null);
__d("isSelectionAtLeafStartExperimental",[],function(a,b,c,d,e,f){"use strict";function g(h){var i=h.getSelection(),j=i.getAnchorKey(),k=h.getBlockTree(j),l=i.getStartOffset(),m=false;k.some(function(n){if(l===n.get('start')){m=true;return true;}if(l<n.get('end'))return n.get('leaves').some(function(o){var p=o.get('start');if(l===p){m=true;return true;}if(l<p)return false;});});return m;}e.exports=g;},null);
__d("TextEditorCompositionHandler.Experimental",["ComposedInlineStyle","DocumentModifierExperimental","EditorChangeType","EditorState","Keys","isSelectionAtLeafStartExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.NONE,n=20,o={onBeforeInput:function(p){this._textInputData=(this._textInputData||'')+p.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(p){this._resolved=false;this._stillComposing=false;setTimeout(function(){if(!this._resolved)o.resolveComposition.call(this);}.bind(this),n);},onKeyDown:function(p){if(p.which===k.RIGHT||p.which===k.LEFT)p.preventDefault();},onKeyPress:function(p){if(p.which===k.RETURN)p.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var p=this._textInputData;this._textInputData='';var q=j.set(this.props.editorState,{inCompositionMode:false}),r=!p||l(q);if(r)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(p){var s=h.replaceText(q.getCurrentContent(),q.getSelection(),p,m,null);this.update(j.push(q,s,i.INSERT_CHARACTERS));return;}if(r)this.update(j.set(q,{nativelyRenderedContent:null,forceSelection:true}));}};e.exports=o;},null);
__d("DocumentOffsetKey",[],function(a,b,c,d,e,f){var g='-',h={encode:function(i,j,k){return i+g+j+g+k;},decode:function(i){var j=i.split(g),k=j[0],l=j[1],m=j[2];return {blockKey:k,decoratorKey:parseInt(l,10),leafKey:parseInt(m,10)};}};e.exports=h;},null);
__d("ElementForBlockType",["ComposedBlockType"],function(a,b,c,d,e,f,g){var h={getElement:function(i){switch(i){case g.HEADER_ONE:return 'h2';case g.HEADER_TWO:return 'h3';case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'li';case g.BLOCKQUOTE:return 'blockquote';case g.MEDIA:return 'figure';default:return 'div';}},getWrapperElement:function(i){switch(i){case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return 'ul';case g.CODE:return 'pre';default:return null;}}};e.exports=h;},null);
__d("ContentBlock",["ComposedBlockType","ComposedInlineStyle","immutable","findRangesImmutable"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=g.UNSTYLED,l=h.NONE,m=i.Record({key:null,type:k,text:'',characterList:i.List(),depth:0});for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(){if(m!==null)m.apply(this,arguments);}p.prototype.getKey=function(){return this.get('key');};p.prototype.getType=function(){return this.get('type');};p.prototype.getText=function(){return this.get('text');};p.prototype.getCharacterList=function(){return this.get('characterList');};p.prototype.getLength=function(){return this.getText().length;};p.prototype.getDepth=function(){return this.get('depth');};p.prototype.getInlineStyleAt=function(s){var t=this.getCharacterList().get(s);return t?t.getStyle():l;};p.prototype.getEntityAt=function(s){var t=this.getCharacterList().get(s);return t?t.getEntity():null;};p.prototype.findStyleRanges=function(s,t){j(this.getCharacterList(),q,s,t);};p.prototype.findEntityRanges=function(s,t){j(this.getCharacterList(),r,s,t);};p.prototype.getInlineStyles=function(){return this.getCharacterList().map(function(s){return s.getStyle();});};p.prototype.getEntities=function(){return this.getCharacterList().map(function(s){return s.getEntity();});};function q(s,t){return s.getStyle()===t.getStyle();}function r(s,t){return s.getEntity()===t.getEntity();}e.exports=p;},null);
__d("DocumentCharacters",[],function(a,b,c,d,e,f){var g={BLOCK_DELIMITER:'\u000D',SOFT_NEWLINE:'\u000A',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};e.exports=g;},null);
__d("TextEditorTextNode.react",["React","UserAgent_DEPRECATED","getTextContentAccessor"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=h.ie()<=11,k=i();function l(p){return j?p[k]==='\n':p.tagName==='BR';}var m=j?g.createElement("span",{key:"A"},'\n'):g.createElement("br",{key:"A"}),n=j?g.createElement("span",{key:"B"},'\n'):g.createElement("br",{key:"B"}),o=g.createClass({displayName:"TextEditorTextNode",shouldComponentUpdate:function(p){var q=this.getDOMNode(),r=p.children==='';if(r)return !l(q);return q[k]!==p.children;},componentWillUpdate:function(){this.forceFlag=!this.forceFlag;},render:function(){if(this.props.children==='')return this.forceFlag?m:n;return g.createElement("span",{key:this.forceFlag?'A':'B'},this.props.children);}});e.exports=o;},null);
__d("DocumentStringKey",[],function(a,b,c,d,e,f){var g={stringify:function(h){return '_'+h;},unstringify:function(h){return h.slice(1);}};e.exports=g;},null);
__d("encodeEntityRanges",["DocumentStringKey","findRanges"],function(a,b,c,d,e,f,g,h){function i(j,k){var l=[];h(j,function(m){return typeof m=='string';},function(m,n){var o=j[m];l.push({offset:m,length:n-m,key:Number(k[g.stringify(o)])});});return l;}e.exports=i;},null);
__d("encodeInlineStyleRanges",["findRanges","getObjectValues","ComposedInlineStyle"],function(a,b,c,d,e,f,g,h,i){var j=[];function k(m,n){var o=[],p=m.map(function(q){return q&n;});g(p,function(q){return !!q;},function(q,r){o.push({offset:q,length:r-q,style:n});});return o;}function l(m){var n=h(i).filter(function(o){return !!o;});return Array.prototype.concat.apply(j,n.map(function(o){return k(m,o);}));}e.exports=l;},null);
__d("encodeBlocksExperimental",["DocumentEntity","DocumentStringKey","encodeEntityRanges","encodeInlineStyleRanges","isEmpty","mapObject"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(n){var o=n.getBlockMap(),p=0,q={},r=[];o.forEach(function(u,v){u.findEntityRanges(function(y){return y.getEntity()!==null;},function(y,z){var aa=h.stringify(u.getEntityAt(y));if(!q.hasOwnProperty(aa))q[aa]=''+(p++);});var w=u.getInlineStyles().toArray(),x=u.getEntities().toArray();r.push({key:v,text:u.getText(),type:u.getType(),depth:u.getDepth(),inlineStyleRanges:j(w),entityRanges:i(x,q)});});var s=Object.keys(q),t={};s.forEach(function(u,v){var w=g.get(h.unstringify(u)),x=null,y=null,z=w.getData();if(z){x=z.id||null;y=l(z,function(aa){return ''+aa;});delete y.id;}t[v]={id:x,type:w.getType(),data:k(y)?(void 0):y};});return {entityMap:t,blocks:r};}e.exports=m;},null);
__d("TextEditorBanzai",["BanzaiScuba","containsNode","encodeBlocksExperimental"],function(a,b,c,d,e,f,g,h,i){var j=3,k={logSetSelectionError:function(q,r){var s=n();s.addNormal('error_type','setSelection');var t=r,u=t[0],v=t[1],w=t[2],x=t[3],y=t[4];s.addNormal('selection_state',u.serialize());var z=l(v);s.addNormal('node_html',z);s.addNormal('selection_params','Key: '+w+', Start: '+x+', End: '+y);s.addNormal('error_text',q.message);s.post();},logGetSelectionError:function(q,r){var s=n();s.addNormal('error_type','getSelection');var t=r,u=t[0],v=t[1],w=u.getCurrentContent(),x=i(w),y=x.blocks;y.forEach(function(ca){ca.length=ca.text.length;delete ca.text;});var z=u.getSelection();s.addNormal('content_state',JSON.stringify(y));s.addNormal('selection_state',z.serialize());s.addNormal('error_text',q.message);var aa=l(v);s.addNormal('node_html',aa);var ba=o(v);s.addNormal('dom_selection',ba);s.post();}};function l(q){if(!q)return '[empty]';var r=m(q);return r.nodeType===j?r.textContent:r.innerHTML;}function m(q){if(q.nodeType===j){var r=q.textContent.length;return document.createTextNode('[text '+r+']');}var s=q.cloneNode(),t=q.childNodes;for(var u=0;u<t.length;u++)s.appendChild(m(t[u]));return s;}function n(){return new g('text_editor_error_log',null,{addBrowserFields:true});}function o(q){if(!a.getSelection)return '[not available]';var r=a.getSelection(),s=r.anchorNode,t=r.anchorOffset,u=r.focusNode,v=r.focusOffset;s=p(s,q);u=p(u,q);return JSON.stringify({anchorNode:s,anchorOffset:t,focusNode:u,focusOffset:v});}function p(q,r){if(!q)return '[none]';if(!h(r,q))return '[outside root]';return l(q);}e.exports=k;},null);
__d("TextEditorLeaf.Experimental.react",["DocumentCharacters","React","SelectionState","TextEditorTextNode.react","setDocumentSelectionExperimental"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=h,m=l.PropTypes,n=g.SOFT_NEWLINE,o=3,p=h.createClass({displayName:"TextEditorLeaf",propTypes:{selection:m.instanceOf(i),start:m.number.isRequired,blockKey:m.string.isRequired,text:m.string.isRequired,style:m.number,inlineStyleFn:m.func.isRequired,isLast:m.bool.isRequired},_setSelection:function(){var q=this.props.selection;if(q==null||!q.getHasFocus())return;var r=this.props.start,s=r+this.props.text.length,t=this.props.blockKey;if(!q.hasEdgeWithin(t,r,s))return;var u=this.getDOMNode(),v=u.firstChild,w;if(v.nodeType===o){w=v;}else if(v.tagName==='BR'){w=u;}else w=v.firstChild;k(q,w,t,r,s);},shouldComponentUpdate:function(q){return (this.refs.leaf.getDOMNode().textContent!==q.text||q.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var q=this.props.text;if(q.endsWith(n)&&this.props.isLast)q+=n;var r;if(this.props.style)r=this.props.inlineStyleFn(this.props.style);return (h.createElement("span",{"data-offset-key":this.props.offsetKey,className:r,ref:"leaf"},h.createElement(j,null,q)));}});e.exports=p;},null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],function(a,b,c,d,e,f,g,h){"use strict";function i(j){var k=g();if(j===window)j=k;var l=h(j),m=j===k?document.documentElement:j,n=j.scrollWidth-m.clientWidth,o=j.scrollHeight-m.clientHeight;l.x=Math.max(0,Math.min(l.x,n));l.y=Math.max(0,Math.min(l.y,o));return l;}e.exports=i;},null);
__d("TextEditorBlock.Experimental.react",["AbstractDocumentDecorator","ContentBlock","DocumentOffsetKey","ElementForBlockType","React","SelectionState","Style","TextEditorLeaf.Experimental.react","UnicodeBidiDirection","cx","getElementPosition","getScrollPosition","getViewportDimensions","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=k,v=u.PropTypes,w=o.LTR,x=o.RTL,y=10,z=k.createClass({displayName:"TextEditorBlock",propTypes:{block:v.instanceOf(h).isRequired,tree:v.object.isRequired,selection:v.instanceOf(l).isRequired,decorator:v.instanceOf(g),forceSelection:v.bool.isRequired,direction:v.string.isRequired,blockProps:v.object,startIndent:v.bool,blockStyleFn:v.func.isRequired,inlineStyleFn:v.func.isRequired},shouldComponentUpdate:function(ba){return (this.props.block!==ba.block||this.props.tree!==ba.tree||this.props.direction!==ba.direction||(aa(ba.selection,ba.block.getKey())&&ba.forceSelection));},componentDidMount:function(){var ba=this.props.selection,ca=ba.getEndKey();if(!ba.getHasFocus()||ca!==this.props.block.getKey())return;var da=this.getDOMNode(),ea=m.getScrollParent(da),fa=r(ea),ga;if(ea===window){var ha=q(da),ia=ha.y+ha.height,ja=s().height;ga=ia-ja;if(ga>0)window.scrollTo(fa.x,fa.y+ga+y);}else{var ka=da.offsetHeight+da.offsetTop,la=ea.offsetHeight+fa.y;ga=ka-la;if(ga>0)ea.scrollTop+=ga+y;}},_renderChildren:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getText(),ea=this.props.tree.size-1,fa=aa(this.props.selection,ca);return this.props.tree.map(function(ga,ha){var ia=ga.get('leaves'),ja=ia.size-1,ka=ia.map(function(pa,qa){var ra=i.encode(ca,ha,qa),sa=pa.get('start'),ta=pa.get('end');return (k.createElement(n,{key:ra,offsetKey:ra,blockKey:ca,start:sa,selection:fa?this.props.selection:null,forceSelection:this.props.forceSelection,text:da.slice(sa,ta),style:ba.getInlineStyleAt(sa),inlineStyleFn:this.props.inlineStyleFn,isLast:ha===ea&&qa===ja}));}.bind(this)).toArray(),la=ga.get('decoratorKey');if(la==null)return ka;var ma=this.props.decorator.getComponentForKey(la);if(!ma)return ka;var na=this.props.decorator.getPropsForKey(la),oa=i.encode(ca,ha,0);return (k.createElement(ma,k.__spread({},na,{key:oa,entityKey:ba.getEntityAt(ga.get('start')),offsetKey:oa}),ka));}.bind(this)).toArray();},render:function(){var ba=this.props.block,ca=ba.getKey(),da=ba.getDepth(),ea=j.getElement(ba.getType()),fa=t(this.props.blockStyleFn(ba.getType()),(("_209g")+(this.props.direction===w?' '+"_2vxa":'')+(this.props.direction===x?' '+"_2vxb":'')));if(ea==='li'){var ga=this.props.startIndent;fa=t(fa,((ga&&da===0?"_2yj9":'')+(ga&&da===1?' '+"_2yja":'')+(ga&&da===2?' '+"_2yjb":'')+(ga&&da===3?' '+"_2yje":'')+(ga&&da===4?' '+"_2yjf":'')+(da===0?' '+"_2yjg":'')+(da===1?' '+"_2yjh":'')+(da===2?' '+"_2yji":'')+(da===3?' '+"_2yjj":'')+(da===4?' '+"_2yjn":'')));}var ha=Object.assign({'data-block':true,'data-offset-key':i.encode(ca,0,0),className:fa},this.props.blockProps);return (k.createElement(ea,k.__spread({},ha),this._renderChildren()));}});function aa(ba,ca){return (ba.getAnchorKey()===ca||ba.getFocusKey()===ca);}e.exports=z;},null);
__d("UnicodeBidiService",["Locale","UnicodeBidi","UnicodeBidiDirection","invariant"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l){if(!l)l=g.getDirection();j(i.isStrong(l));this.defaultDir=l;this.reset();}k.prototype.reset=function(){this.lastDir=this.defaultDir;};k.prototype.getDirection=function(l){this.lastDir=h.getDirection(l,this.lastDir);return this.lastDir;};e.exports=k;},null);
__d("TextEditorContents.react",["DocumentOffsetKey","EditorState","ElementForBlockType","React","TextEditorBlock.Experimental.react","UnicodeBidiService","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=j,o=n.PropTypes,p=j.createClass({displayName:"TextEditorContents",propTypes:{bidiService:o.instanceOf(l).isRequired,blockRendererFn:o.func,blockStyleFn:o.func.isRequired,editorState:o.instanceOf(h).isRequired,inlineStyleFn:o.func.isRequired},shouldComponentUpdate:function(r){var s=this.props.editorState,t=r.editorState,u=s.getSelection().getHasFocus(),v=t.getSelection().getHasFocus();if(u!==v)return true;var w=t.getNativelyRenderedContent(),x=s.isInCompositionMode(),y=t.isInCompositionMode();if(s===t||(w!==null&&t.getCurrentContent()===w)||(x&&y))return false;var z=s.getCurrentContent(),aa=t.getCurrentContent(),ba=s.getDecorator(),ca=t.getDecorator();return (x!==y||z!==aa||ba!==ca||t.mustForceSelection());},render:function(){var r=this.props.editorState,s=r.getCurrentContent(),t=r.getSelection(),u=r.mustForceSelection(),v=s.getBlocksAsArray(),w=[],x=null,y=null,z=null,aa,ba,ca,da,ea,fa,ga,ha;for(var ia=0;ia<v.length;ia++){ca=v[ia];da=ca.getKey();ea=ca.getText();fa=ca.getType();var ja=this.props.blockRendererFn(ca)||q,ka=ja.component,la=ja.props;aa=ka;ga=j.createElement(aa,{key:da,tree:r.getBlockTree(da),decorator:r.getDecorator(),block:ca,selection:t,forceSelection:u,direction:this.props.bidiService.getDirection(ea),blockProps:la,startIndent:z===null||ca.getDepth()>z,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ha=i.getWrapperElement(fa);if(ha){if(y!==ha){ba=[];x=j.createElement(ha,{className:"_4noe",key:da+'-wrap',"data-offset-key":g.encode(da,0,0)},ba);y=ha;w.push(x);}z=ca.getDepth();ba.push(ga);}else{ba=null;x=null;y=null;z=null;w.push(ga);}}return j.createElement("div",{"data-contents":"true"},w);}}),q={component:k,props:null};e.exports=p;},null);
__d("DocumentRemovableWord",["TokenizeUtil"],function(a,b,c,d,e,f,g){var h=g.getPunctuation();h=h.replace("\'","").slice(1,-1);var i='\\s'+h,j='^('+'['+i+']*'+'[^'+i+']+'+'|['+i+']+'+')',k=new RegExp(j),l='('+'[^'+i+']+'+'['+i+']*'+'|['+i+']+'+')$',m=new RegExp(l);function n(p,q){var r=q?m.exec(p):k.exec(p);return r?r[0]:null;}var o={getBackward:function(p){return n(p,true);},getForward:function(p){return n(p,false);}};e.exports=o;},null);
__d("TextEditorModes",[],function(a,b,c,d,e,f){var g={EDIT:0,COMPOSITE:1,DRAG:2,RENDER:3,CUT:4};e.exports=g;},null);
__d("TextEditorPasteHandler",["CharacterMetadata","ComposedBlockType","ComposedInlineStyle","ContentBlock","DocumentCharacters","immutable","arrayContains","fillArray","generateBlockKey","getSafeBodyFromHTML"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h,r=q.UNSTYLED,s=i,t=s.BOLD,u=s.ITALIC,v=s.UNDERLINE,w=s.NONE,x=g,y=x.EMPTY,z=k,aa=z.BLOCK_DELIMITER,ba=z.SOFT_NEWLINE,ca=l,da=ca.List,ea=ca.Repeat,fa='&nbsp;',ga=' ',ha=new RegExp(aa,'g'),ia=new RegExp(ba,'g'),ja=new RegExp(fa,'g'),ka=['p','h1','h2','h3','li','blockquote'],la={strong:t,b:t,em:u,i:u,u:v};function ma(){return {text:'',inlines:[],blocks:[]};}function na(){return {text:ga,inlines:[w],blocks:[]};}function oa(){return {text:ba,inlines:[w],blocks:[]};}function pa(xa){return {text:aa,inlines:[w],blocks:[xa]};}function qa(xa,ya){switch(xa){case 'h1':return h.HEADER_ONE;case 'h2':return h.HEADER_TWO;case 'li':if(ya==='ol')return h.ORDERED_LIST_ITEM;return h.UNORDERED_LIST_ITEM;case 'blockquote':return h.BLOCKQUOTE;case 'pre':return h.CODE;default:return h.UNSTYLED;}}function ra(xa,ya,za){var ab=la[xa];if(ab){za|=ab;}else if(ya.style){za|=ya.style.fontWeight==='bold'?t:0;za|=ya.style.fontStyle==='italic'?u:0;za|=ya.style.textDecoration==='underline'?v:0;}return za;}function sa(xa,ya){if(xa.text.slice(-1)===aa&&ya.text.slice(0,1)===aa){xa.text=xa.text.slice(0,-1);xa.inlines.pop();xa.blocks.pop();}if(xa.text.slice(-1)===aa&&(ya.text===ga||ya.text===ba))return xa;return {text:xa.text+ya.text,inlines:xa.inlines.concat(ya.inlines),blocks:xa.blocks.concat(ya.blocks)};}function ta(xa){return ka.some(function(ya){return xa.indexOf('<'+ya)!==-1;});}function ua(xa,ya,za,ab,bb){var cb=xa.nodeName.toLowerCase(),db=false;if(cb==="#text"){var eb=xa.textContent;if(eb.trim()==='')return na();return {text:eb,inlines:n(eb.length,ya),blocks:[]};}if(cb==="br")return oa();var fb=ma(),gb;ya=ra(cb,xa,ya);if(cb==="ul"||cb==="ol")za=cb;if(!ab&&m(bb,cb)){fb=pa(qa(cb,za));ab=true;db=true;}xa=xa.firstChild;while(xa){gb=ua(xa,ya,za,ab,bb);fb=sa(fb,gb);xa=xa.nextSibling;}if(db)fb=sa(fb,pa(r));return fb;}function va(xa){xa=xa.trim().replace(ha,'').replace(ia,ga).replace(ja,ga);var ya=p(xa);if(!ya)return null;var za=ta(xa)?ka:['div'],ab=ua(ya,w,'ul',false,za);if(ab.text.indexOf(aa)===0)ab={text:ab.text.slice(1),inlines:ab.inlines.slice(1),blocks:ab.blocks};if(ab.text.slice(-1)===aa){ab.text=ab.text.slice(0,-1);ab.inlines=ab.inlines.slice(0,-1);ab.blocks.pop();}if(ab.blocks.length===0)ab.blocks.push(r);if(ab.text.split(aa).length===ab.blocks.length+1)ab.blocks.unshift(r);return ab;}var wa={processHTML:function(xa){return va(xa);},processHTMLAsImmutable:function(xa,ya){var za=va(xa);if(!za)return null;var ab=0;return za.text.split(aa).map(function(bb,cb){var db;if(ya){db=da(ea(y,bb.length));}else{var eb=ab+bb.length;db=da(za.inlines.slice(ab,eb).map(function(fb){return new g({style:fb});}));ab=eb+1;}return new j({key:o(),type:ya?r:za.blocks[cb],text:bb,characterList:db});});},processText:function(xa){return {text:xa,inlines:n(xa.length,w),blocks:n(xa.split(aa).length,r)};},processTextAsImmutable:function(xa){return xa.map(function(ya){return new j({key:o(),type:r,text:ya,characterList:da(ea(y,ya.length))});});}};e.exports=wa;},null);
__d("getSelectionOffsetKeyForNode",[],function(a,b,c,d,e,f){function g(h){return h.getAttribute&&h.getAttribute('data-offset-key');}e.exports=g;},null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],function(a,b,c,d,e,f,g){function h(i){while(i&&i!==document.documentElement){var j=g(i);if(j!=null)return j;i=i.parentNode;}return null;}e.exports=h;},null);
__d("getUpdatedSelectionState",["DocumentOffsetKey"],function(a,b,c,d,e,f,g){function h(i,j,k,l,m){var n=i.getSelection(),o=g.decode(j),p=o.blockKey,q=i.getBlockTree(p).getIn([o.decoratorKey,'leaves',o.leafKey]),r=g.decode(l),s=r.blockKey,t=i.getBlockTree(s).getIn([r.decoratorKey,'leaves',r.leafKey]),u=q.get('start'),v=t.get('start'),w=q?u+k:null,x=t?v+m:null,y=(n.getAnchorKey()===p&&n.getAnchorOffset()===w&&n.getFocusKey()===s&&n.getFocusOffset()===x);if(y)return n;var z=false;if(p===s){var aa=q.get('end'),ba=t.get('end');if(v===u&&ba===aa){z=m<k;}else z=v<u;}else{var ca=i.getCurrentContent().getBlockMap().keySeq().skipUntil(function(da){return da===p||da===s;}).first();z=ca===s;}return n.merge({anchorKey:p,anchorOffset:w,focusKey:s,focusOffset:x,isBackward:z});}e.exports=h;},null);
__d("getDocumentSelectionExperimental",["DocumentCharacters","ErrorUtils","TextEditorBanzai","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=g.SOFT_NEWLINE;function o(u,v){var w=[u,v];return h.applyWithGuard(p,null,w,function(x){return i.logGetSelectionError(x,w);},'TextEditor:getSelection');}function p(u,v){var w=a.getSelection();if(w.rangeCount===0)return {selectionState:u.getSelection().set('hasFocus',false),needsRecovery:false};var x=w.anchorNode,y=w.focusNode,z=w.anchorOffset,aa=w.focusOffset,ba=x.nodeType===Node.TEXT_NODE,ca=y.nodeType===Node.TEXT_NODE;if(ba&&ca)return {selectionState:l(u,j(x),z,j(y),aa),needsRecovery:false};var da=null,ea=null;if(ba){da={key:j(x),offset:z};ea=s(v,y,aa);}else if(ca){ea={key:j(y),offset:aa};da=s(v,x,z);}else{da=s(v,x,z);ea=s(v,y,aa);}return {selectionState:l(u,da.key,da.offset,ea.key,ea.offset),needsRecovery:true};}function q(u){while(u.firstChild&&k(u.firstChild))u=u.firstChild;return u;}function r(u){while(u.lastChild&&k(u.lastChild))u=u.lastChild;return u;}function s(u,v,w){var x=j(v);m(x!=null||u===v||u.firstChild===v);if(u===v){v=v.firstChild;m(v.getAttribute('data-contents')==='true');if(w>0)w=v.childNodes.length;}if(w===0)return {key:x||k(q(v)),offset:0};var y=v.childNodes[w-1],z,aa;if(!k(y)){z=x;aa=t(y);}else{var ba=r(y);z=k(ba);aa=t(ba);}return {key:z,offset:aa};}function t(u){var v=u.textContent;return v===n?0:v.length;}e.exports=o;},null);
__d("getEntityKeyForSelection",["ComposedEntityMutability","DocumentEntity"],function(a,b,c,d,e,f,g,h){var i=g,j=i.MUTABLE;function k(m,n){var o;if(n.isCollapsed()){var p=n.getAnchorKey(),q=n.getAnchorOffset();if(q>0){o=m.getBlockForKey(p).getEntityAt(q-1);return l(o);}return null;}var r=n.getStartKey(),s=n.getStartOffset(),t=m.getBlockForKey(r);o=s===t.getLength()?null:t.getEntityAt(s);return l(o);}function l(m){if(m){var n=h.get(m);return n.getMutability()===j?m:null;}return null;}e.exports=k;},null);
__d("getTextContentFromFiles",["DocumentCharacters"],function(a,b,c,d,e,f,g){var h=g.BLOCK_DELIMITER,i=/\.textClipping$/,j={'text/plain':true,'text/html':true,'text/rtf':true};function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r);if(o==m.length)n(p.join(h));});});}function l(m,n){if(!a.FileReader||(m.type&&!(m.type in j))){n('');return;}if(m.type===''&&i.test(m.name)){n(m.name.replace(i,''));return;}var o=new FileReader();o.onload=function(){n(o.result);};o.onerror=function(){n('');};o.readAsText(m);}e.exports=k;},null);
__d("TextEditorEditHandler.Experimental",["BlockTree","DataTransfer","DocumentCharacters","DocumentCommands","DocumentModifierExperimental","DocumentOffsetKey","DocumentRemovableWord","DocumentRemovalDirection","EditorChangeType","EditorState","Keys","TextEditorModes","TextEditorPasteHandler","UnicodeUtils","UserAgent","areEqual","createOrderedMapFromBlockArray","findAncestorOffsetKey","getActiveElement","getContentStateFragment","getDocumentSelectionExperimental","getEntityKeyForSelection","getTextContentFromFiles","isSelectionAtLeafStartExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){"use strict";var ea=i.SOFT_NEWLINE,fa=u.isEngine('WebKit'),ga=null,ha={onFocus:function(ib){var jb=this.props.editorState,kb=jb.getSelection();if(kb.getHasFocus())return;var lb=kb.set('hasFocus',true);this.props.onFocus&&this.props.onFocus(ib);this.update(p.acceptSelection(jb,lb));},onBlur:function(ib){if(fa&&y()===document.body)a.getSelection().removeAllRanges();var jb=this.props.editorState,kb=jb.getSelection();if(!kb.getHasFocus())return;var lb=kb.set('hasFocus',false);this.props.onBlur&&this.props.onBlur(ib);this.update(p.acceptSelection(jb,lb));},onBeforeInput:function(ib){var jb=ib.data;if(!jb)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(jb)){ib.preventDefault();return;}var kb=this.props.editorState,lb=kb.getSelection();if(!lb.isCollapsed()){ib.preventDefault();this.update(la(kb,jb,kb.getCurrentInlineStyle(),ba(kb.getCurrentContent(),kb.getSelection())));return;}var mb=!da(kb),nb=la(kb,jb,kb.getCurrentInlineStyle(),ba(kb.getCurrentContent(),kb.getSelection()));if(!mb){ib.preventDefault();this.update(nb);return;}var ob=lb.getAnchorKey(),pb=kb.getBlockTree(ob),qb=g.getFingerprint(pb),rb=g.getFingerprint(nb.getBlockTree(ob));if(hb(jb)||qb!==rb){ib.preventDefault();}else nb=p.set(nb,{nativelyRenderedContent:nb.getCurrentContent()});this.update(nb);},onSelect:function(ib){if(this._blockSelectEvents)return;var jb=this.props.editorState,kb=aa(jb,this.refs.editorContainer.getDOMNode().firstChild),lb=kb.selectionState;if(lb!==jb.getSelection()){if(!!kb.needsRecovery){jb=p.forceSelection(jb,lb);}else jb=p.acceptSelection(jb,lb);this.update(jb);}},onKeyDown:function(ib){var jb=ib.which,kb=this.props.editorState;switch(jb){case q.RETURN:ib.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(ib))this.update(wa(kb));return;case q.ESC:ib.preventDefault();this.props.onEscape&&this.props.onEscape(ib);return;case q.TAB:this.props.onTab&&this.props.onTab(ib);return;case q.UP:this.props.onUpArrow&&this.props.onUpArrow(ib);return;case q.DOWN:this.props.onDownArrow&&this.props.onDownArrow(ib);return;}var lb=this.props.keyBindingFn(ib);if(!lb)return;ib.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(lb))return;if(lb===j.UNDO){ja(kb,this.update);return;}var mb=ia(lb,kb);if(mb!==kb)this.update(mb);},onCharacterData:function(ib){var jb=x(ib),kb=this.props.editorState,lb=kb.getSelection(),mb=kb.getCurrentContent(),nb=l.decode(jb),ob=nb.blockKey,pb=kb.getBlockTree(ob),qb=pb.getIn([nb.decoratorKey,'leaves',nb.leafKey]),rb=mb.getBlockForKey(ob);if(rb.getText().slice(qb.start,qb.end)===ib.textContent)return;var sb=kb.getSelection().merge({anchorOffset:qb.start,focusOffset:qb.end,isBackward:false}),tb=k.replaceText(mb,sb,ib.textContent,rb.getInlineStyleAt(qb.start),null),ub=aa(this.props.editorState,this.refs.editorContainer.getDOMNode().firstChild),vb=tb.merge({selectionBefore:lb,selectionAfter:ub.selectionState});this.update(p.push(kb,vb,o.INSERT_CHARACTERS));},onDragStart:function(ib){this._internalDrag=true;this.setMode(r.DRAG);},onDragOver:function(ib){this._internalDrag=false;this.setMode(r.DRAG);ib.preventDefault();},onCompositionStart:function(ib){this.setRenderGuard();this.captureEditorDOM();this.setMode(r.COMPOSITE);this.update(p.set(this.props.editorState,{inCompositionMode:true}));},onCut:function(ib){var jb=this.props.editorState,kb=jb.getSelection();if(kb.isCollapsed()){ib.preventDefault();return;}this.setRenderGuard();this.captureEditorDOM();db(jb,function(lb){this._clipboard=lb;this.setMode(r.CUT);setTimeout(function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(cb(jb));}.bind(this),0);}.bind(this));},onCopy:function(){db(this.props.editorState,function(ib){this._clipboard=ib;}.bind(this));},onPaste:function(ib){ib.preventDefault();var jb=new h(ib.clipboardData);if(!jb.isRichText()){var kb=jb.getFiles(),lb=jb.getText();if(kb.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(kb))return;ca(kb,function(wb){wb=wb||lb;if(!wb)return;var xb=wb.split(ea),yb=s.processTextAsImmutable(xb),zb=this.props.editorState,ac=w(yb),bc=k.replaceWithFragment(zb.getCurrentContent(),zb.getSelection(),ac);this.update(p.push(zb,bc,o.INSERT_FRAGMENT));}.bind(this));return;}}var mb,nb=jb.getText();if(nb)mb=nb.split(ea);if(this._clipboard){var ob=mb.filter(ab),pb=this._clipboard.toSeq().map(function(wb){return wb.getText();}).filter(ab).toArray(),qb=v(ob,pb);if(qb){this.update(bb(this.props.editorState,this._clipboard));return;}}var rb=jb.getHTML();if(rb){var sb=s.processHTMLAsImmutable(rb,this.props.stripPastedStyles);if(sb){var tb=w(sb);this.update(bb(this.props.editorState,tb));return;}}this._clipboard=null;if(mb){var ub=s.processTextAsImmutable(mb),vb=w(ub);this.update(bb(this.props.editorState,vb));}}};function ia(ib,jb){switch(ib){case j.UNDO:return ja(jb);case j.REDO:return ka(jb);case j.DELETE:return na(jb);case j.DELETE_WORD:return oa(jb);case j.BACKSPACE:return ra(jb);case j.BACKSPACE_WORD:return ua(jb);case j.BACKSPACE_TO_END_OF_BLOCK:return va(jb);case j.INSERT_BLOCK_DELIMITER:return wa(jb);case j.TRANSPOSE_CHARACTERS:return xa(jb);case j.MOVE_SELECTION_TO_START_OF_BLOCK:return ya(jb);case j.MOVE_SELECTION_TO_END_OF_BLOCK:return za(jb);case j.SECONDARY_CUT:return pa(jb);case j.SECONDARY_PASTE:return qa(jb);default:return jb;}}function ja(ib,jb){var kb=p.undo(ib);if(!ib.getNativelyRenderedContent()){jb(kb);return;}jb(p.set(ib,{nativelyRenderedContent:null}));setTimeout(function(){jb(kb);});}function ka(ib){return p.redo(ib);}function la(ib,jb,kb,lb){var mb=k.replaceText(ib.getCurrentContent(),ib.getSelection(),jb,kb,lb||null);return p.push(ib,mb,o.INSERT_CHARACTERS);}function ma(ib,jb,kb){var lb=ib.getSelection(),mb=ib.getCurrentContent(),nb=lb;if(lb.isCollapsed()){if(kb===n.FORWARD){if(ib.isAtDocumentEnd())return mb;}else if(ib.isAtDocumentStart())return mb;nb=jb(ib);if(nb===lb)return mb;}return k.removeRange(mb,nb,kb);}function na(ib){var jb=ma(ib,function(lb){var mb=lb.getSelection(),nb=lb.getCurrentContent(),ob=mb.getAnchorKey(),pb=mb.getAnchorOffset(),qb=nb.getBlockForKey(ob).getText()[pb];return ta(lb,qb?t.getUTF16Length(qb,0):1);},n.FORWARD);if(jb===ib.getCurrentContent())return ib;jb=jb.set('selectionBefore',ib.getSelection());var kb=ib.getSelection().isCollapsed()?o.DELETE_CHARACTER:o.REMOVE_RANGE;return p.push(ib,jb,kb);}function oa(ib){var jb=ma(ib,function(kb){var lb=kb.getSelection(),mb=lb.getStartOffset(),nb=lb.getStartKey(),ob=kb.getCurrentContent(),pb=ob.getBlockForKey(nb).getText().slice(mb),qb=m.getForward(pb)||'';return ta(kb,qb.length||1);},n.FORWARD);if(jb===ib.getCurrentContent())return ib;return p.push(ib,jb,o.REMOVE_RANGE);}function pa(ib){var jb=ib.getCurrentContent(),kb=ib.getSelection(),lb;if(kb.isCollapsed()){var mb=kb.getAnchorKey(),nb=jb.getBlockForKey(mb).getLength();if(nb===kb.getAnchorOffset())return ib;lb=kb.set('focusOffset',nb);}else lb=kb;ga=z(jb,lb);var ob=k.removeRange(jb,lb,n.FORWARD);if(ob===jb)return ib;return p.push(ib,ob,o.REMOVE_RANGE);}function qa(ib){return (ga?bb(ib,ga):ib);}function ra(ib){var jb=ma(ib,function(lb){var mb=lb.getSelection(),nb=lb.getCurrentContent(),ob=mb.getAnchorKey(),pb=mb.getAnchorOffset(),qb=nb.getBlockForKey(ob).getText()[pb-1];return sa(lb,qb?t.getUTF16Length(qb,0):1);},n.BACKWARD);if(jb===ib.getCurrentContent())return ib;jb=jb.set('selectionBefore',ib.getSelection());var kb=ib.getSelection().isCollapsed()?o.BACKSPACE_CHARACTER:o.REMOVE_RANGE;return p.push(ib,jb,kb);}function sa(ib,jb){var kb=ib.getSelection(),lb=ib.getCurrentContent(),mb=kb.getStartKey(),nb=kb.getStartOffset(),ob=mb,pb;if(jb>nb){var qb=lb.getKeyBefore(mb);ob=qb;var rb=lb.getBlockForKey(qb);pb=rb.getText().length;}else pb=nb-jb;return kb.merge({focusKey:ob,focusOffset:pb,isBackward:true});}function ta(ib,jb){var kb=ib.getSelection(),lb=kb.getStartKey(),mb=kb.getStartOffset(),nb=ib.getCurrentContent(),ob=lb,pb,qb=nb.getBlockForKey(lb);if(jb>(qb.getText().length-mb)){ob=nb.getKeyAfter(lb);pb=0;}else pb=mb+jb;return kb.merge({focusKey:ob,focusOffset:pb});}function ua(ib){var jb=ma(ib,function(kb){var lb=kb.getSelection(),mb=lb.getStartOffset();if(mb===0)return sa(kb,1);var nb=lb.getStartKey(),ob=kb.getCurrentContent(),pb=ob.getBlockForKey(nb).getText().slice(0,mb),qb=m.getBackward(pb)||'';return sa(kb,qb.length||1);},n.BACKWARD);if(jb===ib.getCurrentContent())return ib;return p.push(ib,jb,o.REMOVE_RANGE);}function va(ib){var jb=ma(ib,function(kb){var lb=kb.getSelection();if(lb.getStartOffset()===0)return sa(kb,1);return lb.merge({focusOffset:0,isBackward:true});},n.BACKWARD);if(jb===ib.getCurrentContent())return ib;return p.push(ib,jb,o.REMOVE_RANGE);}function wa(ib){var jb=k.splitBlock(ib.getCurrentContent(),ib.getSelection());return p.push(ib,jb,o.SPLIT_BLOCK);}function xa(ib){var jb=ib.getSelection();if(!jb.isCollapsed())return ib;var kb=jb.getAnchorOffset();if(kb===0)return ib;var lb=jb.getAnchorKey(),mb=ib.getCurrentContent(),nb=mb.getBlockForKey(lb),ob=nb.getLength();if(ob<=1)return ib;var pb,qb;if(kb===ob){pb=jb.set('anchorOffset',kb-1);qb=jb;}else{pb=jb.set('focusOffset',kb+1);qb=pb.set('anchorOffset',kb+1);}var rb=z(mb,pb),sb=k.removeRange(mb,pb,n.BACKWARD),tb=sb.getSelectionAfter(),ub=tb.getAnchorOffset()-1,vb=tb.merge({anchorOffset:ub,focusOffset:ub}),wb=k.replaceWithFragment(sb,vb,rb),xb=p.push(ib,wb,o.INSERT_FRAGMENT);return p.acceptSelection(xb,qb);}function ya(ib){var jb=ib.getSelection(),kb=jb.getStartKey();return p.set(ib,{selection:jb.merge({anchorKey:kb,anchorOffset:0,focusKey:kb,focusOffset:0,isBackward:false}),forceSelection:true});}function za(ib){var jb=ib.getSelection(),kb=jb.getEndKey(),lb=ib.getCurrentContent(),mb=lb.getBlockForKey(kb).getLength();return p.set(ib,{selection:jb.merge({anchorKey:kb,anchorOffset:mb,focusKey:kb,focusOffset:mb,isBackward:false}),forceSelection:true});}function ab(ib){return ib.length>0;}function bb(ib,jb){var kb=k.replaceWithFragment(ib.getCurrentContent(),ib.getSelection(),jb);return p.push(ib,kb,o.INSERT_FRAGMENT);}function cb(ib){var jb=k.removeRange(ib.getCurrentContent(),ib.getSelection(),n.FORWARD);return p.push(ib,jb,o.REMOVE_RANGE);}function db(ib,jb){var kb=ib.getSelection();if(!kb.isCollapsed())jb(z(ib.getCurrentContent(),kb));}var eb='\'',fb='\/',gb=u.isBrowser('Firefox');function hb(ib){return (gb&&(ib==eb||ib==fb));}e.exports=ha;},null);
__d("TextEditorDragHandler.Experimental",["DataTransfer","DocumentModifierExperimental","EditorState","EditorChangeType","ex","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";function o(event,s){var t,u;if(document.caretRangeFromPoint){var v=document.caretRangeFromPoint(event.x,event.y);t=v.startContainer;u=v.startOffset;}else if(event.rangeParent){t=event.rangeParent;u=event.rangeOffset;}else return null;var w=l(t);if(w===null){var x='';if(t.dataset&&t.dataset.reactid)x=' Node ID: '+t.dataset.reactid;throw new Error(k('Invalid range for drop event.'+x+' Offset: '+u));}return n(s,w,u,w,u);}var p={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(s){var t=new g(s.nativeEvent.dataTransfer),u=this.props.editorState,v=o(s.nativeEvent,u);s.preventDefault();this.exitCurrentMode();if(v===null)return;var w=t.getFiles();if(w.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(v,w))return;m(w,function(x){x&&this.update(r(u,v,x));}.bind(this));return;}if(this._internalDrag){this.update(q(u,v));return;}this.update(r(u,v,t.getText()));}};function q(s,t){var u=h.moveText(s.getCurrentContent(),s.getSelection(),t);return i.push(s,u,j.INSERT_FRAGMENT);}function r(s,t,u){var v=h.insertText(s.getCurrentContent(),t,u,s.getCurrentInlineStyle());return i.push(s,v,j.INSERT_FRAGMENT);}e.exports=p;},null);
__d("AbstractTextEditor.Experimental.react",["AbstractTextEditorPlaceholder.Experimental.react","AbstractTextEditorProps.Experimental","DOMVector","EditorState","React","TextEditorCompositionHandler.Experimental","TextEditorContents.react","TextEditorEditHandler.Experimental","TextEditorDragHandler.Experimental","TextEditorModes","UnicodeBidiService","UserAgent","cx","extendArray","requestAnimationFrame","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";var w=a.MutationObserver||a.WebKitMutationObserver,x=(r.isBrowser('Safari')||r.isBrowser('Mobile Safari')),y=!!w;function z(ca){return function(da){if(!this.props.readOnly){var ea=this._handler&&this._handler[ca];ea&&ea.call(this,da);}};}function aa(ca){switch(ca){case p.EDIT:return n;case p.COMPOSITE:return l;case p.DRAG:return o;case p.CUT:case p.RENDER:return null;}}var ba=k.createClass({displayName:"AbstractTextEditor",getDefaultProps:h.getDefaultProps,_onBlur:z('onBlur'),_onFocus:z('onFocus'),_onSelect:z('onSelect'),_onKeyDown:z('onKeyDown'),_onKeyUp:z('onKeyUp'),_onKeyPress:z('onKeyPress'),_onMouseDown:z('onMouseDown'),_onMouseUp:z('onMouseUp'),_onCharacterData:z('onCharacterData'),_onCompositionStart:z('onCompositionStart'),_onCompositionEnd:z('onCompositionEnd'),_onDragStart:z('onDragStart'),_onDragOver:z('onDragOver'),_onDragEnd:z('onDragEnd'),_onDrop:z('onDrop'),_onCut:z('onCut'),_onCopy:z('onCopy'),_onPaste:z('onPaste'),_onBeforeInput:z('onBeforeInput'),_attachMutationObserver:function(){if(!w)return;var ca=[],da=function(){if(ca.length>1){var ea=ca[0],fa=ea.target;v(function(){if(this.isMounted()&&fa.parentNode)this._onCharacterData(fa);}.bind(this));}ca.length=0;}.bind(this);this._mutationObserver=new w(function(ea){if(this._guardAgainstRender)return;if(x){if(ca.length===0)u(da);t(ca,ea);}else{ca=ea;da();}}.bind(this));this._mutationObserver.observe(this.refs.editorContainer.getDOMNode(),{characterDataOldValue:true,characterData:true,subtree:true});},_renderPlaceholder:function(){var ca=this.props.editorState.getCurrentContent(),da=(this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ca.hasText());if(da)return (k.createElement(g,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},render:function(){var ca=this.props.textAlignment,da=(("_5yw9")+(ca==='left'?' '+"_48yc":'')+(ca==='right'?' '+"_48yd":'')+(ca==='center'?' '+"_48ye":'')),ea=this.props.editorState.getCurrentContent().hasText();return (k.createElement("div",{className:da},this._renderPlaceholder(),k.createElement("div",{className:"_5ywa",ref:"editorContainer"},k.createElement("div",{ref:"editor",title:ea?null:this.props.placeholder,role:this.props.role||"textbox","aria-activedescendant":this.props.ariaActiveDescendantID,"aria-autocomplete":this.props.ariaAutoComplete,"aria-expanded":this.props.ariaExpanded,"aria-owns":this.props.ariaOwneeID,"aria-haspopup":this.props.ariaHasPopup,className:"_54-z",onBlur:this._onBlur,onFocus:this._onFocus,onSelect:this._onSelect,onMouseUp:this._onMouseUp,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,onCut:this._onCut,onCopy:this._onCopy,onPaste:this._onPaste,onDragStart:this._onDragStart,onDragOver:this._onDragOver,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onBeforeInput:this._onBeforeInput,spellCheck:y&&this.props.spellCheck,contentEditable:!this.props.readOnly},k.createElement(m,{bidiService:this._bidiService,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,editorState:this.props.editorState,inlineStyleFn:this.props.inlineStyleFn})))));},focus:function(){var ca=this.props.editorState,da=ca.getSelection().getHasFocus(),ea=i.getScrollPosition();this.refs.editor.getDOMNode().focus();window.scrollTo(ea.x,ea.y);if(da)return;this.update(j.forceSelection(ca,ca.getSelection()));},blur:function(){this.refs.editor.getDOMNode().blur();},componentDidMount:function(){this._renderedVersion=null;this._clipboard=null;this._clonedEditor=null;this._guardAgainstRender=false;this._handler=n;this._attachMutationObserver();},componentWillUpdate:function(ca){this._blockSelectEvents=true;this._bidiService.reset();},componentDidUpdate:function(){this._blockSelectEvents=false;},componentWillMount:function(){this._bidiService=new q();},componentWillUnmount:function(){if(this._mutationObserver){this._mutationObserver.disconnect();this._mutationObserver=null;}},setMode:function(ca){this._handler=aa(ca);},exitCurrentMode:function(){this.setMode(p.EDIT);},captureEditorDOM:function(){this._clonedEditor=this.refs.editor.getDOMNode().cloneNode(true);},restoreEditorDOM:function(){var ca=this.refs.editorContainer.getDOMNode();ca.innerHTML='';ca.appendChild(this._clonedEditor);this.focus();this._clonedEditor=null;},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(ca){this.props.onChange(ca);}});e.exports=ba;},null);
__d("AbstractMentionsTextEditor.Experimental.react",["AbstractTextEditor.Experimental.react","AbstractTextEditorProps.Experimental","DocumentModifierExperimental","EditorChangeType","EditorState","React","TypeaheadNavigation","getOrCreateDOMID","setImmediate","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=l,r=q.PropTypes,s=5,t=l.createClass({displayName:"AbstractMentionsTextEditor",propTypes:Object.assign({},h.propTypes,{mentionsSource:r.object,mentionCreationFn:r.func.isRequired,mentionResultsComponent:r.func.isRequired,mentionResultsProps:r.object,excludedEntries:r.object,handleContentReturn:r.func,onAddMention:r.func,onShowMentions:r.func}),getDefaultProps:h.getDefaultProps,componentWillMount:function(){this._viewID=p();},getInitialState:function(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function(v,w){var x=v&&v.length;if(!x){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var y=v.slice(0,s),z=this.props.typeaheadViewProps;if(z&&z.mentionSortFn)y.sort(z.mentionSortFn);this.setState({highlightedMentionable:v[0],mentionableEntries:y,characterOffset:w});if(this.props.onShowMentions)this.props.onShowMentions(y,w);},_onBlur:function(v){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(v);},_onFocus:function(v){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(v);},_handleReturn:function(v){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,v);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(v))return true;return false;},_onTab:function(v){if(this.state.highlightedMentionable){v.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,v);}else if(this.props.onTab)this.props.onTab(v);},_onEscape:function(v){if(this.props.onEscape)this.props.onEscape(v);if(this.state.mentionableEntries){v.stopPropagation();this.setState(this.getInitialState());}},_onUpArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(v);},_onDownArrow:function(v){if(this.state.mentionableEntries){v.preventDefault();m.moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(v);},_onMentionHighlight:function(v){this.setState({highlightedMentionable:v});},_onMentionRenderHighlight:function(v){var w=n(v);this.setState({ariaActiveDescendantID:w});},_onMentionSelect:function(v,w){var x=this.props.editorState,y=x.getSelection(),z=x.getCurrentContent(),aa=y.getAnchorKey(),ba=y.getAnchorOffset(),ca=z.getBlockMap().get(aa),da=ba-u(ca.getText().substr(0,ba),v.getTitle(),this.state.characterOffset),ea=i.replaceText(z,y.set('anchorOffset',da),v.getTitle(),x.getCurrentInlineStyle(),this.props.mentionCreationFn(v)),fa=k.push(x,ea,j.INSERT_FRAGMENT);this.props.onChange(fa);this.setState(this.getInitialState());if(this.props.onAddMention){var ga=this.state.mentionableEntries.indexOf(v);this.props.onAddMention(v,ga,w);}},shouldComponentUpdate:function(v,w){return (this.props.editorState!==v.editorState||this.state.mentionableEntries!==w.mentionableEntries||this.state.highlightedMentionable!==w.highlightedMentionable||this.state.ariaActiveDescendantID!==w.ariaActiveDescendantID);},componentDidUpdate:function(v){var w=this.props.editorState;if(w===v.editorState)return;var x=w.getSelection();if(x.getHasFocus()&&x.isCollapsed()){var y=w.getCurrentContent();if(this.props.mentionsSource)o(function(){this.props.mentionsSource.searchWithImmutables(y,x,this._onShowMentions);}.bind(this));}},blur:function(){this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor.focus();},_renderMentionables:function(){var v=this.state.mentionableEntries;if(!v||!v.length)return null;var w=this.props.mentionResultsComponent;return (l.createElement(w,l.__spread({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:v||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function(){var v=this.state.mentionableEntries,w=!!(v&&v.length);return (l.createElement("div",{ref:"container",className:this.props.className,tabIndex:"-2"},l.createElement(g,l.__spread({},this.props,{ref:"abstractTextEditor",role:"combobox",ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:"list",ariaOwneeID:this._viewID,ariaExpanded:w,ariaHasPopup:w,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));}});function u(v,w,x){for(var y=x;y<=w.length;y++)if(v.substr(-y)==w.substr(0,y))x=y;return x;}e.exports=t;},null);
__d("createMentionEntity",["ComposedEntityMutability","ComposedEntityType","DocumentEntity"],function(a,b,c,d,e,f,g,h,i){function j(k){var l=k.getType().toLowerCase()==='user'?g.SEGMENTED:g.IMMUTABLE,m=k.getAuxiliaryData();return i.create(h.MENTION,l,{id:k.getUniqueID(),isWeak:m&&m.renderType==='non_member'});}e.exports=j;},null);
__d("MentionsInput.Experimental.react",["AbstractMentionsTextEditor.Experimental.react","EditorState","MentionsLayer.react","React","createMentionEntity","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j,o=n.PropTypes,p=j.createClass({displayName:"MentionsInput",propTypes:{editorState:o.instanceOf(h).isRequired,mentionsSource:o.object,typeaheadView:o.func.isRequired,typeaheadViewPropTypes:o.object,spellCheck:o.bool,placeholder:o.string,className:o.string,autoflip:o.bool,handleContentReturn:o.func,handleDroppedFiles:o.func,handlePastedFiles:o.func,onAddMention:o.func,onShowMentions:o.func,onChange:o.func,onInputFocus:o.func,onInputBlur:o.func},blur:function(){this.refs.textEditor.blur();},focus:function(){this.refs.textEditor.focus();},render:function(){var q=m(this.props.className,"_5yk1");return (j.createElement("div",{className:q,onClick:this.focus,onFocus:this.focus},j.createElement(g,j.__spread({},this.props,{mentionResultsComponent:i,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip},mentionCreationFn:k,ref:"textEditor",className:"_5yk2",stripPastedStyles:true}))));}});e.exports=p;},null);
__d("ContentState",["DocumentCharacters","immutable"],function(a,b,c,d,e,f,g,h){"use strict";var i=g.SOFT_NEWLINE,j=h.Record({blockMap:null,selectionBefore:null,selectionAfter:null});for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){if(j!==null)j.apply(this,arguments);}m.prototype.getBlockMap=function(){return this.blockMap;};m.prototype.getSelectionBefore=function(){return this.selectionBefore;};m.prototype.getSelectionAfter=function(){return this.selectionAfter;};m.prototype.getBlockForKey=function(n){return this.getBlockMap().get(n);};m.prototype.getKeyBefore=function(n){return this.getBlockMap().reverse().keySeq().skipUntil(function(o){return o===n;}).skip(1).first();};m.prototype.getKeyAfter=function(n){return this.getBlockMap().keySeq().skipUntil(function(o){return o===n;}).skip(1).first();};m.prototype.getBlockAfter=function(n){return this.getBlockMap().skipUntil(function(o,p){return p===n;}).skip(1).first();};m.prototype.getBlockBefore=function(n){return this.getBlockMap().reverse().skipUntil(function(o,p){return p===n;}).skip(1).first();};m.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};m.prototype.getLastBlock=function(){return this.getBlockMap().last();};m.prototype.getPlainText=function(n){return this.getBlockMap().map(function(o){return o.getText();}).join(n||i);};m.prototype.hasText=function(){var n=this.getBlockMap();return (n.size>1||n.first().getLength()>0);};e.exports=m;},null);
__d("createEmptySelectionState",["SelectionState"],function(a,b,c,d,e,f,g){"use strict";function h(i){return new g({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:false,hasFocus:false});}e.exports=h;},null);
__d("createContentStateFromBlocks",["ContentState","createEmptySelectionState","createOrderedMapFromBlockArray"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k){var l=i(k),m=h(l.first().getKey());return new g({blockMap:l,selectionBefore:m,selectionAfter:m});}e.exports=j;},null);
__d("createInitialEditorState",["EditorState","immutable","createEmptySelectionState"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k,l){var m=k.getBlockMap().first().getKey();return g.create({currentContent:k,undoStack:h.Stack(),redoStack:h.Stack(),decorator:l||null,selection:i(m)});}e.exports=j;},null);
__d("createPlainBlocksFromText",["CharacterMetadata","ComposedBlockType","ContentBlock","immutable","generateBlockKey"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m){return m.map(function(n){var o=n.length;return new i({key:k(),text:n,type:h.UNSTYLED,characterList:j.List(j.Repeat(g.EMPTY,o))});});}e.exports=l;},null);
__d("createEditorStateWithEntities",["DocumentCharacters","EditorState","applyEntityToContentBlock","createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=new RegExp(g.SOFT_NEWLINE,'ig');function n(o){var p=o,q=p.text,r=p.ranges,s=p.decorator,t=p.entityCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(m):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=l(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||(da>=ha&&da<ia)){ea=z[ga];fa=da-ha;break;}}z[ga]=i(ea,fa,fa+ba.length,ca);});var aa=k(j(z),s);if(v===false)aa=h.set(aa,{allowUndo:false});return aa;}e.exports=n;},null);
__d("createEmptyEditorState",["createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k){var l=i(['']),m=g(l);return h(m,k);}e.exports=j;},null);
__d("getMentionsTextForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){var k=j.thatReturnsTrue,l=/[\\\]:]/g;function m(o){var p=o.getBlockMap().map(function(q){var r=q.getText(),s=[];q.findEntityRanges(k,function(t,u){s.push(n(r.slice(t,u),q.getEntityAt(t)));});return s.join('');});return p.join(h.SOFT_NEWLINE);}function n(o,p){if(p){var q=i.get(p);if(q.getType()===g.MENTION){o=o.replace(l,function(r){return '\\'+r;});return '@['+q.getData().id+':'+o+']';}else if(q.getType()===g.EMOTICON)return q.getData().originalEmoticon;}return o.replace('@[','@ [');}e.exports=m;},null);
__d("getVisibleValueForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){var k=g.EMOTICON,l=h.SOFT_NEWLINE;function m(n){var o=n.getBlockMap().map(function(p){var q=p.getText(),r='';p.findEntityRanges(j.thatReturnsTrue,function(s,t){var u=p.getEntityAt(s);if(u===null){r+=q.slice(s,t);}else{var v=i.get(u);if(v.getType()===k){r+=v.getData().originalEmoticon;}else r+=q.slice(s,t);}});return r;});return o.join(l);}e.exports=m;},null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","ComposedEntityMutability","ComposedEntityType","DocumentEntity","EmoticonsList","immutable"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=l,n=m.List,o='\u3000';function p(q,r,s){if(!k.emotes[r])return q;var t=j.create(i.EMOTICON,h.IMMUTABLE,{type:k.emotes[r],originalEmoticon:r}),u=q.getText(),v=q.getCharacterList(),w=r.length,x=v.get(s);return q.merge({text:(u.slice(0,s)+o+u.slice(s+w)),characterList:v.slice(0,s).concat(n.of(g.applyEntity(x,t)),v.slice(s+w))});}e.exports=p;},null);
__d("getTextAfterNearestEntity",[],function(a,b,c,d,e,f){function g(h,i){var j=i;while(j>0&&h.getEntityAt(j-1)===null)j--;return h.getText().slice(j,i);}e.exports=g;},null);
__d("applyEmoticonToContentState",["EmoticonsList","applyEmoticonToContentBlock","getTextAfterNearestEntity"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=new RegExp(g.regexp.source,'g');function k(l,m){var n=m.getAnchorKey(),o=m.getAnchorOffset(),p=l.getBlockForKey(n),q=i(p,o),r,s;while(s!==null){s=j.exec(q);if(s!==null)r=s;}if(!r)return l;var t=r[1];if(!t&&o!==q.length)return l;var u=r[2],v=o-q.length,w=v+r.index+r[1].length,x=l.getBlockMap().set(n,h(p,u,w));o-=(u.length-1);return l.merge({blockMap:x,selectionBefore:m,selectionAfter:m.merge({anchorOffset:o,focusOffset:o})});}e.exports=k;},null);
__d("handleBeforeInputForEmoticon",["DocumentModifierExperimental","EditorChangeType","EditorState","applyEmoticonToContentState"],function(a,b,c,d,e,f,g,h,i,j){var k=new RegExp(/[\s'".,!?]/);function l(m,n){var o=m.getSelection();if(!o.isCollapsed()||!n||!k.test(n))return m;var p=m.getCurrentContent(),q=j(p,o);if(q===p)return m;var r=g.insertText(q,q.getSelectionAfter(),n);return i.push(m,r,h.INSERT_CHARACTERS);}e.exports=l;},null);
__d("handleSoftNewlineForEmoticon",["DocumentModifierExperimental","EditorChangeType","EditorState","applyEmoticonToContentState"],function(a,b,c,d,e,f,g,h,i,j){function k(l){var m=l.getCurrentContent(),n=l.getSelection(),o=j(m,n);if(o===m)return l;var p=g.splitBlock(o,o.getSelectionAfter());return i.push(l,p,h.SPLIT_BLOCK);}e.exports=k;},null);
__d("isSoftNewlineEvent",["Keys"],function(a,b,c,d,e,f,g){function h(i){return i.which===g.RETURN&&(i.getModifierState('Shift')||i.getModifierState('Alt')||i.getModifierState('Control'));}e.exports=h;},null);
__d("UFIMentionsInput.react",["Arbiter","BanzaiScuba","Bootloader","CommentPrelude","ComposedEntityMutability","ComposedEntityType","DocumentEntity","DocumentModifierExperimental","DOMVector","EditorChangeType","EditorState","Input","Keys","MentionsInput.Experimental.react","React","SelectionState","UserAgent","URI","createEditorStateWithEntities","createEmptyEditorState","createMentionEntity","cx","emptyFunction","getMentionsInputDecorator","getMentionsTextForContentState","getVisibleValueForContentState","handleBeforeInputForEmoticon","handleSoftNewlineForEmoticon","isSoftNewlineEvent","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){var ka=new h('ufi_tinder',null,{addBrowserFields:true,addGeoFields:true,addPredictedGeographyFields:true,addMobileDeviceFields:true,addUser:true}),la=200,ma=((w.isPlatform('iOS')||w.isPlatform('Linux')||w.isPlatform('Mac OS X')||w.isPlatform('Windows')||w.isPlatform('Chrome OS'))&&(w.isBrowser('Chrome')||w.isBrowser('Firefox >= 16')||w.isBrowser('IE >= 9')||w.isBrowser('Opera >= 12')||w.isBrowser('Mobile Safari >= 6')||w.isBrowser('Safari >= 5')));function na(ra){var sa=ra.map(function(ta){return {kind:'file',type:ta.type,getAsFile:ca.thatReturns(ta)};});return {clipboardData:{items:sa}};}function oa(ra){var sa=/^image\//;return ra.filter(function(ta){return sa.test(ta.type);});}var pa=u.createClass({displayName:"UFIMentionsInput",getInitialState:function(){var ra='',sa=[];if(this.props.initialData){ra=this.props.initialData.value||'';sa=this.props.initialData.mentions||[];sa=sa.map(function(ua){return Object.assign({},ua,{entity:{uid:ua.uid,weakreference:ua.weakreference}});});}var ta=y({text:ra,ranges:sa,decorator:da(),entityCreationFn:qa});ta=q.moveSelectionToEnd(ta);return {bootloaded:false,fullRender:!!(this.props.initialData&&this.props.initialData.value),typeaheadReporter:null,editorState:ta,mentionsSource:null,mentionableEntries:null,fallbackText:ra};},hasEnteredText:function(){return !!this.state.editorState.getCurrentContent().getPlainText().trim();},focus:function(){this._triggerFullRender(function(){if(ma){this.refs.mentionsInput.focus();}else this.refs.textarea.getDOMNode().focus();}.bind(this));},submitComment:function(event){if(this._submitComment(event))this._clearDocumentState();},insertMention:function(ra){this._triggerFullRender(function(){if(ma){var sa=this.state.editorState,ta=sa.getSelection(),ua=sa.getCurrentContent(),va=ta.getStartKey(),wa=ta.getStartOffset(),xa=ua.getBlockForKey(va),ya;if(xa.getText().substr(wa-1,1).trim().length>0){var za=n.replaceText(ua,ta,' ');ta=za.getSelectionAfter();ya=n.insertText(za,ta,ra.getTitle(),sa.getCurrentInlineStyle(),aa(ra));}else ya=n.replaceText(ua,ta,ra.getTitle(),sa.getCurrentInlineStyle(),aa(ra));sa=q.push(sa,ya,p.INSERT_FRAGMENT);sa=q.forceSelection(sa,sa.getSelection());this.setState({editorState:sa});this.focus();}else{this.refs.textarea.getDOMNode().focus();if(this.state.fallbackText.length){this.setState({fallbackText:this.state.fallbackText+' '+ra.title});}else this.setState({fallbackText:ra.title});}}.bind(this));},insertEmoticon:function(ra){if(!ma){this.setState({fallbackText:this.state.fallbackText+' '+ra});return;}var sa=this.state.editorState,ta=sa.getCurrentContent(),ua=sa.getSelection(),va=ta.getBlockForKey(ua.getStartKey()).getText()[ua.getStartOffset()-1];if(va&&va!==' ')ra=' '+ra;var wa=ta.getBlockForKey(ua.getEndKey()).getText()[ua.getEndOffset()];if(wa&&wa!==' ')ra+=' ';var xa=n.replaceText(sa.getCurrentContent(),sa.getSelection(),ra);sa=q.push(sa,xa,p.INSERT_CHARACTERS);sa=q.forceSelection(sa,sa.getSelection());this.setState({editorState:sa});},setSignature:function(ra){setTimeout(function(){var sa=this.state.editorState,ta=sa.getSelection(),ua=sa.getCurrentContent(),va=ua.getBlockMap().first(),wa=va.getKey();ta=new v({anchorKey:wa,anchorOffset:0,focusKey:wa,focusOffset:ra.length});ua=n.replaceText(ua,ta,ra);sa=q.set(sa,{currentContent:ua});this.setState({editorState:sa});}.bind(this),0);},_informHeightChange:function(){if(this.props.monitorHeight)ja(function(){if(!this.isMounted())return;var ra=ma?this.refs.mentionsInput.getDOMNode():this.refs.textarea.getDOMNode(),sa=o.getElementDimensions(ra).y;if(sa!==this._height){this._height=sa;g.inform('ufi/inputHeightChanged',{node:ra});}}.bind(this));},_onChange:function(ra){this.setState({editorState:ra},this._informHeightChange);},_clearDocumentState:function(){this.state.typeaheadReporter&&this.state.typeaheadReporter.sessionEnd();var ra=z(da());this.setState({editorState:q.moveFocusToEnd(ra)});},_handleContentReturn:function(ra){if(ia(ra)){var sa=ha(this.state.editorState);if(sa===this.state.editorState){return false;}else{this.setState({editorState:sa});return true;}}if(this._submitComment(ra)){this._clearDocumentState();return true;}return false;},_handleBeforeInput:function(ra){var sa=ga(this.state.editorState,ra);if(sa===this.state.editorState){return false;}else{this.setState({editorState:sa});return true;}},_submitComment:function(ra){var sa=this.state.editorState.getCurrentContent(),ta=fa(sa),ua=ea(sa),va={visibleValue:ta,encodedValue:ua},wa=r.getValue(this.refs.proxyInput.getDOMNode());if(wa){var xa=new x(a.location.href);ka.addNormal('path',xa.getPath());ka.addNormal('proxy_value',wa.substr(0,la));ka.post();}return this.props.onEnterSubmit(va,ra);},_handleFiles:function(ra){var sa=oa(ra);if(sa.length){this.props.onPaste(na(sa));return true;}return false;},_handleDroppedFiles:function(ra,sa){return this._handleFiles(sa);},_handlePastedFiles:function(ra){return this._handleFiles(ra);},_onMentionsInputBlur:function(){this.state.typeaheadReporter&&this.state.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur();g.inform('ufi/blur',{hasEnteredText:this.hasEnteredText()});},_onMentionsInputFocus:function(){if(!this.state.bootloaded&&!this._currentlyBootloading){this._currentlyBootloading=true;i.loadModules(["TypeaheadMetricReporter","getMentionsSearchSource"],function(ra,sa){if(!this.isMounted())return;var ta=new ra({event_name:'tinder_mentions'});ta.sessionStart();var ua=sa(this.props.datasource,ta);ua.bootstrap();this.setState({typeaheadReporter:ta,bootloaded:true,mentionsSource:ua},function(){this._currentlyBootloading=false;}.bind(this));}.bind(this));}else if(this.state.typeaheadReporter)this.state.typeaheadReporter.sessionStart();this.props.onFocus&&this.props.onFocus();g.inform('ufi/focus');},_onShowMentions:function(ra,sa){if(this.state.typeaheadReporter)this.state.typeaheadReporter.reportResults(ra.map(function(ta){return ta.getUniqueID();}));},_onAddMention:function(ra,sa,ta){if(this.state.typeaheadReporter){this.state.typeaheadReporter.reportSelect(ra.getUniqueID(),ra.getType(),sa,ta.button>=0);this.state.typeaheadReporter.sessionEnd();}},_onFallbackKeyDown:function(ra){if(ra.which!==s.RETURN)return;if(ia(ra)||!this.state.fallbackText.trim())return;ra.preventDefault();var sa={visibleValue:this.state.fallbackText,encodedValue:this.state.fallbackText};if(this.props.onEnterSubmit(sa,ra))this.setState({fallbackText:''});},_onFallbackChange:function(ra){this.setState({fallbackText:ra.target.value});},_onFallbackBlur:function(ra){this.props.onBlur&&this.props.onBlur();},_onFallbackFocus:function(ra){this.props.onFocus&&this.props.onFocus();},_sortByRenderType:function(ra,sa){var ta=ra.getAuxiliaryData().renderType,ua=sa.getAuxiliaryData().renderType;if(ta===ua)return ra.getOrder()-sa.getOrder();var va=this.props.viewOptionsTypeObjectsOrder;return va.indexOf(ta)-va.indexOf(ua);},_triggerFullRender:function(ra){this.setState({fullRender:true},ra);},_triggerFullRenderWithoutCallback:function(){this._triggerFullRender();},_renderFallback:function(){return (u.createElement("div",null,u.createElement("textarea",{ref:"textarea",className:"UFIAddCommentInput _1os9",name:"add_comment_text",placeholder:this.props.placeholder,spellCheck:true,onKeyDown:this._onFallbackKeyDown,onChange:this._onFallbackChange,onBlur:this._onFallbackBlur,onFocus:this._onFallbackFocus,value:this.state.fallbackText})));},_renderProxyInput:function(){if(!this.props.hideProxyInput){var ra="_1osa mentionsHidden";return (u.createElement("input",{className:ra,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus,tabIndex:"-1"}));}},_renderDummy:function(){var ra="UFIAddCommentInput _1osb _1osc";return (u.createElement("div",{onFocus:this._triggerFullRenderWithoutCallback,onSelect:ca,onClick:this._triggerFullRenderWithoutCallback,onTouchStart:this._triggerFullRenderWithoutCallback,onMouseOver:this._triggerFullRenderWithoutCallback},this._renderProxyInput(),u.createElement("div",{className:ra},this.props.placeholder)));},_onClickEditorContainer:function(ra){j.click(ra.target,false);},_renderMentionsInput:function(){var ra="UFIAddCommentInput _1osb",sa=Object.assign({mentionSortFn:(this.props.viewOptionsTypeObjectsOrder?this._sortByRenderType:null)},this.props.viewProps);return (u.createElement("div",{onClick:this._onClickEditorContainer},this._renderProxyInput(),u.createElement(t,{ref:"mentionsInput",className:ra,editorState:this.state.editorState,onChange:this._onChange,mentionsSource:this.state.mentionsSource,typeaheadView:this.props.viewComponent,typeaheadViewProps:sa,spellCheck:true,placeholder:this.props.placeholder,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onMentionsInputFocus,onBlur:this._onMentionsInputBlur,handleContentReturn:this._handleContentReturn,handleBeforeInput:this._handleBeforeInput,handlePastedFiles:this._handlePastedFiles,handleDroppedFiles:this._handleDroppedFiles,autoflip:this.props.autoflip})));},componentDidMount:function(){if(!ma){if(this.state.fallbackText)this.refs.textarea.getDOMNode().focus();}else if(this.state.editorState.getCurrentContent().hasText())ja(function(){this.isMounted()&&this.focus();}.bind(this));},render:function(){if(!ma)return this._renderFallback();if(!this.state.fullRender)return this._renderDummy();return this._renderMentionsInput();}});function qa(ra){return m.create(l.MENTION,k.IMMUTABLE,{id:ra.uid,isWeak:ra.weakreference});}e.exports=pa;},null);
__d("MentionsInputTypeaheadView.react",["MentionsTypeaheadViewItem.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h,k=j.PropTypes,l=h.createClass({displayName:"MentionsInputTypeaheadView",propTypes:{id:k.string,highlightedEntry:k.object,entries:k.array.isRequired,onSelect:k.func.isRequired,onHighlight:k.func,onRenderHighlight:k.func},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (h.createElement(g,{key:m.getUniqueID(),entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_5u8_")+(!this.props.entries.length?' '+"_5u90":''));return (h.createElement("ul",{className:m,role:"listbox",id:this.props.id},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);